import{_ as Oe}from"./Cu1174pi.js";import{M as qe,Y as Me,E as F,h as b,w as A,G as S,I as oe,L as n,P as ve,B as he,x as ye,Z as Ie,$ as Ce,a0 as Se,C as B,D as Z,r as _,o as ge,f as ue,c as P,d as E,n as h,a1 as pe,J as we,a2 as $e,a3 as me,a4 as Ae,a5 as Be,a6 as Fe,a7 as Ee,a8 as H,a9 as Ue,e as O,z as ne,t as se,aa as De,ab as Ve,ac as xe,ad as ze,ae as ce,b as Te,af as fe,ag as _e,ah as Pe,ai as Re,aj as Ke,U as Le}from"./CFiT0uwx.js";import{u as ke,a as We}from"./Y8cuGPQy.js";import{a as Ge,_ as He}from"./B-cR0fmX.js";var Ze=qe({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(i){const r=i;return Me(),(l,e)=>(b(),F(n(ve),oe(r,{onMousedown:e[0]||(e[0]=s=>{!s.defaultPrevented&&s.detail>1&&s.preventDefault()})}),{default:A(()=>[S(l.$slots,"default")]),_:3},16))}}),Je=Ze;const Ye={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Qe=["id","type","value","name","placeholder","disabled","required","autocomplete"],Xe=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:[String,Object],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},emits:["update:modelValue","blur","change"],setup(i,{expose:r,emit:l}){const e=i,s=l,p=he(),u=ke(e,"modelValue",s,{defaultValue:e.defaultValue}),f=ye(),{emitFormBlur:x,emitFormInput:w,emitFormChange:m,size:M,color:V,id:k,name:v,highlight:I,disabled:R,emitFormFocus:J,ariaAttrs:Y}=Ie(e,{deferInputValidation:!0}),{orientation:K,size:D}=Ce(e),{isLeading:L,isTrailing:N,leadingIconName:g,trailingIconName:z}=Se(e),Q=B(()=>D.value||M.value),q=B(()=>Z({extend:Z(Ye),...f.ui?.input||{}})({type:e.type,color:V.value,variant:e.variant,size:Q?.value,loading:e.loading,highlight:I.value,leading:L.value||!!e.avatar||!!p.leading,trailing:N.value||!!p.trailing,fieldGroup:K.value})),X=_(null);function ae(c){e.modelModifiers?.trim&&(c=c?.trim()??null),(e.modelModifiers?.number||e.type==="number")&&(c=$e(c)),e.modelModifiers?.nullable&&(c||=null),e.modelModifiers?.optional&&(c||=void 0),u.value=c,w()}function re(c){e.modelModifiers?.lazy||ae(c.target.value)}function W(c){const T=c.target.value;e.modelModifiers?.lazy&&ae(T),e.modelModifiers?.trim&&(c.target.value=T.trim()),m(),s("change",c)}function d(c){x(),s("blur",c)}function $(){e.autofocus&&X.value?.focus()}return ge(()=>{setTimeout(()=>{$()},e.autofocusDelay)}),r({inputRef:X}),(c,T)=>(b(),F(n(ve),{as:i.as,class:h(q.value.root({class:[e.ui?.root,e.class]}))},{default:A(()=>[ue("input",oe({id:n(k),ref_key:"inputRef",ref:X,type:i.type,value:n(u),name:n(v),placeholder:i.placeholder,class:q.value.base({class:e.ui?.base}),disabled:n(R),required:i.required,autocomplete:i.autocomplete},{...c.$attrs,...n(Y)},{onInput:re,onBlur:d,onChange:W,onFocus:T[0]||(T[0]=(...ie)=>n(J)&&n(J)(...ie))}),null,16,Qe),S(c.$slots,"default",{ui:q.value}),n(L)||i.avatar||p.leading?(b(),P("span",{key:0,class:h(q.value.leading({class:e.ui?.leading}))},[S(c.$slots,"leading",{ui:q.value},()=>[n(L)&&n(g)?(b(),F(pe,{key:0,name:n(g),class:h(q.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):i.avatar?(b(),F(we,oe({key:1,size:e.ui?.leadingAvatarSize||q.value.leadingAvatarSize()},i.avatar,{class:q.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):E("",!0)])],2)):E("",!0),n(N)||p.trailing?(b(),P("span",{key:1,class:h(q.value.trailing({class:e.ui?.trailing}))},[S(c.$slots,"trailing",{ui:q.value},()=>[n(z)?(b(),F(pe,{key:0,name:n(z),class:h(q.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):E("",!0)])],2)):E("",!0)]),_:3},8,["as","class"]))}}),ea={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-default",container:"mt-1 relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}}},defaultVariants:{size:"md"}},aa=["id"],ia=["id"],ta=["id"],ra=["id"],na={__name:"UFormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(i){const r=i,l=he(),e=ye(),s=B(()=>Z({extend:Z(ea),...e.ui?.formField||{}})({size:r.size,required:r.required})),p=me(Ae,null),u=B(()=>r.error||p?.value?.find(m=>m.name===r.name||r.errorPattern&&m.name?.match(r.errorPattern))?.message),f=_(Be()),x=f.value,w=me(Fe,void 0);return Ee(f,()=>{w&&r.name&&(w.value[r.name]={id:f.value,pattern:r.errorPattern})},{immediate:!0}),H(De,f),H(Ue,B(()=>({error:u.value,name:r.name,size:r.size,eagerValidation:r.eagerValidation,validateOnInputDelay:r.validateOnInputDelay,errorPattern:r.errorPattern,hint:r.hint,description:r.description,help:r.help,ariaId:x}))),(m,M)=>(b(),F(n(ve),{as:i.as,class:h(s.value.root({class:[r.ui?.root,r.class]}))},{default:A(()=>[ue("div",{class:h(s.value.wrapper({class:r.ui?.wrapper}))},[i.label||l.label?(b(),P("div",{key:0,class:h(s.value.labelWrapper({class:r.ui?.labelWrapper}))},[O(n(Je),{for:f.value,class:h(s.value.label({class:r.ui?.label}))},{default:A(()=>[S(m.$slots,"label",{label:i.label},()=>[ne(se(i.label),1)])]),_:3},8,["for","class"]),i.hint||l.hint?(b(),P("span",{key:0,id:`${n(x)}-hint`,class:h(s.value.hint({class:r.ui?.hint}))},[S(m.$slots,"hint",{hint:i.hint},()=>[ne(se(i.hint),1)])],10,aa)):E("",!0)],2)):E("",!0),i.description||l.description?(b(),P("p",{key:1,id:`${n(x)}-description`,class:h(s.value.description({class:r.ui?.description}))},[S(m.$slots,"description",{description:i.description},()=>[ne(se(i.description),1)])],10,ia)):E("",!0)],2),ue("div",{class:h([(i.label||!!l.label||i.description||!!l.description)&&s.value.container({class:r.ui?.container})])},[S(m.$slots,"default",{error:u.value}),typeof u.value=="string"&&u.value||l.error?(b(),P("div",{key:0,id:`${n(x)}-error`,class:h(s.value.error({class:r.ui?.error}))},[S(m.$slots,"error",{error:u.value},()=>[ne(se(u.value),1)])],10,ta)):i.help||l.help?(b(),P("div",{key:1,id:`${n(x)}-help`,class:h(s.value.help({class:r.ui?.help}))},[S(m.$slots,"help",{help:i.help},()=>[ne(se(i.help),1)])],10,ra)):E("",!0)],2)]),_:3},8,["as","class"]))}},sa={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},la=["id","value","name","rows","placeholder","disabled","required"],oa=Object.assign({inheritAttrs:!1},{__name:"UTextarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:[String,Object],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},emits:["update:modelValue","blur","change"],setup(i,{expose:r,emit:l}){const e=i,s=l,p=he(),u=ke(e,"modelValue",s,{defaultValue:e.defaultValue}),f=ye(),{emitFormFocus:x,emitFormBlur:w,emitFormInput:m,emitFormChange:M,size:V,color:k,id:v,name:I,highlight:R,disabled:J,ariaAttrs:Y}=Ie(e,{deferInputValidation:!0}),{isLeading:K,isTrailing:D,leadingIconName:L,trailingIconName:N}=Se(e),g=B(()=>Z({extend:Z(sa),...f.ui?.textarea||{}})({color:k.value,variant:e.variant,size:V?.value,loading:e.loading,highlight:R.value,autoresize:e.autoresize,leading:K.value||!!e.avatar||!!p.leading,trailing:D.value||!!p.trailing})),z=_(null);function Q(d){e.modelModifiers?.trim&&(d=d?.trim()??null),e.modelModifiers?.number&&(d=$e(d)),e.modelModifiers?.nullable&&(d||=null),e.modelModifiers?.optional&&(d||=void 0),u.value=d,m()}function q(d){W(),e.modelModifiers?.lazy||Q(d.target.value)}function X(d){const $=d.target.value;e.modelModifiers?.lazy&&Q($),e.modelModifiers?.trim&&(d.target.value=$.trim()),M(),s("change",d)}function ae(d){w(),s("blur",d)}function re(){e.autofocus&&z.value?.focus()}function W(){if(e.autoresize&&z.value){z.value.rows=e.rows;const d=z.value.style.overflow;z.value.style.overflow="hidden";const $=window.getComputedStyle(z.value),c=Number.parseInt($.paddingTop),T=Number.parseInt($.paddingBottom),ie=c+T,de=Number.parseInt($.lineHeight),{scrollHeight:a}=z.value,t=(a-ie)/de;t>e.rows&&(z.value.rows=e.maxrows?Math.min(t,e.maxrows):t),z.value.style.overflow=d}}return Ee(u,()=>{Ve(W)}),ge(()=>{setTimeout(()=>{re()},e.autofocusDelay),setTimeout(()=>{W()},e.autoresizeDelay)}),r({textareaRef:z}),(d,$)=>(b(),F(n(ve),{as:i.as,class:h(g.value.root({class:[e.ui?.root,e.class]}))},{default:A(()=>[ue("textarea",oe({id:n(v),ref_key:"textareaRef",ref:z,value:n(u),name:n(I),rows:i.rows,placeholder:i.placeholder,class:g.value.base({class:e.ui?.base}),disabled:n(J),required:i.required},{...d.$attrs,...n(Y)},{onInput:q,onBlur:ae,onChange:X,onFocus:$[0]||($[0]=(...c)=>n(x)&&n(x)(...c))}),null,16,la),S(d.$slots,"default",{ui:g.value}),n(K)||i.avatar||p.leading?(b(),P("span",{key:0,class:h(g.value.leading({class:e.ui?.leading}))},[S(d.$slots,"leading",{ui:g.value},()=>[n(K)&&n(L)?(b(),F(pe,{key:0,name:n(L),class:h(g.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):i.avatar?(b(),F(we,oe({key:1,size:e.ui?.leadingAvatarSize||g.value.leadingAvatarSize()},i.avatar,{class:g.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):E("",!0)])],2)):E("",!0),n(D)||p.trailing?(b(),P("span",{key:1,class:h(g.value.trailing({class:e.ui?.trailing}))},[S(d.$slots,"trailing",{ui:g.value},()=>[n(N)?(b(),F(pe,{key:0,name:n(N),class:h(g.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):E("",!0)])],2)):E("",!0)]),_:3},8,["as","class"]))}});function ua(i){return"schema"in i&&typeof i.coercer=="function"&&typeof i.validator=="function"&&typeof i.refiner=="function"}function da(i){return"~standard"in i}async function ca(i,r){const l=await r["~standard"].validate(i);return l.issues?{errors:l.issues?.map(e=>({name:e.path?.map(s=>typeof s=="object"?s.key:s).join(".")||"",message:e.message}))||[],result:null}:{errors:null,result:l.value}}async function fa(i,r){const[l,e]=r.validate(i);return l?{errors:l.failures().map(p=>({message:p.message,name:p.path.join(".")})),result:null}:{errors:null,result:e}}function ga(i,r){if(da(r))return ca(i,r);if(ua(r))return fa(i,r);throw new Error("Form validation failed: Unsupported form schema")}function pa(i,r){return r?r.split(".").reduce((e,s)=>e?.[s],i):i}function ma(i,r,l){if(!r)return Object.assign(i,l);if(!i)return i;const e=r.split(".");let s=i;for(let u=0;u<e.length-1;u++){const f=e[u];(s[f]===void 0||s[f]===null)&&(u+1<e.length&&!Number.isNaN(Number(e[u+1]))?s[f]=[]:s[f]={}),s=s[f]}const p=e[e.length-1];return s[p]=l,i}class le extends Error{formId;errors;constructor(r,l){super("Form validation exception"),this.formId=r,this.errors=l,Object.setPrototypeOf(this,le.prototype)}}const va={base:""},ya={__name:"UForm",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:null,required:!1},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},name:{type:null,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},nested:{type:null,required:!1},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(i,{expose:r,emit:l}){const e=i,s=l,p=ye(),u=B(()=>Z({extend:Z(va),...p.ui?.form||{}})),f=e.id??Be(),x=We(`form-${f}`),w=e.nested?.toString()===""||e.nested===!0,m=w&&me(xe,void 0),M=w?me(ze,void 0):void 0,V=B(()=>M?.value?e.name?pa(M.value,e.name):M.value:e.state);H(xe,x),H(ze,V);const k=_(new Map);ge(async()=>{m&&(await Ve(),m.emit({type:"attach",validate:N,formId:f,name:e.name,api:de}))}),Te(()=>{x.reset(),m&&m.emit({type:"detach",formId:f})}),ge(async()=>{x.on(async a=>{a.type==="attach"?k.value.set(a.formId,{validate:a.validate,name:a.name,api:a.api}):a.type==="detach"?k.value.delete(a.formId):e.validateOn?.includes(a.type)&&!g.value&&(a.type!=="input"?await N({name:a.name,silent:!0,nested:!1}):(a.eager||Y.has(a.name))&&await N({name:a.name,silent:!0,nested:!1})),a.type==="blur"&&Y.add(a.name),(a.type==="change"||a.type==="input"||a.type==="blur"||a.type==="focus")&&J.add(a.name),(a.type==="change"||a.type==="input")&&R.add(a.name)})});const v=_([]);H(Ae,v);const I=_({});H(Fe,I);const R=fe(new Set),J=fe(new Set),Y=fe(new Set);function K(a){return a.map(t=>({...t,id:t?.name?I.value[t.name]?.id:void 0}))}const D=_(null);async function L(){let a=e.validate?await e.validate(V.value)??[]:[];if(e.schema){const{errors:t,result:o}=await ga(V.value,e.schema);t?a=a.concat(t):D.value=o}return K(a)}async function N(a={silent:!1,nested:!1,transform:!1}){const t=a.name&&!Array.isArray(a.name)?[a.name]:a.name;let o=[],y=[];if(!t&&a.nested){const G=Array.from(k.value.values()).map(U=>q(U,a)),C=await Promise.all(G);y=C.filter(U=>U.error).flatMap(U=>U.error.errors.map(je=>X(je,U.name))),o=C.filter(U=>U.output!==void 0)}const te=[...await L(),...y];if(t?v.value=c(te,t):v.value=te,v.value?.length){if(a.silent)return!1;throw new le(f,v.value)}return a.transform?(o.forEach(G=>{G.name?ma(D.value,G.name,G.output):Object.assign(D.value,G.output)}),D.value??V.value):V.value}const g=_(!1);H(_e,ce(g));async function z(a){g.value=e.loadingAuto&&!0;const t=a;try{t.data=await N({nested:!0,transform:e.transform}),await e.onSubmit?.(t),R.clear()}catch(o){if(!(o instanceof le))throw o;const y={...t,errors:o.errors};s("error",y)}finally{g.value=!1}}const Q=B(()=>e.disabled||g.value);H(Pe,B(()=>({disabled:Q.value,validateOnInputDelay:e.validateOnInputDelay})));async function q(a,t){try{const o=await a.validate({...t,silent:!1});return{name:a.name,output:o}}catch(o){if(!(o instanceof le))throw o;return{name:a.name,error:o}}}function X(a,t){return!t||!a.name?a:{...a,name:t+"."+a.name}}function ae(a,t){const o=t+".",y=a?.name?.startsWith(o)?a.name.substring(o.length):a.name;return{...a,name:y}}function re(a,t){return t?a.filter(o=>o?.name?.startsWith(t+".")).map(o=>ae(o,t)):a}function W(a){return a.api.getErrors().map(t=>a.name?{...t,name:a.name+"."+t.name}:t)}function d(a,t){return!a||!t?!0:a instanceof RegExp?a.test(t):t===a||typeof a=="string"&&a.startsWith(t+".")}function $(a,t){if(!a||a instanceof RegExp)return a;if(t!==a)return typeof a=="string"&&a.startsWith(t+".")?a.substring(t.length+1):a}function c(a,t){const o=new Set(t),y=t.map(C=>I.value?.[C]?.pattern).filter(Boolean),j=C=>C.name?o.has(C.name)?!0:y.some(U=>U.test(C.name)):!1,te=v.value.filter(C=>!j(C)),G=a.filter(j);return[...te,...G]}function T(a,t){return a.filter(o=>t instanceof RegExp?!(o.name&&t.test(o.name)):!o.name||o.name!==t)}function ie(a){return!a.name||!!I.value[a.name]}const de={validate:N,errors:v,setErrors(a,t){const o=K(a.filter(ie)),y=[];for(const j of k.value.values())if(d(t,j.name)){const te=re(a,j.name);j.api.setErrors(te,$(t,j.name||"")),y.push(...W(j))}if(t){const j=T(v.value,t);v.value=[...j,...o,...y]}else v.value=[...o,...y]},async submit(){await z(new Event("submit"))},getErrors(a){return a?v.value.filter(t=>a instanceof RegExp?t.name&&a.test(t.name):t.name===a):v.value},clear(a){const t=a?v.value.filter(y=>ie(y)&&(a instanceof RegExp?!(y.name&&a.test(y.name)):y.name!==a)):[],o=[];for(const y of k.value.values())d(a,y.name)&&y.api.clear(),o.push(...W(y));v.value=[...t,...o]},disabled:Q,loading:g,dirty:B(()=>!!R.size),dirtyFields:ce(R),blurredFields:ce(Y),touchedFields:ce(J)};return r(de),(a,t)=>(b(),F(Ke(n(m)?"div":"form"),{id:n(f),class:h(u.value({class:e.class})),onSubmit:Re(z,["prevent"])},{default:A(()=>[S(a.$slots,"default",{errors:v.value,loading:g.value})]),_:3},40,["id","class"]))}},Ne=i=>{if(i=n(i),Array.isArray(i))return!!i.length;if(i==null)return!1;if(i===!1)return!0;if(i instanceof Date)return!isNaN(i.getTime());if(typeof i=="object"){for(let r in i)return!0;return!1}return!!String(i).length};function ee(){for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=>(e=n(e),!Ne(e)||r.every(s=>(s.lastIndex=0,s.test(e))))}ee(/^[a-zA-Z]*$/);ee(/^[a-zA-Z0-9]*$/);ee(/^\d*(\.\d+)?$/);const ba=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var ha=ee(ba),xa={$validator:ha,$message:"Value is not a valid email address",$params:{type:"email"}};function za(i){return typeof i=="string"&&(i=i.trim()),Ne(i)}var be={$validator:za,$message:"Value is required",$params:{type:"required"}};const qa=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;ee(qa);ee(/(^[0-9]*$)|(^-[0-9]+$)/);ee(/^[-]?\d*(\.\d+)?$/);const Ia={class:"flex"},Ba=qe({__name:"contact",setup(i){const r=_("Kontakt"),l=fe({name:"",email:"",message:""}),e=B(()=>({email:{required:be,email:xa},name:{required:be},message:{required:be}}));async function s(p){console.log(p.data)}return(p,u)=>{const f=Oe,x=Xe,w=na,m=oa,M=Le,V=ya,k=He,v=Ge;return b(),F(v,null,{default:A(()=>[O(f,{title:n(r)},null,8,["title"]),O(k,null,{default:A(()=>[ue("div",Ia,[O(V,{state:n(l),schema:n(e),class:"space-y-4 w-fit",onSubmit:s},{default:A(()=>[O(w,{label:"Name",name:"name"},{default:A(()=>[O(x,{modelValue:n(l).name,"onUpdate:modelValue":u[0]||(u[0]=I=>n(l).name=I)},null,8,["modelValue"])]),_:1}),O(w,{label:"E-Mail",name:"email"},{default:A(()=>[O(x,{modelValue:n(l).email,"onUpdate:modelValue":u[1]||(u[1]=I=>n(l).email=I),type:"email"},null,8,["modelValue"])]),_:1}),O(w,{label:"Nachricht",name:"message"},{default:A(()=>[O(m,{modelValue:n(l).message,"onUpdate:modelValue":u[2]||(u[2]=I=>n(l).message=I)},null,8,["modelValue"])]),_:1}),O(M,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Ba as default};
