import{aB as X,aC as P,aD as Y,r as g,aE as N,E as V,aF as q,a1 as W,B as F,o as z,as as G}from"./CRoGywK4.js";function M(e){return P()?(Y(e),!0):!1}function se(e){let t=0,n,o;const i=()=>{t-=1,o&&t<=0&&(o.stop(),n=void 0,o=void 0)};return(...r)=>(t+=1,n||(o=X(!0),n=o.run(()=>e(...r))),M(i),n)}function E(e){return typeof e=="function"?e():V(e)}const R=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=e=>e!=null,U=Object.prototype.toString,$=e=>U.call(e)==="[object Object]",A=()=>{};function H(e,t){function n(...o){return new Promise((i,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(r)})}return n}const J=e=>e();function K(e,t={}){let n,o,i=A;const r=a=>{clearTimeout(a),i(),i=A};return a=>{const u=E(e),l=E(t.maxWait);return n&&r(n),u<=0||l!==void 0&&l<=0?(o&&(r(o),o=null),Promise.resolve(a())):new Promise((s,f)=>{i=t.rejectOnCancel?f:s,l&&!o&&(o=setTimeout(()=>{n&&r(n),o=null,s(a())},l)),n=setTimeout(()=>{o&&r(o),o=null,s(a())},u)})}}function Q(...e){let t=0,n,o=!0,i=A,r,c,a,u,l;!q(e[0])&&typeof e[0]=="object"?{delay:c,trailing:a=!0,leading:u=!0,rejectOnCancel:l=!1}=e[0]:[c,a=!0,u=!0,l=!1]=e;const s=()=>{n&&(clearTimeout(n),n=void 0,i(),i=A)};return p=>{const v=E(c),w=Date.now()-t,y=()=>r=p();return s(),v<=0?(t=Date.now(),y()):(w>v&&(u||!o)?(t=Date.now(),y()):a&&(r=new Promise((S,T)=>{i=l?T:S,n=setTimeout(()=>{t=Date.now(),o=!0,S(y()),s()},Math.max(0,v-w))})),!u&&!n&&(n=setTimeout(()=>o=!0,v)),o=!1,r)}}function Z(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const o=t;t=void 0,o&&await o},n}function ie(e,t=200,n={}){return H(K(t,n),e)}function k(e,t,n={}){const{eventFilter:o=J,...i}=n;return W(e,H(o,t),i)}function ee(e,t,n={}){const{immediate:o=!0}=n,i=g(!1);let r=null;function c(){r&&(clearTimeout(r),r=null)}function a(){i.value=!1,c()}function u(...l){c(),i.value=!0,r=setTimeout(()=>{i.value=!1,r=null,e(...l)},E(t))}return o&&(i.value=!0,R&&u()),M(a),{isPending:N(i),start:u,stop:a}}function ue(e,t,n={}){const{throttle:o=0,trailing:i=!0,leading:r=!0,...c}=n;return k(e,t,{...c,eventFilter:Q(o,i,r)})}function B(e){var t;const n=E(e);return(t=n==null?void 0:n.$el)!=null?t:n}const _=R?window:void 0,L=R?window.navigator:void 0;function b(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=_):[t,n,o,i]=e,!t)return A;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],c=()=>{r.forEach(s=>s()),r.length=0},a=(s,f,p,v)=>(s.addEventListener(f,p,v),()=>s.removeEventListener(f,p,v)),u=W(()=>[B(t),E(i)],([s,f])=>{if(c(),!s)return;const p=$(f)?{...f}:f;r.push(...n.flatMap(v=>o.map(w=>a(s,v,w,p))))},{immediate:!0,flush:"post"}),l=()=>{u(),c()};return M(l),l}function te(){const e=g(!1),t=G();return t&&z(()=>{e.value=!0},t),e}function j(e){const t=te();return F(()=>(t.value,!!e()))}function ne(e,t,n={}){const{window:o=_,...i}=n;let r;const c=j(()=>o&&"MutationObserver"in o),a=()=>{r&&(r.disconnect(),r=void 0)},u=F(()=>{const p=E(e),v=(Array.isArray(p)?p:[p]).map(B).filter(I);return new Set(v)}),l=W(()=>u.value,p=>{a(),c.value&&p.size&&(r=new MutationObserver(t),p.forEach(v=>r.observe(v,i)))},{immediate:!0,flush:"post"}),s=()=>r==null?void 0:r.takeRecords(),f=()=>{a(),l()};return M(f),{isSupported:c,stop:f,takeRecords:s}}function le(e={}){var t;const{window:n=_,deep:o=!0,triggerOnRemoval:i=!1}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,c=()=>{var l;let s=r==null?void 0:r.activeElement;if(o)for(;s!=null&&s.shadowRoot;)s=(l=s==null?void 0:s.shadowRoot)==null?void 0:l.activeElement;return s},a=g(),u=()=>{a.value=c()};return n&&(b(n,"blur",l=>{l.relatedTarget===null&&u()},!0),b(n,"focus",u,!0)),i&&ne(r,l=>{l.filter(s=>s.removedNodes.length).map(s=>Array.from(s.removedNodes)).flat().forEach(s=>{s===a.value&&u()})},{childList:!0,subtree:!0}),u(),a}function D(e,t={}){const{controls:n=!1,navigator:o=L}=t,i=j(()=>o&&"permissions"in o);let r;const c=typeof e=="string"?{name:e}:e,a=g(),u=()=>{r&&(a.value=r.state)},l=Z(async()=>{if(i.value){if(!r)try{r=await o.permissions.query(c),b(r,"change",u),u()}catch{a.value="prompt"}return r}});return l(),n?{state:a,isSupported:i,query:l}:a}function ae(e={}){const{navigator:t=L,read:n=!1,source:o,copiedDuring:i=1500,legacy:r=!1}=e,c=j(()=>t&&"clipboard"in t),a=D("clipboard-read"),u=D("clipboard-write"),l=F(()=>c.value||r),s=g(""),f=g(!1),p=ee(()=>f.value=!1,i);function v(){c.value&&T(a.value)?t.clipboard.readText().then(m=>{s.value=m}):s.value=S()}l.value&&n&&b(["copy","cut"],v);async function w(m=E(o)){l.value&&m!=null&&(c.value&&T(u.value)?await t.clipboard.writeText(m):y(m),s.value=m,f.value=!0,p.start())}function y(m){const h=document.createElement("textarea");h.value=m??"",h.style.position="absolute",h.style.opacity="0",document.body.appendChild(h),h.select(),document.execCommand("copy"),h.remove()}function S(){var m,h,C;return(C=(h=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:h.toString())!=null?C:""}function T(m){return m==="granted"||m==="prompt"}return{isSupported:l,text:s,copied:f,copy:w}}const O=new Map;function ce(e){const t=P();function n(a){var u;const l=O.get(e)||new Set;l.add(a),O.set(e,l);const s=()=>i(a);return(u=t==null?void 0:t.cleanups)==null||u.push(s),s}function o(a){function u(...l){i(u),a(...l)}return n(u)}function i(a){const u=O.get(e);u&&(u.delete(a),u.size||r())}function r(){O.delete(e)}function c(a,u){var l;(l=O.get(e))==null||l.forEach(s=>s(a,u))}return{on:n,once:o,off:i,emit:c,reset:r}}const oe={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function fe(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:o=!1,initialValue:i={x:0,y:0},window:r=_,target:c=r,scroll:a=!0,eventFilter:u}=e;let l=null;const s=g(i.x),f=g(i.y),p=g(null),v=typeof t=="function"?t:oe[t],w=d=>{const x=v(d);l=d,x&&([s.value,f.value]=x,p.value="mouse")},y=d=>{if(d.touches.length>0){const x=v(d.touches[0]);x&&([s.value,f.value]=x,p.value="touch")}},S=()=>{if(!l||!r)return;const d=v(l);l instanceof MouseEvent&&d&&(s.value=d[0]+r.scrollX,f.value=d[1]+r.scrollY)},T=()=>{s.value=i.x,f.value=i.y},m=u?d=>u(()=>w(d),{}):d=>w(d),h=u?d=>u(()=>y(d),{}):d=>y(d),C=u?()=>u(()=>S(),{}):()=>S();if(c){const d={passive:!0};b(c,["mousemove","dragover"],m,d),n&&t!=="movement"&&(b(c,["touchstart","touchmove"],h,d),o&&b(c,"touchend",T,d)),a&&t==="page"&&b(r,"scroll",C,{passive:!0})}return{x:s,y:f,sourceType:p}}export{B as a,ie as b,se as c,_ as d,ce as e,le as f,ae as g,fe as u,ue as w};
