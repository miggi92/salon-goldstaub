var Be=Object.defineProperty;var Ve=(a,i,r)=>i in a?Be(a,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[i]=r;var se=(a,i,r)=>Ve(a,typeof i!="symbol"?i+"":i,r);import{_ as Fe}from"./aDY5ZetL.js";import{u as he,a as ke}from"./1AtZds94.js";import{L as be,X as Ne,D as M,h as y,w as j,E as S,H as te,K as s,P as de,B as fe,x as ce,Y as xe,Z as je,$ as ze,C as U,a0 as Z,r as Y,o as oe,f as re,c as J,d as C,n as v,a1 as ue,I as qe,a2 as Ie,a3 as we,a4 as Se,a5 as X,a6 as Me,e as D,z as ee,t as ae,a7 as Ce,a8 as Ee,a9 as $e,aa as ye,ab as le,b as ve,ac as ne,ad as Oe,ae as De,af as Ue,ag as Pe,ah as Te,S as _e}from"./nEK7AWuc.js";import{a as Ke,_ as Re}from"./ChfcwFNB.js";import"./BSVobMQx.js";const Ge=be({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(a){const i=a;return Ne(),(r,e)=>(y(),M(s(de),te(i,{onMousedown:e[0]||(e[0]=o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})}),{default:j(()=>[S(r.$slots,"default")]),_:3},16))}}),He={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Le=["id","type","value","name","placeholder","disabled","required","autocomplete"],Ye=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:i,emit:r}){const e=a,o=r,p=fe(),g=he(e,"modelValue",o,{defaultValue:e.defaultValue}),q=ce(),{emitFormBlur:x,emitFormInput:f,emitFormChange:$,size:d,color:I,id:A,name:E,highlight:z,disabled:P,emitFormFocus:T,ariaAttrs:R}=xe(e,{deferInputValidation:!0}),{orientation:w,size:k}=je(e),{isLeading:G,isTrailing:W,leadingIconName:t,trailingIconName:l}=ze(e),h=U(()=>k.value||d.value),b=U(()=>{var n;return Z({extend:Z(He),...((n=q.ui)==null?void 0:n.input)||{}})({type:e.type,color:I.value,variant:e.variant,size:h==null?void 0:h.value,loading:e.loading,highlight:z.value,leading:G.value||!!e.avatar||!!p.leading,trailing:W.value||!!p.trailing,buttonGroup:w.value})}),B=Y(null);function _(n){var c,V,F;(c=e.modelModifiers)!=null&&c.trim&&(n=(n==null?void 0:n.trim())??null),((V=e.modelModifiers)!=null&&V.number||e.type==="number")&&(n=Ie(n)),(F=e.modelModifiers)!=null&&F.nullify&&(n||(n=null)),g.value=n,f()}function H(n){var c;(c=e.modelModifiers)!=null&&c.lazy||_(n.target.value)}function O(n){var V,F;const c=n.target.value;(V=e.modelModifiers)!=null&&V.lazy&&_(c),(F=e.modelModifiers)!=null&&F.trim&&(n.target.value=c.trim()),$(),o("change",n)}function u(n){x(),o("blur",n)}function m(){var n;e.autofocus&&((n=B.value)==null||n.focus())}return oe(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),i({inputRef:B}),(n,c)=>{var V;return y(),M(s(de),{as:a.as,class:v(b.value.root({class:[(V=e.ui)==null?void 0:V.root,e.class]}))},{default:j(()=>{var F,N,L;return[re("input",te({id:s(A),ref_key:"inputRef",ref:B,type:a.type,value:s(g),name:s(E),placeholder:a.placeholder,class:b.value.base({class:(F=e.ui)==null?void 0:F.base}),disabled:s(P),required:a.required,autocomplete:a.autocomplete},{...n.$attrs,...s(R)},{onInput:H,onBlur:u,onChange:O,onFocus:c[0]||(c[0]=(...K)=>s(T)&&s(T)(...K))}),null,16,Le),S(n.$slots,"default"),s(G)||a.avatar||p.leading?(y(),J("span",{key:0,class:v(b.value.leading({class:(N=e.ui)==null?void 0:N.leading}))},[S(n.$slots,"leading",{},()=>{var K,pe,me;return[s(G)&&s(t)?(y(),M(ue,{key:0,name:s(t),class:v(b.value.leadingIcon({class:(K=e.ui)==null?void 0:K.leadingIcon}))},null,8,["name","class"])):a.avatar?(y(),M(qe,te({key:1,size:((pe=e.ui)==null?void 0:pe.leadingAvatarSize)||b.value.leadingAvatarSize()},a.avatar,{class:b.value.leadingAvatar({class:(me=e.ui)==null?void 0:me.leadingAvatar})}),null,16,["size","class"])):C("",!0)]})],2)):C("",!0),s(W)||p.trailing?(y(),J("span",{key:1,class:v(b.value.trailing({class:(L=e.ui)==null?void 0:L.trailing}))},[S(n.$slots,"trailing",{},()=>{var K;return[s(l)?(y(),M(ue,{key:0,name:s(l),class:v(b.value.trailingIcon({class:(K=e.ui)==null?void 0:K.trailingIcon}))},null,8,["name","class"])):C("",!0)]})],2)):C("",!0)]}),_:3},8,["as","class"])}}}),Je={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-default",container:"mt-1 relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}}},defaultVariants:{size:"md"}},We=["id"],Ze=["id"],Xe=["id"],Qe=["id"],ea={__name:"UFormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const i=a,r=fe(),e=ce(),o=U(()=>{var f;return Z({extend:Z(Je),...((f=e.ui)==null?void 0:f.formField)||{}})({size:i.size,required:i.required})}),p=we("form-errors",null),g=U(()=>{var f,$;return i.error||(($=(f=p==null?void 0:p.value)==null?void 0:f.find(d=>d.name&&(d.name===i.name||i.errorPattern&&d.name.match(i.errorPattern))))==null?void 0:$.message)}),q=Y(Se()),x=q.value;return X(Ce,q),X(Me,U(()=>({error:g.value,name:i.name,size:i.size,eagerValidation:i.eagerValidation,validateOnInputDelay:i.validateOnInputDelay,errorPattern:i.errorPattern,hint:i.hint,description:i.description,help:i.help,ariaId:x}))),(f,$)=>{var d;return y(),M(s(de),{as:a.as,class:v(o.value.root({class:[(d=i.ui)==null?void 0:d.root,i.class]}))},{default:j(()=>{var I,A,E,z,P,T,R,w;return[re("div",{class:v(o.value.wrapper({class:(I=i.ui)==null?void 0:I.wrapper}))},[a.label||r.label?(y(),J("div",{key:0,class:v(o.value.labelWrapper({class:(A=i.ui)==null?void 0:A.labelWrapper}))},[D(s(Ge),{for:q.value,class:v(o.value.label({class:(E=i.ui)==null?void 0:E.label}))},{default:j(()=>[S(f.$slots,"label",{label:a.label},()=>[ee(ae(a.label),1)])]),_:3},8,["for","class"]),a.hint||r.hint?(y(),J("span",{key:0,id:`${s(x)}-hint`,class:v(o.value.hint({class:(z=i.ui)==null?void 0:z.hint}))},[S(f.$slots,"hint",{hint:a.hint},()=>[ee(ae(a.hint),1)])],10,We)):C("",!0)],2)):C("",!0),a.description||r.description?(y(),J("p",{key:1,id:`${s(x)}-description`,class:v(o.value.description({class:(P=i.ui)==null?void 0:P.description}))},[S(f.$slots,"description",{description:a.description},()=>[ee(ae(a.description),1)])],10,Ze)):C("",!0)],2),re("div",{class:v([(a.label||!!r.label||a.description||!!r.description)&&o.value.container({class:(T=i.ui)==null?void 0:T.container})])},[S(f.$slots,"default",{error:g.value}),typeof g.value=="string"&&g.value||r.error?(y(),J("div",{key:0,id:`${s(x)}-error`,class:v(o.value.error({class:(R=i.ui)==null?void 0:R.error}))},[S(f.$slots,"error",{error:g.value},()=>[ee(ae(g.value),1)])],10,Xe)):a.help||r.help?(y(),J("div",{key:1,id:`${s(x)}-help`,class:v(o.value.help({class:(w=i.ui)==null?void 0:w.help}))},[S(f.$slots,"help",{help:a.help},()=>[ee(ae(a.help),1)])],10,Qe)):C("",!0)],2)]}),_:3},8,["as","class"])}}},aa={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},ia=["id","value","name","rows","placeholder","disabled","required"],ta=Object.assign({inheritAttrs:!1},{__name:"UTextarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:i,emit:r}){const e=a,o=r,p=fe(),g=he(e,"modelValue",o,{defaultValue:e.defaultValue}),q=ce(),{emitFormFocus:x,emitFormBlur:f,emitFormInput:$,emitFormChange:d,size:I,color:A,id:E,name:z,highlight:P,disabled:T,ariaAttrs:R}=xe(e,{deferInputValidation:!0}),{isLeading:w,isTrailing:k,leadingIconName:G,trailingIconName:W}=ze(e),t=U(()=>{var u;return Z({extend:Z(aa),...((u=q.ui)==null?void 0:u.textarea)||{}})({color:A.value,variant:e.variant,size:I==null?void 0:I.value,loading:e.loading,highlight:P.value,autoresize:e.autoresize,leading:w.value||!!e.avatar||!!p.leading,trailing:k.value||!!p.trailing})}),l=Y(null);function h(u){var m,n,c;(m=e.modelModifiers)!=null&&m.trim&&(u=(u==null?void 0:u.trim())??null),(n=e.modelModifiers)!=null&&n.number&&(u=Ie(u)),(c=e.modelModifiers)!=null&&c.nullify&&(u||(u=null)),g.value=u,$()}function b(u){var m;O(),(m=e.modelModifiers)!=null&&m.lazy||h(u.target.value)}function B(u){var n,c;const m=u.target.value;(n=e.modelModifiers)!=null&&n.lazy&&h(m),(c=e.modelModifiers)!=null&&c.trim&&(u.target.value=m.trim()),d(),o("change",u)}function _(u){f(),o("blur",u)}function H(){var u;e.autofocus&&((u=l.value)==null||u.focus())}function O(){if(e.autoresize&&l.value){l.value.rows=e.rows;const u=l.value.style.overflow;l.value.style.overflow="hidden";const m=window.getComputedStyle(l.value),n=Number.parseInt(m.paddingTop),c=Number.parseInt(m.paddingBottom),V=n+c,F=Number.parseInt(m.lineHeight),{scrollHeight:N}=l.value,L=(N-V)/F;L>e.rows&&(l.value.rows=e.maxrows?Math.min(L,e.maxrows):L),l.value.style.overflow=u}}return Ee(g,()=>{$e(O)}),oe(()=>{setTimeout(()=>{H()},e.autofocusDelay),setTimeout(()=>{O()},e.autoresizeDelay)}),i({textareaRef:l}),(u,m)=>{var n;return y(),M(s(de),{as:a.as,class:v(t.value.root({class:[(n=e.ui)==null?void 0:n.root,e.class]}))},{default:j(()=>{var c,V,F;return[re("textarea",te({id:s(E),ref_key:"textareaRef",ref:l,value:s(g),name:s(z),rows:a.rows,placeholder:a.placeholder,class:t.value.base({class:(c=e.ui)==null?void 0:c.base}),disabled:s(T),required:a.required},{...u.$attrs,...s(R)},{onInput:b,onBlur:_,onChange:B,onFocus:m[0]||(m[0]=(...N)=>s(x)&&s(x)(...N))}),null,16,ia),S(u.$slots,"default"),s(w)||a.avatar||p.leading?(y(),J("span",{key:0,class:v(t.value.leading({class:(V=e.ui)==null?void 0:V.leading}))},[S(u.$slots,"leading",{},()=>{var N,L,K;return[s(w)&&s(G)?(y(),M(ue,{key:0,name:s(G),class:v(t.value.leadingIcon({class:(N=e.ui)==null?void 0:N.leadingIcon}))},null,8,["name","class"])):a.avatar?(y(),M(qe,te({key:1,size:((L=e.ui)==null?void 0:L.leadingAvatarSize)||t.value.leadingAvatarSize()},a.avatar,{class:t.value.leadingAvatar({class:(K=e.ui)==null?void 0:K.leadingAvatar})}),null,16,["size","class"])):C("",!0)]})],2)):C("",!0),s(k)||p.trailing?(y(),J("span",{key:1,class:v(t.value.trailing({class:(F=e.ui)==null?void 0:F.trailing}))},[S(u.$slots,"trailing",{},()=>{var N;return[s(W)?(y(),M(ue,{key:0,name:s(W),class:v(t.value.trailingIcon({class:(N=e.ui)==null?void 0:N.trailingIcon}))},null,8,["name","class"])):C("",!0)]})],2)):C("",!0)]}),_:3},8,["as","class"])}}});function ra(a){return a.validate&&a.__isYupSchema__}function sa(a){return a.inner!==void 0}function na(a){return"schema"in a&&typeof a.coercer=="function"&&typeof a.validator=="function"&&typeof a.refiner=="function"}function la(a){return a.validateAsync!==void 0&&a.id!==void 0}function oa(a){return a.isJoi===!0}function ua(a){return"~standard"in a}async function da(a,i){var e;const r=await i["~standard"].validate(a);return r.issues?{errors:((e=r.issues)==null?void 0:e.map(o=>{var p;return{name:((p=o.path)==null?void 0:p.map(g=>typeof g=="object"?g.key:g).join("."))||"",message:o.message}}))||[],result:null}:{errors:null,result:r.value}}async function ca(a,i){try{return{errors:null,result:await i.validate(a,{abortEarly:!1})}}catch(r){if(sa(r))return{errors:r.inner.map(o=>({name:o.path??"",message:o.message})),result:null};throw r}}async function ga(a,i){const[r,e]=i.validate(a);return r?{errors:r.failures().map(p=>({message:p.message,name:p.path.join(".")})),result:null}:{errors:null,result:e}}async function fa(a,i){try{return{errors:null,result:await i.validateAsync(a,{abortEarly:!1})}}catch(r){if(oa(r))return{errors:r.details.map(o=>({name:o.path.join("."),message:o.message})),result:null};throw r}}function pa(a,i){if(ua(i))return da(a,i);if(la(i))return fa(a,i);if(ra(i))return ca(a,i);if(na(i))return ga(a,i);throw new Error("Form validation failed: Unsupported form schema")}class ie extends Error{constructor(r,e,o){super("Form validation exception");se(this,"formId");se(this,"errors");se(this,"children");this.formId=r,this.errors=e,this.children=o,Object.setPrototypeOf(this,ie.prototype)}}const ma={base:""},ya={__name:"UForm",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:Object,required:!0},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},attach:{type:Boolean,required:!1,default:!0},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(a,{expose:i,emit:r}){const e=a,o=r,p=ce(),g=U(()=>{var t;return Z({extend:Z(ma),...((t=p.ui)==null?void 0:t.form)||{}})}),q=e.id??Se(),x=ke(`form-${q}`),f=e.attach&&we(ye,void 0);X(ye,x);const $=Y(new Map);oe(async()=>{x.on(async t=>{var l;t.type==="attach"?$.value.set(t.formId,{validate:t.validate}):t.type==="detach"?$.value.delete(t.formId):(l=e.validateOn)!=null&&l.includes(t.type)&&!k.value&&(t.type!=="input"?await w({name:t.name,silent:!0,nested:!1}):(t.eager||z.has(t.name))&&await w({name:t.name,silent:!0,nested:!1})),t.type==="blur"&&z.add(t.name),(t.type==="change"||t.type==="input"||t.type==="blur"||t.type==="focus")&&E.add(t.name),(t.type==="change"||t.type==="input")&&A.add(t.name)})}),ve(()=>{x.reset()}),oe(async()=>{f&&(await $e(),f.emit({type:"attach",validate:w,formId:q}))}),ve(()=>{f&&f.emit({type:"detach",formId:q})});const d=Y([]);X("form-errors",d);const I=Y({});X(Te,I);const A=le(new Set),E=le(new Set),z=le(new Set);function P(t){return t.map(l=>{var h;return{...l,id:l!=null&&l.name?(h=I.value[l.name])==null?void 0:h.id:void 0}})}const T=Y(null);async function R(){let t=e.validate?await e.validate(e.state)??[]:[];if(e.schema){const{errors:l,result:h}=await pa(e.state,e.schema);l?t=t.concat(l):T.value=h}return P(t)}async function w(t={silent:!1,nested:!0,transform:!1}){const l=t.name&&!Array.isArray(t.name)?[t.name]:t.name,h=!l&&t.nested?Array.from($.value.values()).map(({validate:B})=>B(t).then(()=>{}).catch(_=>{if(!(_ instanceof ie))throw _;return _})):[];if(l){const B=d.value.filter(H=>!l.some(O=>{var m,n,c;const u=(n=(m=I.value)==null?void 0:m[O])==null?void 0:n.pattern;return O===H.name||u&&((c=H.name)==null?void 0:c.match(u))})),_=(await R()).filter(H=>l.some(O=>{var m,n,c;const u=(n=(m=I.value)==null?void 0:m[O])==null?void 0:n.pattern;return O===H.name||u&&((c=H.name)==null?void 0:c.match(u))}));d.value=B.concat(_)}else d.value=await R();const b=(await Promise.all(h)).filter(B=>B!==void 0);if(d.value.length+b.length>0){if(t.silent)return!1;throw new ie(q,d.value,b)}return t.transform&&Object.assign(e.state,T.value),e.state}const k=Y(!1);X(Oe,ne(k));async function G(t){var h;k.value=e.loadingAuto&&!0;const l=t;try{l.data=await w({nested:!0,transform:e.transform}),await((h=e.onSubmit)==null?void 0:h.call(e,l)),A.clear()}catch(b){if(!(b instanceof ie))throw b;const B={...l,errors:b.errors,children:b.children};o("error",B)}finally{k.value=!1}}const W=U(()=>e.disabled||k.value);return X(De,U(()=>({disabled:W.value,validateOnInputDelay:e.validateOnInputDelay}))),i({validate:w,errors:d,setErrors(t,l){l?d.value=d.value.filter(h=>h.name!==l).concat(P(t)):d.value=P(t)},async submit(){await G(new Event("submit"))},getErrors(t){return t?d.value.filter(l=>l.name===t):d.value},clear(t){t?d.value=d.value.filter(l=>l.name!==t):d.value=[]},disabled:W,loading:k,dirty:U(()=>!!A.size),dirtyFields:ne(A),blurredFields:ne(z),touchedFields:ne(E)}),(t,l)=>(y(),M(Pe(s(f)?"div":"form"),{id:s(q),class:v(g.value({class:e.class})),onSubmit:Ue(G,["prevent"])},{default:j(()=>[S(t.$slots,"default",{errors:d.value,loading:k.value})]),_:3},40,["id","class"]))}},Ae=a=>{if(a=s(a),Array.isArray(a))return!!a.length;if(a==null)return!1;if(a===!1)return!0;if(a instanceof Date)return!isNaN(a.getTime());if(typeof a=="object"){for(let i in a)return!0;return!1}return!!String(a).length};function Q(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=>(e=s(e),!Ae(e)||i.every(o=>(o.lastIndex=0,o.test(e))))}Q(/^[a-zA-Z]*$/);Q(/^[a-zA-Z0-9]*$/);Q(/^\d*(\.\d+)?$/);const va=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var ha=Q(va),ba={$validator:ha,$message:"Value is not a valid email address",$params:{type:"email"}};function xa(a){return typeof a=="string"&&(a=a.trim()),Ae(a)}var ge={$validator:xa,$message:"Value is required",$params:{type:"required"}};const za=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;Q(za);Q(/(^[0-9]*$)|(^-[0-9]+$)/);Q(/^[-]?\d*(\.\d+)?$/);const qa={class:"flex"},Va=be({__name:"contact",setup(a){const i=Y("Kontakt"),r=le({name:"",email:"",message:""}),e=U(()=>({email:{required:ge,email:ba},name:{required:ge},message:{required:ge}}));async function o(p){console.log(p.data)}return(p,g)=>{const q=Fe,x=Ye,f=ea,$=ta,d=_e,I=ya,A=Re,E=Ke;return y(),M(E,null,{default:j(()=>[D(q,{title:s(i)},null,8,["title"]),D(A,null,{default:j(()=>[re("div",qa,[D(I,{state:s(r),schema:s(e),class:"space-y-4 w-fit",onSubmit:o},{default:j(()=>[D(f,{label:"Name",name:"name"},{default:j(()=>[D(x,{modelValue:s(r).name,"onUpdate:modelValue":g[0]||(g[0]=z=>s(r).name=z)},null,8,["modelValue"])]),_:1}),D(f,{label:"E-Mail",name:"email"},{default:j(()=>[D(x,{modelValue:s(r).email,"onUpdate:modelValue":g[1]||(g[1]=z=>s(r).email=z),type:"email"},null,8,["modelValue"])]),_:1}),D(f,{label:"Nachricht",name:"message"},{default:j(()=>[D($,{modelValue:s(r).message,"onUpdate:modelValue":g[2]||(g[2]=z=>s(r).message=z)},null,8,["modelValue"])]),_:1}),D(d,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Va as default};
