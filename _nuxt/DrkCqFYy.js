import{aF as N,aG as Y,aH as V,r as b,a3 as q,ay as S,aI as I,L as F,z as A,aJ as H,o as U,aw as J,aa as $,x as K}from"./B9Klmx37.js";function R(e){return Y()?(V(e),!0):!1}function fe(e){let t=0,n,o;const i=()=>{t-=1,o&&t<=0&&(o.stop(),n=void 0,o=void 0)};return(...r)=>(t+=1,o||(o=N(!0),n=o.run(()=>e(...r))),R(i),n)}const j=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Q=e=>e!=null,Z=Object.prototype.toString,k=e=>Z.call(e)==="[object Object]",x=()=>{};function L(e,t){function n(...o){return new Promise((i,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(r)})}return n}const ee=e=>e();function te(e,t={}){let n,o,i=x;const r=a=>{clearTimeout(a),i(),i=x};return a=>{const u=S(e),l=S(t.maxWait);return n&&r(n),u<=0||l!==void 0&&l<=0?(o&&(r(o),o=null),Promise.resolve(a())):new Promise((s,f)=>{i=t.rejectOnCancel?f:s,l&&!o&&(o=setTimeout(()=>{n&&r(n),o=null,s(a())},l)),n=setTimeout(()=>{o&&r(o),o=null,s(a())},u)})}}function ne(...e){let t=0,n,o=!0,i=x,r,c,a,u,l;!I(e[0])&&typeof e[0]=="object"?{delay:c,trailing:a=!0,leading:u=!0,rejectOnCancel:l=!1}=e[0]:[c,a=!0,u=!0,l=!1]=e;const s=()=>{n&&(clearTimeout(n),n=void 0,i(),i=x)};return d=>{const p=S(c),w=Date.now()-t,g=()=>r=d();return s(),p<=0?(t=Date.now(),g()):(w>p&&(u||!o)?(t=Date.now(),g()):a&&(r=new Promise((E,T)=>{i=l?T:E,n=setTimeout(()=>{t=Date.now(),o=!0,E(g()),s()},Math.max(0,p-w))})),!u&&!n&&(n=setTimeout(()=>o=!0,p)),o=!1,r)}}function oe(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const o=t;t=void 0,o&&await o},n}function C(e){return Array.isArray(e)?e:[e]}function de(e,t=200,n={}){return L(te(t,n),e)}function re(e,t,n={}){const{eventFilter:o=ee,...i}=n;return F(e,L(o,t),i)}function se(e,t,n={}){const{immediate:o=!0}=n,i=b(!1);let r=null;function c(){r&&(clearTimeout(r),r=null)}function a(){i.value=!1,c()}function u(...l){c(),i.value=!0,r=setTimeout(()=>{i.value=!1,r=null,e(...l)},S(t))}return o&&(i.value=!0,j&&u()),R(a),{isPending:q(i),start:u,stop:a}}function pe(e,t,n={}){const{throttle:o=0,trailing:i=!0,leading:r=!0,...c}=n;return re(e,t,{...c,eventFilter:ne(o,i,r)})}const M=j?window:void 0,z=j?window.navigator:void 0;function P(e){var t;const n=S(e);return(t=n==null?void 0:n.$el)!=null?t:n}function y(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=M):[t,n,o,i]=e,!t)return x;n=C(n),o=C(o);const r=[],c=()=>{r.forEach(s=>s()),r.length=0},a=(s,f,d,p)=>(s.addEventListener(f,d,p),()=>s.removeEventListener(f,d,p)),u=F(()=>[P(t),S(i)],([s,f])=>{if(c(),!s)return;const d=k(f)?{...f}:f;r.push(...n.flatMap(p=>o.map(w=>a(s,p,w,d))))},{immediate:!0,flush:"post"}),l=()=>{u(),c()};return R(l),l}function ie(){const e=b(!1),t=J();return t&&U(()=>{e.value=!0},t),e}function D(e){const t=ie();return A(()=>(t.value,!!e()))}function ue(e,t,n={}){const{window:o=M,...i}=n;let r;const c=D(()=>o&&"MutationObserver"in o),a=()=>{r&&(r.disconnect(),r=void 0)},u=A(()=>{const d=S(e),p=C(d).map(P).filter(Q);return new Set(p)}),l=F(()=>u.value,d=>{a(),c.value&&d.size&&(r=new MutationObserver(t),d.forEach(p=>r.observe(p,i)))},{immediate:!0,flush:"post"}),s=()=>r==null?void 0:r.takeRecords(),f=()=>{l(),a()};return R(f),{isSupported:c,stop:f,takeRecords:s}}function le(e,t,n={}){const{window:o=M,document:i=o==null?void 0:o.document,flush:r="sync"}=n;if(!o||!i)return x;let c;const a=s=>{c==null||c(),c=s},u=$(()=>{const s=P(e);if(s){const{stop:f}=ue(i,d=>{d.map(w=>[...w.removedNodes]).flat().some(w=>w===s||w.contains(s))&&t(d)},{window:o,childList:!0,subtree:!0});a(f)}},{flush:r}),l=()=>{u(),a()};return R(l),l}function ve(e={}){var t;const{window:n=M,deep:o=!0,triggerOnRemoval:i=!1}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,c=()=>{var l;let s=r==null?void 0:r.activeElement;if(o)for(;s!=null&&s.shadowRoot;)s=(l=s==null?void 0:s.shadowRoot)==null?void 0:l.activeElement;return s},a=b(),u=()=>{a.value=c()};if(n){const l={capture:!0,passive:!0};y(n,"blur",s=>{s.relatedTarget===null&&u()},l),y(n,"focus",u,l)}return i&&le(a,u,{document:r}),u(),a}function X(e,t={}){const{controls:n=!1,navigator:o=z}=t,i=D(()=>o&&"permissions"in o),r=H(),c=typeof e=="string"?{name:e}:e,a=H(),u=()=>{var s,f;a.value=(f=(s=r.value)==null?void 0:s.state)!=null?f:"prompt"};y(r,"change",u,{passive:!0});const l=oe(async()=>{if(i.value){if(!r.value)try{r.value=await o.permissions.query(c)}catch{r.value=void 0}finally{u()}if(n)return K(r.value)}});return l(),n?{state:a,isSupported:i,query:l}:a}function me(e={}){const{navigator:t=z,read:n=!1,source:o,copiedDuring:i=1500,legacy:r=!1}=e,c=D(()=>t&&"clipboard"in t),a=X("clipboard-read"),u=X("clipboard-write"),l=A(()=>c.value||r),s=b(""),f=b(!1),d=se(()=>f.value=!1,i,{immediate:!1});function p(){c.value&&T(a.value)?t.clipboard.readText().then(m=>{s.value=m}):s.value=E()}l.value&&n&&y(["copy","cut"],p,{passive:!0});async function w(m=S(o)){l.value&&m!=null&&(c.value&&T(u.value)?await t.clipboard.writeText(m):g(m),s.value=m,f.value=!0,d.start())}function g(m){const h=document.createElement("textarea");h.value=m??"",h.style.position="absolute",h.style.opacity="0",document.body.appendChild(h),h.select(),document.execCommand("copy"),h.remove()}function E(){var m,h,W;return(W=(h=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:h.toString())!=null?W:""}function T(m){return m==="granted"||m==="prompt"}return{isSupported:l,text:s,copied:f,copy:w}}const O=new Map;function we(e){const t=Y();function n(a){var u;const l=O.get(e)||new Set;l.add(a),O.set(e,l);const s=()=>i(a);return(u=t==null?void 0:t.cleanups)==null||u.push(s),s}function o(a){function u(...l){i(u),a(...l)}return n(u)}function i(a){const u=O.get(e);u&&(u.delete(a),u.size||r())}function r(){O.delete(e)}function c(a,u){var l;(l=O.get(e))==null||l.forEach(s=>s(a,u))}return{on:n,once:o,off:i,emit:c,reset:r}}const ae={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function he(e={}){const{type:t="page",touch:n=!0,resetOnTouchEnds:o=!1,initialValue:i={x:0,y:0},window:r=M,target:c=r,scroll:a=!0,eventFilter:u}=e;let l=null,s=0,f=0;const d=b(i.x),p=b(i.y),w=b(null),g=typeof t=="function"?t:ae[t],E=v=>{const _=g(v);l=v,_&&([d.value,p.value]=_,w.value="mouse"),r&&(s=r.scrollX,f=r.scrollY)},T=v=>{if(v.touches.length>0){const _=g(v.touches[0]);_&&([d.value,p.value]=_,w.value="touch")}},m=()=>{if(!l||!r)return;const v=g(l);l instanceof MouseEvent&&v&&(d.value=v[0]+r.scrollX-s,p.value=v[1]+r.scrollY-f)},h=()=>{d.value=i.x,p.value=i.y},W=u?v=>u(()=>E(v),{}):v=>E(v),B=u?v=>u(()=>T(v),{}):v=>T(v),G=u?()=>u(()=>m(),{}):()=>m();if(c){const v={passive:!0};y(c,["mousemove","dragover"],W,v),n&&t!=="movement"&&(y(c,["touchstart","touchmove"],B,v),o&&y(c,"touchend",h,v)),a&&t==="page"&&y(r,"scroll",G,v)}return{x:d,y:p,sourceType:w}}export{P as a,de as b,fe as c,M as d,we as e,ve as f,me as g,he as u,pe as w};
