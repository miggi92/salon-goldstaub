import{l as u,ab as f,ac as w,ad as g,ae as h,_ as y}from"./entry.kNKz5aKV.js";import{c as d,w as p,e as _,s as P,j as $,u as C}from"./utils.nnNvib__.js";const T=()=>async a=>{const{content:s}=u().public,r=a.params(),n=s.experimental.stripQueryParameters?p(`/query/${`${h(r)}.${s.integrity}`}/${_(r)}.json`):p(`/query/${h(r)}.${s.integrity}.json`);if(P())return(await y(()=>import("./client-db.6k4PKff-.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(e=>e.useContentDatabase())).fetch(a);const t=await $fetch(n,{method:"GET",responseType:"json",params:s.experimental.stripQueryParameters?void 0:{_params:$(r),previewToken:C().getPreviewToken()}});if(typeof t=="string"&&t.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return t};function E(a,...s){const{content:r}=u().public,n=d(T(),{initialParams:typeof a!="string"?a:{},legacy:!0});let t;typeof a=="string"&&(t=f(w(a,...s)));const i=n.params;return n.params=()=>{var o,l,c;const e=i();return t&&(e.where=e.where||[],e.first&&(e.where||[]).length===0?e.where.push({_path:g(t)}):e.where.push({_path:new RegExp(`^${t.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(o=e.sort)!=null&&o.length||(e.sort=[{_file:1,$numeric:!0}]),r.locales.length&&((c=(l=e.where)==null?void 0:l.find(m=>m._locale))!=null&&c._locale||(e.where=e.where||[],e.where.push({_locale:r.defaultLocale}))),e},n}export{E as q};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.6k4PKff-.js","./entry.kNKz5aKV.js","./utils.nnNvib__.js","./index.1dSrIji7.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
