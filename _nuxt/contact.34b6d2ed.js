import{_ as ce}from"./PageHeader.vue.ecde0894.js";import{_ as G}from"./Icon.36942b68.js";import{I as M,r as w,o as P,J as m,K as _,L as B,d as W,M as D,N as ge,O as E,b as g,c as v,e as T,P as k,Q as $,n as b,g as p,f as j,R as ve,S as J,U as V,F as O,A as N,t as F,V as ye,W as be,X as S,Y as he,D as pe,w as q}from"./entry.851494c0.js";import{i as $e,t as ze}from"./selectMenu.4278bde1.js";import{u as x}from"./useUI.f78f9aa0.js";import{u as Ie,a as Se}from"./index.4e6bc25e.js";import{u as we,_ as ke}from"./Button.04243ffe.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as Be}from"./PageBody.vue.b1e42fe2.js";import{_ as Ce}from"./Page.vue.59152d18.js";import"./Icon.a286a604.js";import"./index.b8fe2cb5.js";import"./nuxt-link.35c743e9.js";import"./index.344f9f74.js";const Ve={wrapper:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}};let je=0;function ee(){return`nuid-${je++}`}const Ae=(e,t)=>{const l=M("form-events",void 0),a=M("form-group",void 0),i=M("form-inputs",void 0),u=w(e==null?void 0:e.id);P(()=>{u.value=(e==null?void 0:e.legend)===null||e.legend?void 0:(e==null?void 0:e.id)??ee(),a&&(a.inputId.value=u.value,i&&(i.value[a.name.value]=u))});const s=w(!1);function o(d,y){l&&l.emit({type:d,path:y})}function h(){o("blur",a==null?void 0:a.name.value),s.value=!0}function n(){o("change",a==null?void 0:a.name.value)}const r=Ie(()=>{(s.value||a!=null&&a.eagerValidation.value)&&o("input",a==null?void 0:a.name.value)},300);return{inputId:u,name:m(()=>(e==null?void 0:e.name)??(a==null?void 0:a.name.value)),size:m(()=>{var y;const d=t.size[a==null?void 0:a.size.value]?a==null?void 0:a.size.value:null;return(e==null?void 0:e.size)??d??((y=t==null?void 0:t.default)==null?void 0:y.size)}),color:m(()=>{var d;return(d=a==null?void 0:a.error)!=null&&d.value?"red":e==null?void 0:e.color}),emitFormBlur:h,emitFormInput:r,emitFormChange:n}},I=_(B.ui.strategy,B.ui.input,$e),Ee=W({components:{UIcon:G},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>I.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(I.size).includes(e)}},color:{type:String,default:()=>I.default.color,validator(e){return[...B.ui.colors,...Object.keys(I.color)].includes(e)}},variant:{type:String,default:()=>I.default.variant,validator(e){return[...Object.keys(I.variant),...Object.values(I.color).flatMap(t=>Object.keys(t))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur"],setup(e,{emit:t,slots:l}){const{ui:a,attrs:i}=x("input",D(e,"ui"),I,D(e,"class")),{size:u,rounded:s}=we({ui:a,props:e}),{emitFormBlur:o,emitFormInput:h,size:n,color:r,inputId:d,name:y}=Ae(e,I),c=m(()=>u.value||n.value),z=w(ge({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),L=w(null),te=()=>{var f;e.autofocus&&((f=L.value)==null||f.focus())},K=f=>{z.value.trim&&(f=f.trim()),(z.value.number||e.type==="number")&&(f=ve(f)),t("update:modelValue",f),h()},ne=f=>{z.value.lazy||K(f.target.value)},le=f=>{const A=f.target.value;z.value.lazy&&K(A),z.value.trim&&(f.target.value=A.trim())},ie=f=>{o(),t("blur",f)};P(()=>{setTimeout(()=>{te()},e.autofocusDelay)});const re=m(()=>{var A,Q;const f=((Q=(A=a.value.color)==null?void 0:A[r.value])==null?void 0:Q[e.variant])||a.value.variant[e.variant];return ze(E(a.value.base,a.value.form,s.value,a.value.placeholder,a.value.size[c.value],e.padded?a.value.padding[c.value]:"p-0",f==null?void 0:f.replaceAll("{color}",r.value),(U.value||l.leading)&&a.value.leading.padding[c.value],(H.value||l.trailing)&&a.value.trailing.padding[c.value]),e.inputClass)}),U=m(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),H=m(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),se=m(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),oe=m(()=>e.loading&&!U.value?e.loadingIcon:e.trailingIcon||e.icon),ue=m(()=>E(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[c.value])),de=m(()=>E(a.value.icon.base,r.value&&B.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[c.value],e.loading&&a.value.icon.loading)),fe=m(()=>E(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[c.value])),me=m(()=>E(a.value.icon.base,r.value&&B.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[c.value],e.loading&&!U.value&&a.value.icon.loading));return{ui:a,attrs:i,name:y,inputId:d,input:L,isLeading:U,isTrailing:H,inputClass:re,leadingIconName:se,leadingIconClass:de,leadingWrapperIconClass:ue,trailingIconName:oe,trailingIconClass:me,trailingWrapperIconClass:fe,onInput:ne,onChange:le,onBlur:ie}}}),Oe=["id","name","value","type","required","placeholder","disabled"];function Ne(e,t,l,a,i,u){const s=G;return g(),v("div",{class:b(e.ui.wrapper)},[T("input",k({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:e.inputClass},e.attrs,{onInput:t[0]||(t[0]=(...o)=>e.onInput&&e.onInput(...o)),onBlur:t[1]||(t[1]=(...o)=>e.onBlur&&e.onBlur(...o)),onChange:t[2]||(t[2]=(...o)=>e.onChange&&e.onChange(...o))}),null,16,Oe),$(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(g(),v("span",{key:0,class:b(e.leadingWrapperIconClass)},[$(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[p(s,{name:e.leadingIconName,class:b(e.leadingIconClass)},null,8,["name","class"])])],2)):j("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(g(),v("span",{key:1,class:b(e.trailingWrapperIconClass)},[$(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[p(s,{name:e.trailingIconName,class:b(e.trailingIconClass)},null,8,["name","class"])])],2)):j("",!0)],2)}const Fe=Z(Ee,[["render",Ne]]),Y=_(B.ui.strategy,B.ui.formGroup,Ve),qe=W({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(Y.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:t,attrs:l}=x("formGroup",D(e,"ui"),Y,D(e,"class")),a=M("form-errors",null),i=m(()=>{var o,h;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(h=(o=a==null?void 0:a.value)==null?void 0:o.find(n=>n.path===e.name))==null?void 0:h.message}),u=m(()=>t.value.size[e.size??Y.default.size]),s=w();return J("form-group",{error:i,inputId:s,name:m(()=>e.name),size:m(()=>e.size),eagerValidation:m(()=>e.eagerValidation)}),{ui:t,attrs:l,inputId:s,size:u,error:i}}}),Ue=["for"];function Me(e,t,l,a,i,u){return g(),v("div",k({class:e.ui.wrapper},e.attrs),[e.label||e.$slots.label?(g(),v("div",{key:0,class:b([e.ui.label.wrapper,e.size])},[T("label",{for:e.inputId,class:b([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?$(e.$slots,"label",V(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(g(),v(O,{key:1},[N(F(e.label),1)],64))],10,Ue),e.hint||e.$slots.hint?(g(),v("span",{key:0,class:b([e.ui.hint])},[e.$slots.hint?$(e.$slots,"hint",V(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(g(),v(O,{key:1},[N(F(e.hint),1)],64))],2)):j("",!0)],2)):j("",!0),e.description||e.$slots.description?(g(),v("p",{key:1,class:b([e.ui.description,e.size])},[e.$slots.description?$(e.$slots,"description",V(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(g(),v(O,{key:1},[N(F(e.description),1)],64))],2)):j("",!0),T("div",{class:b([e.label?e.ui.container:""])},[$(e.$slots,"default",V(ye({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(g(),v("p",{key:0,class:b([e.ui.error,e.size])},[e.$slots.error?$(e.$slots,"error",V(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(g(),v(O,{key:1},[N(F(e.error),1)],64))],2)):e.help||e.$slots.help?(g(),v("p",{key:1,class:b([e.ui.help,e.size])},[e.$slots.help?$(e.$slots,"help",V(k({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(g(),v(O,{key:1},[N(F(e.help),1)],64))],2)):j("",!0)],2)],16)}const Je=Z(qe,[["render",Me]]);class R extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,R.prototype)}}const De=W({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:t,emit:l}){const a=Se(`form-${ee()}`);a.on(async n=>{var r;n.type!=="submit"&&((r=e.validateOn)!=null&&r.includes(n.type))&&await o(n.path,{silent:!0})});const i=w([]);J("form-errors",i),J("form-events",a);const u=w({});J("form-inputs",u);async function s(){let n=await e.validate(e.state);if(e.schema)if(Ye(e.schema))n=n.concat(await Ze(e.state,e.schema));else if(Te(e.schema))n=n.concat(await We(e.state,e.schema));else if(Le(e.schema))n=n.concat(await He(e.state,e.schema));else if(Qe(e.schema))n=n.concat(await Xe(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return n}async function o(n,r={silent:!1}){if(n){const d=i.value.filter(c=>c.path!==n),y=(await s()).filter(c=>c.path===n);i.value=d.concat(y)}else i.value=await s();if(!r.silent&&i.value.length>0)throw new R(`Form validation failed: ${JSON.stringify(i.value,null,2)}`);return e.state}async function h(n){var r;try{(r=e.validateOn)!=null&&r.includes("submit")&&await o();const d={...n,data:e.state};l("submit",d)}catch(d){if(!(d instanceof R))throw d;const y={...n,errors:i.value.map(c=>({...c,id:u.value[c.path]}))};l("error",y)}}return t({validate:o,errors:i,setErrors(n,r){i.value=n,r?i.value=i.value.filter(d=>d.path!==r).concat(n):i.value=n},getErrors(n){return n?i.value.filter(r=>r.path===n):i.value},clear(n){n?i.value=i.value.filter(r=>r.path===n):i.value=[]}}),{onSubmit:h}}});function Te(e){return e.validate&&e.__isYupSchema__}function Re(e){return e.inner!==void 0}async function We(e,t){try{return await t.validate(e,{abortEarly:!1}),[]}catch(l){if(Re(l))return l.inner.map(a=>({path:a.path??"",message:a.message}));throw l}}function Ye(e){return e.parse!==void 0}async function Ze(e,t){const l=await t.safeParseAsync(e);return l.success===!1?l.error.issues.map(a=>({path:a.path.join("."),message:a.message})):[]}function Le(e){return e.validateAsync!==void 0&&e.id!==void 0}function Ke(e){return e.isJoi===!0}async function He(e,t){try{return await t.validateAsync(e,{abortEarly:!1}),[]}catch(l){if(Ke(l))return l.details.map(a=>({path:a.path.join("."),message:a.message}));throw l}}function Qe(e){return e._parse!==void 0}async function Xe(e,t){const l=await t._parse(e);return l.issues?l.issues.map(a=>{var i;return{path:((i=a.path)==null?void 0:i.map(u=>u.key).join("."))||"",message:a.message}}):[]}function Ge(e,t,l,a,i,u){return g(),v("form",{onSubmit:t[0]||(t[0]=be((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"]))},[$(e.$slots,"default")],32)}const Pe=Z(De,[["render",Ge]]),ae=e=>{if(e=S(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length};function C(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return a=>(a=S(a),!ae(a)||t.every(i=>(i.lastIndex=0,i.test(a))))}C(/^[a-zA-Z]*$/);C(/^[a-zA-Z0-9]*$/);C(/^\d*(\.\d+)?$/);const _e=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var xe=C(_e),ea={$validator:xe,$message:"Value is not a valid email address",$params:{type:"email"}};function aa(e){return typeof e=="string"&&(e=e.trim()),ae(e)}var X={$validator:aa,$message:"Value is required",$params:{type:"required"}};const ta=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;C(ta);C(/(^[0-9]*$)|(^-[0-9]+$)/);C(/^[-]?\d*(\.\d+)?$/);const na={class:"flex"},ha=W({__name:"contact",setup(e){const t=w("Kontakt");var l=he({name:"",email:""});const a=m(()=>({email:{required:X,email:ea},name:{required:X}}));async function i(u){console.log(u.data)}return(u,s)=>{const o=ce,h=Fe,n=Je,r=ke,d=Pe,y=Be,c=Ce;return g(),pe(c,null,{default:q(()=>[p(o,{title:S(t)},null,8,["title"]),p(y,null,{default:q(()=>[T("div",na,[p(d,{state:S(l),schema:S(a),onSubmit:i,class:"space-y-4 w-fit"},{default:q(()=>[p(n,{label:"Name",name:"name"},{default:q(()=>[p(h,{modelValue:S(l).name,"onUpdate:modelValue":s[0]||(s[0]=z=>S(l).name=z)},null,8,["modelValue"])]),_:1}),p(n,{label:"E-Mail",name:"email"},{default:q(()=>[p(h,{modelValue:S(l).email,"onUpdate:modelValue":s[1]||(s[1]=z=>S(l).email=z),type:"email"},null,8,["modelValue"])]),_:1}),p(r,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{ha as default};
