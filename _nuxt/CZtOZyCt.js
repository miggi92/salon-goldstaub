import{az as m,L as P,aL as I,aM as D,aN as K,aa as A,aO as N,C as x,au as R,aP as B,aQ as W,aR as V,aS as $,o as j,al as k,aT as Q,K as U,aC as q}from"./BhLrnx8R.js";function se(e={}){const{inheritAttrs:s=!0}=e,r=m(),p=P({setup(n,{slots:i}){return()=>{r.value=i.default}}}),a=P({inheritAttrs:s,props:e.props,setup(n,{attrs:i,slots:o}){return()=>{var t;r.value;const u=(t=r.value)==null?void 0:t.call(r,{...e.props==null?G(i):n,$slots:o});return s&&(u==null?void 0:u.length)===1?u[0]:u}}});return I({define:p,reuse:a},[p,a])}function G(e){const s={};for(const r in e)s[D(r)]=e[r];return s}const C=N?window:void 0;function z(e){var s;const r=R(e);return(s=r==null?void 0:r.$el)!=null?s:r}function M(...e){const s=[],r=()=>{s.forEach(o=>o()),s.length=0},p=(o,t,u,c)=>(o.addEventListener(t,u,c),()=>o.removeEventListener(t,u,c)),a=x(()=>{const o=W(R(e[0])).filter(t=>t!=null);return o.every(t=>typeof t!="string")?o:void 0}),n=$(()=>{var o,t;return[(t=(o=a.value)==null?void 0:o.map(u=>z(u)))!=null?t:[C].filter(u=>u!=null),W(R(a.value?e[1]:e[0])),W(U(a.value?e[2]:e[1])),R(a.value?e[3]:e[2])]},([o,t,u,c])=>{if(r(),!(o!=null&&o.length)||!(t!=null&&t.length)||!(u!=null&&u.length))return;const v=Q(c)?{...c}:c;s.push(...o.flatMap(f=>t.flatMap(d=>u.map(h=>p(f,d,h,v)))))},{flush:"post"}),i=()=>{n(),r()};return B(r),i}function J(){const e=m(!1),s=k();return s&&j(()=>{e.value=!0},s),e}function F(e){const s=J();return x(()=>(s.value,!!e()))}function Z(e,s,r={}){const{window:p=C,...a}=r;let n;const i=F(()=>p&&"MutationObserver"in p),o=()=>{n&&(n.disconnect(),n=void 0)},t=x(()=>{const f=R(e),d=W(f).map(z).filter(V);return new Set(d)}),u=A(()=>t.value,f=>{o(),i.value&&f.size&&(n=new MutationObserver(s),f.forEach(d=>n.observe(d,a)))},{immediate:!0,flush:"post"}),c=()=>n==null?void 0:n.takeRecords(),v=()=>{u(),o()};return B(v),{isSupported:i,stop:v,takeRecords:c}}function ee(e,s,r={}){const{window:p=C,...a}=r;let n;const i=F(()=>p&&"ResizeObserver"in p),o=()=>{n&&(n.disconnect(),n=void 0)},t=x(()=>{const v=R(e);return Array.isArray(v)?v.map(f=>z(f)):[z(v)]}),u=A(t,v=>{if(o(),i.value&&p){n=new ResizeObserver(s);for(const f of v)f&&n.observe(f,a)}},{immediate:!0,flush:"post"}),c=()=>{o(),u()};return B(c),{isSupported:i,stop:c}}const Y=new Map;function ue(e){const s=q();function r(o){var t;const u=Y.get(e)||new Set;u.add(o),Y.set(e,u);const c=()=>a(o);return(t=s==null?void 0:s.cleanups)==null||t.push(c),c}function p(o){function t(...u){a(t),o(...u)}return r(t)}function a(o){const t=Y.get(e);t&&(t.delete(o),t.size||n())}function n(){Y.delete(e)}function i(o,t){var u;(u=Y.get(e))==null||u.forEach(c=>c(o,t))}return{on:r,once:p,off:a,emit:i,reset:n}}const te={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ne(e={}){const{type:s="page",touch:r=!0,resetOnTouchEnds:p=!1,initialValue:a={x:0,y:0},window:n=C,target:i=n,scroll:o=!0,eventFilter:t}=e;let u=null,c=0,v=0;const f=m(a.x),d=m(a.y),h=m(null),y=typeof s=="function"?s:te[s],S=l=>{const b=y(l);u=l,b&&([f.value,d.value]=b,h.value="mouse"),n&&(c=n.scrollX,v=n.scrollY)},E=l=>{if(l.touches.length>0){const b=y(l.touches[0]);b&&([f.value,d.value]=b,h.value="touch")}},g=()=>{if(!u||!n)return;const l=y(u);u instanceof MouseEvent&&l&&(f.value=l[0]+n.scrollX-c,d.value=l[1]+n.scrollY-v)},O=()=>{f.value=a.x,d.value=a.y},H=t?l=>t(()=>S(l),{}):l=>S(l),w=t?l=>t(()=>E(l),{}):l=>E(l),X=t?()=>t(()=>g(),{}):()=>g();if(i){const l={passive:!0};M(i,["mousemove","dragover"],H,l),r&&s!=="movement"&&(M(i,["touchstart","touchmove"],w,l),p&&M(i,"touchend",O,l)),o&&s==="page"&&M(n,"scroll",X,l)}return{x:f,y:d,sourceType:h}}function re(e,s={}){const{windowResize:r=!0,windowScroll:p=!0,handleOutside:a=!0,window:n=C}=s,i=s.type||"page",{x:o,y:t,sourceType:u}=ne(s),c=m(e??(n==null?void 0:n.document.body)),v=m(0),f=m(0),d=m(0),h=m(0),y=m(0),S=m(0),E=m(!0);function g(){if(!n)return;const w=z(c);if(!w||!(w instanceof Element))return;const{left:X,top:l,width:b,height:T}=w.getBoundingClientRect();d.value=X+(i==="page"?n.pageXOffset:0),h.value=l+(i==="page"?n.pageYOffset:0),y.value=T,S.value=b;const L=o.value-d.value,_=t.value-h.value;E.value=b===0||T===0||L<0||_<0||L>b||_>T,a&&(v.value=L,f.value=_)}const O=[];function H(){O.forEach(w=>w()),O.length=0}if(K(()=>{g()}),n){const{stop:w}=ee(c,g),{stop:X}=Z(c,g,{attributeFilter:["style","class"]}),l=A([c,o,t],g);O.push(w,X,l),M(document,"mouseleave",()=>E.value=!0,{passive:!0}),p&&O.push(M("scroll",g,{capture:!0,passive:!0})),r&&O.push(M("resize",g,{passive:!0}))}return{x:o,y:t,sourceType:u,elementX:v,elementY:f,elementPositionX:d,elementPositionY:h,elementHeight:y,elementWidth:S,isOutside:E,stop:H}}export{re as a,se as c,ue as u};
