var Be=Object.defineProperty;var ke=(t,i,n)=>i in t?Be(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n;var ie=(t,i,n)=>ke(t,typeof i!="symbol"?i+"":i,n);import{_ as je}from"./CPi0GmZZ.js";import{d as W,a1 as Ue,I as T,i as x,w as k,K as j,Q as ne,J as r,P as re,H as K,N as le,C as se,O as Ie,D as _e,a2 as we,a3 as Ce,a4 as Ee,G as q,r as P,o as ee,g as te,c as G,e as M,n as y,a5 as fe,U as qe,a6 as $e,a7 as Se,a8 as Fe,a9 as H,aa as Oe,f as E,A as Z,t as Q,ab as De,ac as Ne,ad as Ae,ae as be,b as he,af as ae,ag as Pe,ah as Te,ai as Me,aj as Ke,ak as Re,al as Ge,Y as He}from"./DbPeIGNn.js";import{u as Je}from"./B4AWSsha.js";import{a as Ye,_ as We}from"./Bz70TKmt.js";import"./CKvRpjBC.js";const Le=W({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(t){const i=t;return Ue(),(n,e)=>(x(),T(r(re),ne(i,{onMousedown:e[0]||(e[0]=c=>{!c.defaultPrevented&&c.detail>1&&c.preventDefault()})}),{default:k(()=>[j(n.$slots,"default")]),_:3},16))}}),Ze={slots:{root:"relative inline-flex items-center",base:["w-full rounded-[calc(var(--ui-radius)*1.5)] border-0 placeholder:text-(--ui-text-dimmed) focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-(--ui-text-dimmed)"},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Qe=["id","type","value","name","placeholder","disabled","required","autocomplete"],Xe=le;var ve;const et=K({extend:K(Ze),...((ve=Xe.ui)==null?void 0:ve.input)||{}}),tt=W({inheritAttrs:!1,__name:"Input",props:se({as:{},id:{},name:{},type:{default:"text"},placeholder:{},color:{},variant:{},size:{},required:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},autofocusDelay:{default:0},disabled:{type:Boolean},highlight:{type:Boolean},class:{},ui:{},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},trailingIcon:{},loading:{type:Boolean},loadingIcon:{}},{modelValue:{},modelModifiers:{}}),emits:se(["update:modelValue","blur","change"],["update:modelValue"]),setup(t,{expose:i,emit:n}){const e=t,c=n,d=Ie(),[g,m]=_e(t,"modelValue"),{emitFormBlur:o,emitFormInput:p,emitFormChange:b,size:z,color:U,id:F,name:A,highlight:I,disabled:O,emitFormFocus:w,ariaAttrs:$}=we(e,{deferInputValidation:!0}),{orientation:h,size:Y}=Ce(e),{isLeading:a,isTrailing:u,leadingIconName:v,trailingIconName:V}=Ee(e),_=q(()=>Y.value||z.value),s=q(()=>et({type:e.type,color:U.value,variant:e.variant,size:_==null?void 0:_.value,loading:e.loading,highlight:I.value,leading:a.value||!!e.avatar||!!d.leading,trailing:u.value||!!d.trailing,buttonGroup:h.value})),f=P(null);function B(){var l;e.autofocus&&((l=f.value)==null||l.focus())}function S(l){m.trim&&(l=(l==null?void 0:l.trim())??null),(m.number||e.type==="number")&&(l=$e(l)),m.nullify&&(l||(l=null)),g.value=l,p()}function C(l){m.lazy||S(l.target.value)}function D(l){const L=l.target.value;m.lazy&&S(L),m.trim&&(l.target.value=L.trim()),b(),c("change",l)}function N(l){o(),c("blur",l)}return i({inputRef:f}),ee(()=>{setTimeout(()=>{B()},e.autofocusDelay)}),(l,L)=>{var ue;return x(),T(r(re),{as:l.as,class:y(s.value.root({class:[e.class,(ue=e.ui)==null?void 0:ue.root]}))},{default:k(()=>{var ce,de,ge;return[te("input",ne({id:r(F),ref_key:"inputRef",ref:f,type:l.type,value:r(g),name:r(A),placeholder:l.placeholder,class:s.value.base({class:(ce=e.ui)==null?void 0:ce.base}),disabled:r(O),required:l.required,autocomplete:l.autocomplete},{...l.$attrs,...r($)},{onInput:C,onBlur:N,onChange:D,onFocus:L[0]||(L[0]=(...R)=>r(w)&&r(w)(...R))}),null,16,Qe),j(l.$slots,"default"),r(a)||l.avatar||d.leading?(x(),G("span",{key:0,class:y(s.value.leading({class:(de=e.ui)==null?void 0:de.leading}))},[j(l.$slots,"leading",{},()=>{var R,pe,me;return[r(a)&&r(v)?(x(),T(fe,{key:0,name:r(v),class:y(s.value.leadingIcon({class:(R=e.ui)==null?void 0:R.leadingIcon}))},null,8,["name","class"])):l.avatar?(x(),T(qe,ne({key:1,size:((pe=e.ui)==null?void 0:pe.leadingAvatarSize)||s.value.leadingAvatarSize()},l.avatar,{class:s.value.leadingAvatar({class:(me=e.ui)==null?void 0:me.leadingAvatar})}),null,16,["size","class"])):M("",!0)]})],2)):M("",!0),r(u)||d.trailing?(x(),G("span",{key:1,class:y(s.value.trailing({class:(ge=e.ui)==null?void 0:ge.trailing}))},[j(l.$slots,"trailing",{},()=>{var R;return[r(V)?(x(),T(fe,{key:0,name:r(V),class:y(s.value.trailingIcon({class:(R=e.ui)==null?void 0:R.trailingIcon}))},null,8,["name","class"])):M("",!0)]})],2)):M("",!0)]}),_:3},8,["as","class"])}}}),it=Object.assign(tt,{__name:"UInput"}),at={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-(--ui-text)",container:"mt-1 relative",description:"text-(--ui-text-muted)",error:"mt-2 text-(--ui-error)",hint:"text-(--ui-text-muted)",help:"mt-2 text-(--ui-text-muted)"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-(--ui-error)"}}},defaultVariants:{size:"md"}},nt=["id"],st=["id"],rt=["id"],lt=le;var ye;const ot=K({extend:K(at),...((ye=lt.ui)==null?void 0:ye.formField)||{}}),ut=W({__name:"FormField",props:{as:{},name:{},errorPattern:{},label:{},description:{},help:{},error:{type:[String,Boolean]},hint:{},size:{},required:{type:Boolean},eagerValidation:{type:Boolean},validateOnInputDelay:{},class:{},ui:{}},setup(t){const i=t,n=Ie(),e=q(()=>ot({size:i.size,required:i.required})),c=Se("form-errors",null),d=q(()=>{var o,p;return i.error||((p=(o=c==null?void 0:c.value)==null?void 0:o.find(b=>b.name&&(b.name===i.name||i.errorPattern&&b.name.match(i.errorPattern))))==null?void 0:p.message)}),g=P(Fe()),m=g.value;return H(De,g),H(Oe,q(()=>({error:d.value,name:i.name,size:i.size,eagerValidation:i.eagerValidation,validateOnInputDelay:i.validateOnInputDelay,errorPattern:i.errorPattern,hint:i.hint,description:i.description,help:i.help,ariaId:m}))),(o,p)=>{var b;return x(),T(r(re),{as:o.as,class:y(e.value.root({class:[i.class,(b=i.ui)==null?void 0:b.root]}))},{default:k(()=>{var z,U,F,A,I,O,w,$;return[te("div",{class:y(e.value.wrapper({class:(z=i.ui)==null?void 0:z.wrapper}))},[o.label||n.label?(x(),G("div",{key:0,class:y(e.value.labelWrapper({class:(U=i.ui)==null?void 0:U.labelWrapper}))},[E(r(Le),{for:g.value,class:y(e.value.label({class:(F=i.ui)==null?void 0:F.label}))},{default:k(()=>[j(o.$slots,"label",{label:o.label},()=>[Z(Q(o.label),1)])]),_:3},8,["for","class"]),o.hint||n.hint?(x(),G("span",{key:0,id:`${r(m)}-hint`,class:y(e.value.hint({class:(A=i.ui)==null?void 0:A.hint}))},[j(o.$slots,"hint",{hint:o.hint},()=>[Z(Q(o.hint),1)])],10,nt)):M("",!0)],2)):M("",!0),o.description||n.description?(x(),G("p",{key:1,id:`${r(m)}-description`,class:y(e.value.description({class:(I=i.ui)==null?void 0:I.description}))},[j(o.$slots,"description",{description:o.description},()=>[Z(Q(o.description),1)])],10,st)):M("",!0)],2),te("div",{class:y([(o.label||!!n.label||o.description||!!n.description)&&e.value.container({class:(O=i.ui)==null?void 0:O.container})])},[j(o.$slots,"default",{error:d.value}),typeof d.value=="string"&&d.value||n.error?(x(),G("p",{key:0,id:`${r(m)}-error`,class:y(e.value.error({class:(w=i.ui)==null?void 0:w.error}))},[j(o.$slots,"error",{error:d.value},()=>[Z(Q(d.value),1)])],10,rt)):o.help||n.help?(x(),G("p",{key:1,class:y(e.value.help({class:($=i.ui)==null?void 0:$.help}))},[j(o.$slots,"help",{help:o.help},()=>[Z(Q(o.help),1)])],2)):M("",!0)],2)]}),_:3},8,["as","class"])}}}),ct=Object.assign(ut,{__name:"UFormField"}),dt={slots:{root:"relative inline-flex items-center",base:["w-full rounded-[calc(var(--ui-radius)*1.5)] border-0 placeholder:text-(--ui-text-dimmed) focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-(--ui-text-dimmed)"},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},gt=["id","value","name","rows","placeholder","disabled","required"],pt=le;var xe;const mt=K({extend:K(dt),...((xe=pt.ui)==null?void 0:xe.textarea)||{}}),ft=W({inheritAttrs:!1,__name:"Textarea",props:se({as:{},id:{},name:{},placeholder:{},color:{},variant:{},size:{},required:{type:Boolean},autofocus:{type:Boolean},autofocusDelay:{default:0},disabled:{type:Boolean},class:{},rows:{default:3},maxrows:{default:0},autoresize:{type:Boolean},highlight:{type:Boolean},ui:{}},{modelValue:{},modelModifiers:{}}),emits:se(["update:modelValue","blur","change"],["update:modelValue"]),setup(t,{expose:i,emit:n}){const e=t,c=n,[d,g]=_e(t,"modelValue"),{emitFormFocus:m,emitFormBlur:o,emitFormInput:p,emitFormChange:b,size:z,color:U,id:F,name:A,highlight:I,disabled:O,ariaAttrs:w}=we(e,{deferInputValidation:!0}),$=q(()=>mt({color:U.value,variant:e.variant,size:z==null?void 0:z.value,highlight:I.value})),h=P(null);function Y(){var s;e.autofocus&&((s=h.value)==null||s.focus())}function a(s){g.trim&&(s=(s==null?void 0:s.trim())??null),g.number&&(s=$e(s)),g.nullify&&(s||(s=null)),d.value=s,p()}function u(s){_(),g.lazy||a(s.target.value)}function v(s){const f=s.target.value;g.lazy&&a(f),g.trim&&(s.target.value=f.trim()),b(),c("change",s)}function V(s){o(),c("blur",s)}ee(()=>{setTimeout(()=>{Y()},e.autofocusDelay)});function _(){if(e.autoresize){if(!h.value)return;h.value.rows=e.rows;const s=h.value.style.overflow;h.value.style.overflow="hidden";const f=window.getComputedStyle(h.value),B=Number.parseInt(f.paddingTop),S=Number.parseInt(f.paddingBottom),C=B+S,D=Number.parseInt(f.lineHeight),{scrollHeight:N}=h.value,l=(N-C)/D;l>e.rows&&(h.value.rows=e.maxrows?Math.min(l,e.maxrows):l),h.value.style.overflow=s}}return Ne(d,()=>{Ae(_)}),i({textareaRef:h}),ee(()=>{setTimeout(()=>{_()},100)}),(s,f)=>{var B;return x(),T(r(re),{as:s.as,class:y($.value.root({class:[e.class,(B=e.ui)==null?void 0:B.root]}))},{default:k(()=>{var S;return[te("textarea",ne({id:r(F),ref_key:"textareaRef",ref:h,value:r(d),name:r(A),rows:s.rows,placeholder:s.placeholder,class:$.value.base({class:(S=e.ui)==null?void 0:S.base}),disabled:r(O),required:s.required},{...s.$attrs,...r(w)},{onInput:u,onBlur:V,onChange:v,onFocus:f[0]||(f[0]=(...C)=>r(m)&&r(m)(...C))}),null,16,gt),j(s.$slots,"default")]}),_:3},8,["as","class"])}}}),bt=Object.assign(ft,{__name:"UTextarea"});function ht(t){return t.validate&&t.__isYupSchema__}function vt(t){return t.inner!==void 0}function yt(t){return"schema"in t&&typeof t.coercer=="function"&&typeof t.validator=="function"&&typeof t.refiner=="function"}function xt(t){return t.validateAsync!==void 0&&t.id!==void 0}function zt(t){return t.isJoi===!0}function It(t){return"~standard"in t}async function _t(t,i){var e;const n=await i["~standard"].validate(t);return n.issues?{errors:((e=n.issues)==null?void 0:e.map(c=>{var d;return{name:((d=c.path)==null?void 0:d.map(g=>typeof g=="object"?g.key:g).join("."))||"",message:c.message}}))||[],result:null}:{errors:null,result:n.value}}async function wt(t,i){try{return{errors:null,result:await i.validate(t,{abortEarly:!1})}}catch(n){if(vt(n))return{errors:n.inner.map(c=>({name:c.path??"",message:c.message})),result:null};throw n}}async function $t(t,i){const[n,e]=i.validate(t);return n?{errors:n.failures().map(d=>({message:d.message,name:d.path.join(".")})),result:null}:{errors:null,result:e}}async function St(t,i){try{return{errors:null,result:await i.validateAsync(t,{abortEarly:!1})}}catch(n){if(zt(n))return{errors:n.details.map(c=>({name:c.path.join("."),message:c.message})),result:null};throw n}}function Ft(t,i){if(It(i))return _t(t,i);if(xt(i))return St(t,i);if(ht(i))return wt(t,i);if(yt(i))return $t(t,i);throw new Error("Form validation failed: Unsupported form schema")}class X extends Error{constructor(n,e,c){super("Form validation exception");ie(this,"formId");ie(this,"errors");ie(this,"children");this.formId=n,this.errors=e,this.children=c,Object.setPrototypeOf(this,X.prototype)}}const At={base:""},Vt=le;var ze;const Bt=K({extend:K(At),...((ze=Vt.ui)==null?void 0:ze.form)||{}}),kt=W({__name:"Form",props:{id:{},schema:{},state:{},validate:{},validateOn:{default(){return["input","blur","change"]}},disabled:{type:Boolean},validateOnInputDelay:{default:300},transform:{type:Boolean,default:!0},class:{},onSubmit:{}},emits:["submit","error"],setup(t,{expose:i,emit:n}){const e=t,c=n,d=e.id??Fe(),g=Je(`form-${d}`),m=Se(be,void 0);H(be,g);const o=P(new Map);ee(async()=>{g.on(async a=>{var u;a.type==="attach"?o.value.set(a.formId,{validate:a.validate}):a.type==="detach"?o.value.delete(a.formId):(u=e.validateOn)!=null&&u.includes(a.type)&&!$.value&&(a.type!=="input"?await w({name:a.name,silent:!0,nested:!1}):(a.eager||F.has(a.name))&&await w({name:a.name,silent:!0,nested:!1})),a.type==="blur"&&F.add(a.name),(a.type==="change"||a.type==="input"||a.type==="blur"||a.type==="focus")&&U.add(a.name),(a.type==="change"||a.type==="input")&&z.add(a.name)})}),he(()=>{g.reset()}),ee(async()=>{m&&(await Ae(),m.emit({type:"attach",validate:w,formId:d}))}),he(()=>{m&&m.emit({type:"detach",formId:d})});const p=P([]);H("form-errors",p);const b=P({});H(Re,b);const z=new Set,U=new Set,F=new Set;function A(a){return a.map(u=>{var v;return{...u,id:u!=null&&u.name?(v=b.value[u.name])==null?void 0:v.id:void 0}})}const I=P(null);async function O(){let a=e.validate?await e.validate(e.state)??[]:[];if(e.schema){const{errors:u,result:v}=await Ft(e.state,e.schema);u?a=a.concat(u):I.value=v}return A(a)}async function w(a={silent:!1,nested:!0,transform:!1}){const u=a.name&&!Array.isArray(a.name)?[a.name]:a.name,v=!u&&a.nested?Array.from(o.value.values()).map(({validate:_})=>_(a).then(()=>{}).catch(s=>{if(!(s instanceof X))throw s;return s})):[];if(u){const _=p.value.filter(f=>!u.some(B=>{var C,D,N;const S=(D=(C=b.value)==null?void 0:C[B])==null?void 0:D.pattern;return B===f.name||S&&((N=f.name)==null?void 0:N.match(S))})),s=(await O()).filter(f=>u.some(B=>{var C,D,N;const S=(D=(C=b.value)==null?void 0:C[B])==null?void 0:D.pattern;return B===f.name||S&&((N=f.name)==null?void 0:N.match(S))}));p.value=_.concat(s)}else p.value=await O();const V=(await Promise.all(v)).filter(_=>_!==void 0);if(p.value.length+V.length>0){if(a.silent)return!1;throw new X(d,p.value,V)}return a.transform&&Object.assign(e.state,I.value),e.state}const $=P(!1);H(Pe,ae($));async function h(a){var v;$.value=!0;const u=a;try{u.data=await w({nested:!0,transform:e.transform}),await((v=e.onSubmit)==null?void 0:v.call(e,u)),z.clear()}catch(V){if(!(V instanceof X))throw V;const _={...u,errors:V.errors,children:V.children};c("error",_)}finally{$.value=!1}}const Y=q(()=>e.disabled||$.value);return H(Te,q(()=>({disabled:Y.value,validateOnInputDelay:e.validateOnInputDelay}))),i({validate:w,errors:p,setErrors(a,u){u?p.value=p.value.filter(v=>v.name!==u).concat(A(a)):p.value=A(a)},async submit(){await h(new Event("submit"))},getErrors(a){return a?p.value.filter(u=>u.name===a):p.value},clear(a){a?p.value=p.value.filter(u=>u.name!==a):p.value=[]},disabled:Y,dirty:q(()=>!!z.size),dirtyFields:ae(z),blurredFields:ae(F),touchedFields:ae(U)}),(a,u)=>(x(),T(Ke(r(m)?"div":"form"),{id:r(d),class:y(r(Bt)({class:e.class})),onSubmit:Me(h,["prevent"])},{default:k(()=>[j(a.$slots,"default",{errors:p.value})]),_:3},40,["id","class"]))}}),jt=Object.assign(kt,{__name:"UForm"}),Ve=t=>{if(t=r(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let i in t)return!0;return!1}return!!String(t).length};function J(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e=>(e=r(e),!Ve(e)||i.every(c=>(c.lastIndex=0,c.test(e))))}J(/^[a-zA-Z]*$/);J(/^[a-zA-Z0-9]*$/);J(/^\d*(\.\d+)?$/);const Ut=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ct=J(Ut),Et={$validator:Ct,$message:"Value is not a valid email address",$params:{type:"email"}};function qt(t){return typeof t=="string"&&(t=t.trim()),Ve(t)}var oe={$validator:qt,$message:"Value is required",$params:{type:"required"}};const Ot=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;J(Ot);J(/(^[0-9]*$)|(^-[0-9]+$)/);J(/^[-]?\d*(\.\d+)?$/);const Dt={class:"flex"},Gt=W({__name:"contact",setup(t){const i=P("Kontakt"),n=Ge({name:"",email:"",message:""}),e=q(()=>({email:{required:oe,email:Et},name:{required:oe},message:{required:oe}}));async function c(d){console.log(d.data)}return(d,g)=>{const m=je,o=it,p=ct,b=bt,z=He,U=jt,F=We,A=Ye;return x(),T(A,null,{default:k(()=>[E(m,{title:r(i)},null,8,["title"]),E(F,null,{default:k(()=>[te("div",Dt,[E(U,{state:r(n),schema:r(e),class:"space-y-4 w-fit",onSubmit:c},{default:k(()=>[E(p,{label:"Name",name:"name"},{default:k(()=>[E(o,{modelValue:r(n).name,"onUpdate:modelValue":g[0]||(g[0]=I=>r(n).name=I)},null,8,["modelValue"])]),_:1}),E(p,{label:"E-Mail",name:"email"},{default:k(()=>[E(o,{modelValue:r(n).email,"onUpdate:modelValue":g[1]||(g[1]=I=>r(n).email=I),type:"email"},null,8,["modelValue"])]),_:1}),E(p,{label:"Nachricht",name:"message"},{default:k(()=>[E(b,{modelValue:r(n).message,"onUpdate:modelValue":g[2]||(g[2]=I=>r(n).message=I)},null,8,["modelValue"])]),_:1}),E(z,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Gt as default};
