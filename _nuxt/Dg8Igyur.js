var Be=Object.defineProperty;var ke=(e,i,a)=>i in e?Be(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a;var ie=(e,i,a)=>ke(e,typeof i!="symbol"?i+"":i,a);import{_ as je}from"./msGDUQHk.js";import{d as W,Z as Ee,H as T,i as x,w as k,J as j,O as ne,I as s,P as se,G as R,M as oe,B as re,N as Ie,C as _e,$ as we,a0 as Ue,a1 as Ce,E as q,r as D,o as ee,g as te,c as K,e as M,n as y,a2 as me,U as qe,a3 as Se,a4 as $e,a5 as Fe,a6 as H,a7 as Oe,f as C,z as L,t as Q,a8 as Pe,a9 as Ne,aa as Ve,ab as be,b as ve,ac as ae,ad as De,ae as Te,af as Me,ag as Re,ah as Ge,ai as Ke,aj as He}from"./9K6uyTFa.js";import{u as Je}from"./CrtF8K-A.js";import{a as Ze,_ as We}from"./CeZDC5yK.js";import"./DXXETU1F.js";const Ye=W({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(e){const i=e;return Ee(),(a,t)=>(x(),T(s(se),ne(i,{onMousedown:t[0]||(t[0]=o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})}),{default:k(()=>[j(a.$slots,"default")]),_:3},16))}}),Le={slots:{root:"relative inline-flex items-center",base:["w-full rounded-[calc(var(--ui-radius)*1.5)] border-0 placeholder:text-(--ui-text-dimmed) focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-(--ui-text-dimmed)"},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Qe=["id","type","value","name","placeholder","disabled","required","autocomplete"],Xe=oe;var he;const et=R({extend:R(Le),...((he=Xe.ui)==null?void 0:he.input)||{}}),tt=W({inheritAttrs:!1,__name:"Input",props:re({as:{},id:{},name:{},type:{default:"text"},placeholder:{},color:{},variant:{},size:{},required:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},autofocusDelay:{default:0},disabled:{type:Boolean},highlight:{type:Boolean},class:{},ui:{},icon:{},avatar:{},leading:{type:Boolean},leadingIcon:{},trailing:{type:Boolean},trailingIcon:{},loading:{type:Boolean},loadingIcon:{}},{modelValue:{},modelModifiers:{}}),emits:re(["update:modelValue","blur","change"],["update:modelValue"]),setup(e,{expose:i,emit:a}){const t=e,o=a,c=Ie(),[g,f]=_e(e,"modelValue"),{emitFormBlur:u,emitFormInput:p,emitFormChange:b,size:_,color:E,id:F,name:V,highlight:z,disabled:O,emitFormFocus:w,ariaAttrs:S}=we(t,{deferInputValidation:!0}),{orientation:v,size:Z}=Ue(t),{isLeading:n,isTrailing:d,leadingIconName:h,trailingIconName:A}=Ce(t),I=q(()=>Z.value||_.value),r=q(()=>et({type:t.type,color:E.value,variant:t.variant,size:I==null?void 0:I.value,loading:t.loading,highlight:z.value,leading:n.value||!!t.avatar||!!c.leading,trailing:d.value||!!c.trailing,buttonGroup:v.value})),m=D(null);function B(){var l;t.autofocus&&((l=m.value)==null||l.focus())}function $(l){f.trim&&(l=(l==null?void 0:l.trim())??null),(f.number||t.type==="number")&&(l=Se(l)),f.nullify&&(l||(l=null)),g.value=l,p()}function U(l){f.lazy||$(l.target.value)}function P(l){const Y=l.target.value;f.lazy&&$(Y),f.trim&&(l.target.value=Y.trim()),b(),o("change",l)}function N(l){u(),o("blur",l)}return i({inputRef:m}),ee(()=>{setTimeout(()=>{B()},t.autofocusDelay)}),(l,Y)=>{var ue;return x(),T(s(se),{as:l.as,class:y(r.value.root({class:[t.class,(ue=t.ui)==null?void 0:ue.root]}))},{default:k(()=>{var ce,de,ge;return[te("input",ne({id:s(F),ref_key:"inputRef",ref:m,type:l.type,value:s(g),name:s(V),placeholder:l.placeholder,class:r.value.base({class:(ce=t.ui)==null?void 0:ce.base}),disabled:s(O),required:l.required,autocomplete:l.autocomplete},{...l.$attrs,...s(S)},{onInput:U,onBlur:N,onChange:P,onFocus:Y[0]||(Y[0]=(...G)=>s(w)&&s(w)(...G))}),null,16,Qe),j(l.$slots,"default"),s(n)||l.avatar||c.leading?(x(),K("span",{key:0,class:y(r.value.leading({class:(de=t.ui)==null?void 0:de.leading}))},[j(l.$slots,"leading",{},()=>{var G,pe,fe;return[s(n)&&s(h)?(x(),T(me,{key:0,name:s(h),class:y(r.value.leadingIcon({class:(G=t.ui)==null?void 0:G.leadingIcon}))},null,8,["name","class"])):l.avatar?(x(),T(qe,ne({key:1,size:((pe=t.ui)==null?void 0:pe.leadingAvatarSize)||r.value.leadingAvatarSize()},l.avatar,{class:r.value.leadingAvatar({class:(fe=t.ui)==null?void 0:fe.leadingAvatar})}),null,16,["size","class"])):M("",!0)]})],2)):M("",!0),s(d)||c.trailing?(x(),K("span",{key:1,class:y(r.value.trailing({class:(ge=t.ui)==null?void 0:ge.trailing}))},[j(l.$slots,"trailing",{},()=>{var G;return[s(A)?(x(),T(me,{key:0,name:s(A),class:y(r.value.trailingIcon({class:(G=t.ui)==null?void 0:G.trailingIcon}))},null,8,["name","class"])):M("",!0)]})],2)):M("",!0)]}),_:3},8,["as","class"])}}}),it=Object.assign(tt,{__name:"UInput"}),at={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-(--ui-text)",container:"mt-1 relative",description:"text-(--ui-text-muted)",error:"mt-2 text-(--ui-error)",hint:"text-(--ui-text-muted)",help:"mt-2 text-(--ui-text-muted)"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-(--ui-error)"}}},defaultVariants:{size:"md"}},nt=["id"],rt=["id"],st=["id"],ot=oe;var ye;const lt=R({extend:R(at),...((ye=ot.ui)==null?void 0:ye.formField)||{}}),ut=W({__name:"FormField",props:{as:{},name:{},errorPattern:{},label:{},description:{},help:{},error:{type:[String,Boolean]},hint:{},size:{},required:{type:Boolean},eagerValidation:{type:Boolean},validateOnInputDelay:{},class:{},ui:{}},setup(e){const i=e,a=Ie(),t=q(()=>lt({size:i.size,required:i.required})),o=$e("form-errors",null),c=q(()=>{var u,p;return i.error||((p=(u=o==null?void 0:o.value)==null?void 0:u.find(b=>b.name&&(b.name===i.name||i.errorPattern&&b.name.match(i.errorPattern))))==null?void 0:p.message)}),g=D(Fe()),f=g.value;return H(Pe,g),H(Oe,q(()=>({error:c.value,name:i.name,size:i.size,eagerValidation:i.eagerValidation,validateOnInputDelay:i.validateOnInputDelay,errorPattern:i.errorPattern,hint:i.hint,description:i.description,ariaId:f}))),(u,p)=>{var b;return x(),T(s(se),{as:u.as,class:y(t.value.root({class:[i.class,(b=i.ui)==null?void 0:b.root]}))},{default:k(()=>{var _,E,F,V,z,O,w,S;return[te("div",{class:y(t.value.wrapper({class:(_=i.ui)==null?void 0:_.wrapper}))},[u.label||a.label?(x(),K("div",{key:0,class:y(t.value.labelWrapper({class:(E=i.ui)==null?void 0:E.labelWrapper}))},[C(s(Ye),{for:g.value,class:y(t.value.label({class:(F=i.ui)==null?void 0:F.label}))},{default:k(()=>[j(u.$slots,"label",{label:u.label},()=>[L(Q(u.label),1)])]),_:3},8,["for","class"]),u.hint||a.hint?(x(),K("span",{key:0,id:`${s(f)}-hint`,class:y(t.value.hint({class:(V=i.ui)==null?void 0:V.hint}))},[j(u.$slots,"hint",{hint:u.hint},()=>[L(Q(u.hint),1)])],10,nt)):M("",!0)],2)):M("",!0),u.description||a.description?(x(),K("p",{key:1,id:`${s(f)}-description`,class:y(t.value.description({class:(z=i.ui)==null?void 0:z.description}))},[j(u.$slots,"description",{description:u.description},()=>[L(Q(u.description),1)])],10,rt)):M("",!0)],2),te("div",{class:y([(u.label||!!a.label||u.description||!!a.description)&&t.value.container({class:(O=i.ui)==null?void 0:O.container})])},[j(u.$slots,"default",{error:c.value}),typeof c.value=="string"&&c.value||a.error?(x(),K("p",{key:0,id:`${s(f)}-error`,class:y(t.value.error({class:(w=i.ui)==null?void 0:w.error}))},[j(u.$slots,"error",{error:c.value},()=>[L(Q(c.value),1)])],10,st)):u.help||a.help?(x(),K("p",{key:1,class:y(t.value.help({class:(S=i.ui)==null?void 0:S.help}))},[j(u.$slots,"help",{help:u.help},()=>[L(Q(u.help),1)])],2)):M("",!0)],2)]}),_:3},8,["as","class"])}}}),ct=Object.assign(ut,{__name:"UFormField"}),dt={slots:{root:"relative inline-flex items-center",base:["w-full rounded-[calc(var(--ui-radius)*1.5)] border-0 placeholder:text-(--ui-text-dimmed) focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-(--ui-text-dimmed)",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-(--ui-text-dimmed)"},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-(--ui-text-highlighted) bg-(--ui-bg) ring ring-inset ring-(--ui-border-accented)",soft:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated)/50 hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-(--ui-bg-elevated)/50",subtle:"text-(--ui-text-highlighted) bg-(--ui-bg-elevated) ring ring-inset ring-(--ui-border-accented)",ghost:"text-(--ui-text-highlighted) bg-transparent hover:bg-(--ui-bg-elevated) focus:bg-(--ui-bg-elevated) disabled:bg-transparent dark:disabled:bg-transparent",none:"text-(--ui-text-highlighted) bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-(--ui-text-muted) file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-primary)"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-secondary)"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-success)"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-info)"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-warning)"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-error)"},{color:"primary",highlight:!0,class:"ring ring-inset ring-(--ui-primary)"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-(--ui-secondary)"},{color:"success",highlight:!0,class:"ring ring-inset ring-(--ui-success)"},{color:"info",highlight:!0,class:"ring ring-inset ring-(--ui-info)"},{color:"warning",highlight:!0,class:"ring ring-inset ring-(--ui-warning)"},{color:"error",highlight:!0,class:"ring ring-inset ring-(--ui-error)"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-(--ui-border-inverted)"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-(--ui-border-inverted)"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},gt=["id","value","name","rows","placeholder","disabled","required"],pt=oe;var xe;const ft=R({extend:R(dt),...((xe=pt.ui)==null?void 0:xe.textarea)||{}}),mt=W({inheritAttrs:!1,__name:"Textarea",props:re({as:{},id:{},name:{},placeholder:{},color:{},variant:{},size:{},required:{type:Boolean},autofocus:{type:Boolean},autofocusDelay:{default:0},disabled:{type:Boolean},class:{},rows:{default:3},maxrows:{default:0},autoresize:{type:Boolean},highlight:{type:Boolean},ui:{}},{modelValue:{},modelModifiers:{}}),emits:re(["update:modelValue","blur","change"],["update:modelValue"]),setup(e,{expose:i,emit:a}){const t=e,o=a,[c,g]=_e(e,"modelValue"),{emitFormFocus:f,emitFormBlur:u,emitFormInput:p,emitFormChange:b,size:_,color:E,id:F,name:V,highlight:z,disabled:O,ariaAttrs:w}=we(t,{deferInputValidation:!0}),S=q(()=>ft({color:E.value,variant:t.variant,size:_==null?void 0:_.value,highlight:z.value})),v=D(null);function Z(){var r;t.autofocus&&((r=v.value)==null||r.focus())}function n(r){g.trim&&(r=(r==null?void 0:r.trim())??null),g.number&&(r=Se(r)),g.nullify&&(r||(r=null)),c.value=r,p()}function d(r){I(),g.lazy||n(r.target.value)}function h(r){const m=r.target.value;g.lazy&&n(m),g.trim&&(r.target.value=m.trim()),b(),o("change",r)}function A(r){u(),o("blur",r)}ee(()=>{setTimeout(()=>{Z()},t.autofocusDelay)});function I(){if(t.autoresize){if(!v.value)return;v.value.rows=t.rows;const r=v.value.style.overflow;v.value.style.overflow="hidden";const m=window.getComputedStyle(v.value),B=Number.parseInt(m.paddingTop),$=Number.parseInt(m.paddingBottom),U=B+$,P=Number.parseInt(m.lineHeight),{scrollHeight:N}=v.value,l=(N-U)/P;l>t.rows&&(v.value.rows=t.maxrows?Math.min(l,t.maxrows):l),v.value.style.overflow=r}}return Ne(c,()=>{Ve(I)}),i({textareaRef:v}),ee(()=>{setTimeout(()=>{I()},100)}),(r,m)=>{var B;return x(),T(s(se),{as:r.as,class:y(S.value.root({class:[t.class,(B=t.ui)==null?void 0:B.root]}))},{default:k(()=>{var $;return[te("textarea",ne({id:s(F),ref_key:"textareaRef",ref:v,value:s(c),name:s(V),rows:r.rows,placeholder:r.placeholder,class:S.value.base({class:($=t.ui)==null?void 0:$.base}),disabled:s(O),required:r.required},{...r.$attrs,...s(w)},{onInput:d,onBlur:A,onChange:h,onFocus:m[0]||(m[0]=(...U)=>s(f)&&s(f)(...U))}),null,16,gt),j(r.$slots,"default")]}),_:3},8,["as","class"])}}}),bt=Object.assign(mt,{__name:"UTextarea"});function vt(e){return e.validate&&e.__isYupSchema__}function ht(e){return e.inner!==void 0}function yt(e){return"schema"in e&&typeof e.coercer=="function"&&typeof e.validator=="function"&&typeof e.refiner=="function"}function xt(e){return e.parse!==void 0}function zt(e){return e.validateAsync!==void 0&&e.id!==void 0}function It(e){return e.isJoi===!0}function _t(e){return"_run"in e||typeof e=="function"&&"schema"in e}function wt(e){return"~standard"in e}async function St(e,i){var t;const a=await i["~standard"].validate(e);return a.issues?{errors:((t=a.issues)==null?void 0:t.map(o=>{var c;return{name:((c=o.path)==null?void 0:c.map(g=>typeof g=="object"?g.key:g).join("."))||"",message:o.message}}))||[],result:null}:{errors:null,result:a.value}}async function $t(e,i){try{return{errors:null,result:await i.validate(e,{abortEarly:!1})}}catch(a){if(ht(a))return{errors:a.inner.map(o=>({name:o.path??"",message:o.message})),result:null};throw a}}async function Ft(e,i){const[a,t]=i.validate(e);return a?{errors:a.failures().map(c=>({message:c.message,name:c.path.join(".")})),result:null}:{errors:null,result:t}}async function Vt(e,i){const a=await i.safeParseAsync(e);return a.success===!1?{errors:a.error.issues.map(o=>({name:o.path.join("."),message:o.message})),result:null}:{result:a.data,errors:null}}async function At(e,i){try{return{errors:null,result:await i.validateAsync(e,{abortEarly:!1})}}catch(a){if(It(a))return{errors:a.details.map(o=>({name:o.path.join("."),message:o.message})),result:null};throw a}}async function Bt(e,i){const a=await("_run"in i?i._run({typed:!1,value:e},{}):i(e));return!a.issues||a.issues.length===0?{errors:null,result:"output"in a?a.output:"value"in a?a.value:null}:{errors:a.issues.map(o=>{var c;return{name:((c=o.path)==null?void 0:c.map(g=>g.key).join("."))||"",message:o.message}}),result:null}}function kt(e,i){if(xt(i))return Vt(e,i);if(zt(i))return At(e,i);if(wt(i))return St(e,i);if(_t(i))return Bt(e,i);if(vt(i))return $t(e,i);if(yt(i))return Ft(e,i);throw new Error("Form validation failed: Unsupported form schema")}class X extends Error{constructor(a,t,o){super("Form validation exception");ie(this,"formId");ie(this,"errors");ie(this,"children");this.formId=a,this.errors=t,this.children=o,Object.setPrototypeOf(this,X.prototype)}}const jt={base:""},Et=oe;var ze;const Ut=R({extend:R(jt),...((ze=Et.ui)==null?void 0:ze.form)||{}}),Ct=W({__name:"Form",props:{id:{},schema:{},state:{},validate:{},validateOn:{default(){return["input","blur","change"]}},disabled:{type:Boolean},validateOnInputDelay:{default:300},class:{},transform:{type:Boolean,default:!0},onSubmit:{}},emits:["submit","error"],setup(e,{expose:i,emit:a}){const t=e,o=a,c=t.id??Fe(),g=Je(`form-${c}`),f=$e(be,void 0);H(be,g);const u=D(new Map);ee(async()=>{g.on(async n=>{var d;n.type==="attach"?u.value.set(n.formId,{validate:n.validate}):n.type==="detach"?u.value.delete(n.formId):(d=t.validateOn)!=null&&d.includes(n.type)&&!S.value&&(n.type!=="input"?await w({name:n.name,silent:!0,nested:!1}):(n.eager||F.has(n.name))&&await w({name:n.name,silent:!0,nested:!1})),n.type==="blur"&&F.add(n.name),(n.type==="change"||n.type==="input"||n.type==="blur"||n.type==="focus")&&E.add(n.name),(n.type==="change"||n.type==="input")&&_.add(n.name)})}),ve(()=>{g.reset()}),ee(async()=>{f&&(await Ve(),f.emit({type:"attach",validate:w,formId:c}))}),ve(()=>{f&&f.emit({type:"detach",formId:c})});const p=D([]);H("form-errors",p);const b=D({});H(Ge,b);const _=new Set,E=new Set,F=new Set;function V(n){return n.map(d=>{var h;return{...d,id:d!=null&&d.name?(h=b.value[d.name])==null?void 0:h.id:void 0}})}const z=D(null);async function O(){let n=t.validate?await t.validate(t.state)??[]:[];if(t.schema){const{errors:d,result:h}=await kt(t.state,t.schema);d?n=n.concat(d):z.value=h}return V(n)}async function w(n={silent:!1,nested:!0,transform:!1}){const d=n.name&&!Array.isArray(n.name)?[n.name]:n.name,h=!d&&n.nested?Array.from(u.value.values()).map(({validate:I})=>I(n).then(()=>{}).catch(r=>{if(!(r instanceof X))throw r;return r})):[];if(d){const I=p.value.filter(m=>!d.some(B=>{var U,P,N;const $=(P=(U=b.value)==null?void 0:U[B])==null?void 0:P.pattern;return B===m.name||$&&((N=m.name)==null?void 0:N.match($))})),r=(await O()).filter(m=>d.some(B=>{var U,P,N;const $=(P=(U=b.value)==null?void 0:U[B])==null?void 0:P.pattern;return B===m.name||$&&((N=m.name)==null?void 0:N.match($))}));p.value=I.concat(r)}else p.value=await O();const A=(await Promise.all(h)).filter(I=>I!==void 0);if(p.value.length+A.length>0){if(n.silent)return!1;throw new X(c,p.value,A)}return n.transform&&Object.assign(t.state,z.value),t.state}const S=D(!1);H(De,ae(S));async function v(n){var h;S.value=!0;const d=n;try{d.data=await w({nested:!0,transform:t.transform}),await((h=t.onSubmit)==null?void 0:h.call(t,d))}catch(A){if(!(A instanceof X))throw A;const I={...d,errors:A.errors,children:A.children};o("error",I)}finally{S.value=!1}}const Z=q(()=>t.disabled||S.value);return H(Te,q(()=>({disabled:Z.value,validateOnInputDelay:t.validateOnInputDelay}))),i({validate:w,errors:p,setErrors(n,d){d?p.value=p.value.filter(h=>h.name!==d).concat(V(n)):p.value=V(n)},async submit(){await v(new Event("submit"))},getErrors(n){return n?p.value.filter(d=>d.name===n):p.value},clear(n){n?p.value=p.value.filter(d=>d.name!==n):p.value=[]},disabled:Z,dirty:q(()=>!!_.size),dirtyFields:ae(_),blurredFields:ae(F),touchedFields:ae(E)}),(n,d)=>(x(),T(Re(s(f)?"div":"form"),{id:s(c),class:y(s(Ut)({class:t.class})),onSubmit:Me(v,["prevent"])},{default:k(()=>[j(n.$slots,"default",{errors:p.value})]),_:3},40,["id","class"]))}}),qt=Object.assign(Ct,{__name:"UForm"}),Ae=e=>{if(e=s(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let i in e)return!0;return!1}return!!String(e).length};function J(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=>(t=s(t),!Ae(t)||i.every(o=>(o.lastIndex=0,o.test(t))))}J(/^[a-zA-Z]*$/);J(/^[a-zA-Z0-9]*$/);J(/^\d*(\.\d+)?$/);const Ot=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Pt=J(Ot),Nt={$validator:Pt,$message:"Value is not a valid email address",$params:{type:"email"}};function Dt(e){return typeof e=="string"&&(e=e.trim()),Ae(e)}var le={$validator:Dt,$message:"Value is required",$params:{type:"required"}};const Tt=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;J(Tt);J(/(^[0-9]*$)|(^-[0-9]+$)/);J(/^[-]?\d*(\.\d+)?$/);const Mt={class:"flex"},Wt=W({__name:"contact",setup(e){const i=D("Kontakt"),a=Ke({name:"",email:"",message:""}),t=q(()=>({email:{required:le,email:Nt},name:{required:le},message:{required:le}}));async function o(c){console.log(c.data)}return(c,g)=>{const f=je,u=it,p=ct,b=bt,_=He,E=qt,F=We,V=Ze;return x(),T(V,null,{default:k(()=>[C(f,{title:s(i)},null,8,["title"]),C(F,null,{default:k(()=>[te("div",Mt,[C(E,{state:s(a),schema:s(t),class:"space-y-4 w-fit",onSubmit:o},{default:k(()=>[C(p,{label:"Name",name:"name"},{default:k(()=>[C(u,{modelValue:s(a).name,"onUpdate:modelValue":g[0]||(g[0]=z=>s(a).name=z)},null,8,["modelValue"])]),_:1}),C(p,{label:"E-Mail",name:"email"},{default:k(()=>[C(u,{modelValue:s(a).email,"onUpdate:modelValue":g[1]||(g[1]=z=>s(a).email=z),type:"email"},null,8,["modelValue"])]),_:1}),C(p,{label:"Nachricht",name:"message"},{default:k(()=>[C(b,{modelValue:s(a).message,"onUpdate:modelValue":g[2]||(g[2]=z=>s(a).message=z)},null,8,["modelValue"])]),_:1}),C(_,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Wt as default};
