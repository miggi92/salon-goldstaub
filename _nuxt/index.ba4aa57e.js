import{ax as O,ay as R,az as L,r as y,aA as P,E as k,W as A,aB as q,L as x,aC as B,o as D}from"./entry.64410afc.js";function G(t,e){let n,o,i;const r=y(!0),s=()=>{r.value=!0,i()};A(t,s,{flush:"sync"});const a=typeof e=="function"?e:e.get,u=typeof e=="function"?void 0:e.set,l=q((c,d)=>(o=c,i=d,{get(){return r.value&&(n=a(),r.value=!1),o(),n},set(v){u==null||u(v)}}));return Object.isExtensible(l)&&(l.trigger=s),l}function h(t){return R()?(L(t),!0):!1}function K(t){let e=0,n,o;const i=()=>{e-=1,o&&e<=0&&(o.stop(),n=void 0,o=void 0)};return(...r)=>(e+=1,n||(o=O(!0),n=o.run(()=>t(...r))),h(i),n)}function b(t){return typeof t=="function"?t():k(t)}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=Object.prototype.toString,F=t=>z.call(t)==="[object Object]",I=()=>{};function N(t){let e;function n(){return e||(e=t()),e}return n.reset=async()=>{const o=e;e=void 0,o&&await o},n}function V(t,e,n={}){const{immediate:o=!0}=n,i=y(!1);let r=null;function s(){r&&(clearTimeout(r),r=null)}function a(){i.value=!1,s()}function u(...l){s(),i.value=!0,r=setTimeout(()=>{i.value=!1,r=null,t(...l)},b(e))}return o&&(i.value=!0,S&&u()),h(a),{isPending:P(i),start:u,stop:a}}function $(t){var e;const n=b(t);return(e=n==null?void 0:n.$el)!=null?e:n}const T=S?window:void 0,_=S?window.navigator:void 0;function g(...t){let e,n,o,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,o,i]=t,e=T):[e,n,o,i]=t,!e)return I;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],s=()=>{r.forEach(c=>c()),r.length=0},a=(c,d,v,m)=>(c.addEventListener(d,v,m),()=>c.removeEventListener(d,v,m)),u=A(()=>[$(e),b(i)],([c,d])=>{if(s(),!c)return;const v=F(d)?{...d}:d;r.push(...n.flatMap(m=>o.map(w=>a(c,m,w,v))))},{immediate:!0,flush:"post"}),l=()=>{u(),s()};return h(l),l}function Q(t={}){var e;const{window:n=T,deep:o=!0}=t,i=(e=t.document)!=null?e:n==null?void 0:n.document,r=()=>{var a;let u=i==null?void 0:i.activeElement;if(o)for(;u!=null&&u.shadowRoot;)u=(a=u==null?void 0:u.shadowRoot)==null?void 0:a.activeElement;return u},s=G(()=>null,()=>r());return n&&(g(n,"blur",a=>{a.relatedTarget===null&&s.trigger()},!0),g(n,"focus",s.trigger,!0)),s}function H(){const t=y(!1);return B()&&D(()=>{t.value=!0}),t}function W(t){const e=H();return x(()=>(e.value,!!t()))}function E(t,e={}){const{controls:n=!1,navigator:o=_}=e,i=W(()=>o&&"permissions"in o);let r;const s=typeof t=="string"?{name:t}:t,a=y(),u=()=>{r&&(a.value=r.state)},l=N(async()=>{if(i.value){if(!r)try{r=await o.permissions.query(s),g(r,"change",u),u()}catch{a.value="prompt"}return r}});return l(),n?{state:a,isSupported:i,query:l}:a}function U(t={}){const{navigator:e=_,read:n=!1,source:o,copiedDuring:i=1500,legacy:r=!1}=t,s=W(()=>e&&"clipboard"in e),a=E("clipboard-read"),u=E("clipboard-write"),l=x(()=>s.value||r),c=y(""),d=y(!1),v=V(()=>d.value=!1,i);function m(){s.value&&a.value!=="denied"?e.clipboard.readText().then(f=>{c.value=f}):c.value=M()}l.value&&n&&g(["copy","cut"],m);async function w(f=b(o)){l.value&&f!=null&&(s.value&&u.value!=="denied"?await e.clipboard.writeText(f):j(f),c.value=f,d.value=!0,v.start())}function j(f){const p=document.createElement("textarea");p.value=f??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function M(){var f,p,C;return(C=(p=(f=document==null?void 0:document.getSelection)==null?void 0:f.call(document))==null?void 0:p.toString())!=null?C:""}return{isSupported:l,text:c,copied:d,copy:w}}export{U as a,$ as b,K as c,Q as u};
