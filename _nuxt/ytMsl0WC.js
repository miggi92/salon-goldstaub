import{_ as Se}from"./Db6bIrYD.js";import{u as ge,a as we}from"./BwSFGJae.js";import{L as fe,X as $e,D as S,h as f,w as I,E as x,H as X,K as r,P as re,B as ue,x as se,Y as pe,Z as Ae,$ as me,C as k,a0 as _,r as D,o as ie,f as Q,c as U,d as w,n as p,a1 as te,I as ye,a2 as ve,a3 as he,a4 as be,a5 as H,a6 as Be,e as F,z as J,t as W,a7 as Ve,a8 as Fe,a9 as xe,aa as de,ab as ae,b as ce,ac as ee,ad as ke,ae as Ne,af as je,ag as Ee,ah as Me,S as Ce}from"./CHzFiUbR.js";import{a as Oe,_ as De}from"./BVaBm7V5.js";import"./vvQ4ZYWs.js";const Ue=fe({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{default:"label"}},setup(a){const t=a;return $e(),(s,e)=>(f(),S(r(re),X(t,{onMousedown:e[0]||(e[0]=n=>{!n.defaultPrevented&&n.detail>1&&n.preventDefault()})}),{default:I(()=>[x(s.$slots,"default")]),_:3},16))}}),Pe={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Te=["id","type","value","name","placeholder","disabled","required","autocomplete"],_e=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:t,emit:s}){const e=a,n=s,m=ue(),c=ge(e,"modelValue",n,{defaultValue:e.defaultValue}),v=se(),{emitFormBlur:y,emitFormInput:u,emitFormChange:N,size:g,color:j,id:E,name:P,highlight:z,disabled:K,emitFormFocus:R,ariaAttrs:Y}=pe(e,{deferInputValidation:!0}),{orientation:$,size:q}=Ae(e),{isLeading:C,isTrailing:T,leadingIconName:i,trailingIconName:l}=me(e),h=k(()=>q.value||g.value),b=k(()=>_({extend:_(Pe),...v.ui?.input||{}})({type:e.type,color:j.value,variant:e.variant,size:h?.value,loading:e.loading,highlight:z.value,leading:C.value||!!e.avatar||!!m.leading,trailing:T.value||!!m.trailing,buttonGroup:$.value})),A=D(null);function M(d){e.modelModifiers?.trim&&(d=d?.trim()??null),(e.modelModifiers?.number||e.type==="number")&&(d=ve(d)),e.modelModifiers?.nullify&&(d||=null),c.value=d,u()}function O(d){e.modelModifiers?.lazy||M(d.target.value)}function B(d){const G=d.target.value;e.modelModifiers?.lazy&&M(G),e.modelModifiers?.trim&&(d.target.value=G.trim()),N(),n("change",d)}function o(d){y(),n("blur",d)}function V(){e.autofocus&&A.value?.focus()}return ie(()=>{setTimeout(()=>{V()},e.autofocusDelay)}),t({inputRef:A}),(d,G)=>(f(),S(r(re),{as:a.as,class:p(b.value.root({class:[e.ui?.root,e.class]}))},{default:I(()=>[Q("input",X({id:r(E),ref_key:"inputRef",ref:A,type:a.type,value:r(c),name:r(P),placeholder:a.placeholder,class:b.value.base({class:e.ui?.base}),disabled:r(K),required:a.required,autocomplete:a.autocomplete},{...d.$attrs,...r(Y)},{onInput:O,onBlur:o,onChange:B,onFocus:G[0]||(G[0]=(...ne)=>r(R)&&r(R)(...ne))}),null,16,Te),x(d.$slots,"default"),r(C)||a.avatar||m.leading?(f(),U("span",{key:0,class:p(b.value.leading({class:e.ui?.leading}))},[x(d.$slots,"leading",{},()=>[r(C)&&r(i)?(f(),S(te,{key:0,name:r(i),class:p(b.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):a.avatar?(f(),S(ye,X({key:1,size:e.ui?.leadingAvatarSize||b.value.leadingAvatarSize()},a.avatar,{class:b.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):w("",!0)])],2)):w("",!0),r(T)||m.trailing?(f(),U("span",{key:1,class:p(b.value.trailing({class:e.ui?.trailing}))},[x(d.$slots,"trailing",{},()=>[r(l)?(f(),S(te,{key:0,name:r(l),class:p(b.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):w("",!0)])],2)):w("",!0)]),_:3},8,["as","class"]))}}),Ke={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-default",container:"mt-1 relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}}},defaultVariants:{size:"md"}},Re=["id"],Ge=["id"],He=["id"],Le=["id"],Ye={__name:"UFormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const t=a,s=ue(),e=se(),n=k(()=>_({extend:_(Ke),...e.ui?.formField||{}})({size:t.size,required:t.required})),m=he("form-errors",null),c=k(()=>t.error||m?.value?.find(u=>u.name&&(u.name===t.name||t.errorPattern&&u.name.match(t.errorPattern)))?.message),v=D(be()),y=v.value;return H(Ve,v),H(Be,k(()=>({error:c.value,name:t.name,size:t.size,eagerValidation:t.eagerValidation,validateOnInputDelay:t.validateOnInputDelay,errorPattern:t.errorPattern,hint:t.hint,description:t.description,help:t.help,ariaId:y}))),(u,N)=>(f(),S(r(re),{as:a.as,class:p(n.value.root({class:[t.ui?.root,t.class]}))},{default:I(()=>[Q("div",{class:p(n.value.wrapper({class:t.ui?.wrapper}))},[a.label||s.label?(f(),U("div",{key:0,class:p(n.value.labelWrapper({class:t.ui?.labelWrapper}))},[F(r(Ue),{for:v.value,class:p(n.value.label({class:t.ui?.label}))},{default:I(()=>[x(u.$slots,"label",{label:a.label},()=>[J(W(a.label),1)])]),_:3},8,["for","class"]),a.hint||s.hint?(f(),U("span",{key:0,id:`${r(y)}-hint`,class:p(n.value.hint({class:t.ui?.hint}))},[x(u.$slots,"hint",{hint:a.hint},()=>[J(W(a.hint),1)])],10,Re)):w("",!0)],2)):w("",!0),a.description||s.description?(f(),U("p",{key:1,id:`${r(y)}-description`,class:p(n.value.description({class:t.ui?.description}))},[x(u.$slots,"description",{description:a.description},()=>[J(W(a.description),1)])],10,Ge)):w("",!0)],2),Q("div",{class:p([(a.label||!!s.label||a.description||!!s.description)&&n.value.container({class:t.ui?.container})])},[x(u.$slots,"default",{error:c.value}),typeof c.value=="string"&&c.value||s.error?(f(),U("div",{key:0,id:`${r(y)}-error`,class:p(n.value.error({class:t.ui?.error}))},[x(u.$slots,"error",{error:c.value},()=>[J(W(c.value),1)])],10,He)):a.help||s.help?(f(),U("div",{key:1,id:`${r(y)}-help`,class:p(n.value.help({class:t.ui?.help}))},[x(u.$slots,"help",{help:a.help},()=>[J(W(a.help),1)])],10,Le)):w("",!0)],2)]),_:3},8,["as","class"]))}},Je={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},We=["id","value","name","rows","placeholder","disabled","required"],Ze=Object.assign({inheritAttrs:!1},{__name:"UTextarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:t,emit:s}){const e=a,n=s,m=ue(),c=ge(e,"modelValue",n,{defaultValue:e.defaultValue}),v=se(),{emitFormFocus:y,emitFormBlur:u,emitFormInput:N,emitFormChange:g,size:j,color:E,id:P,name:z,highlight:K,disabled:R,ariaAttrs:Y}=pe(e,{deferInputValidation:!0}),{isLeading:$,isTrailing:q,leadingIconName:C,trailingIconName:T}=me(e),i=k(()=>_({extend:_(Je),...v.ui?.textarea||{}})({color:E.value,variant:e.variant,size:j?.value,loading:e.loading,highlight:K.value,autoresize:e.autoresize,leading:$.value||!!e.avatar||!!m.leading,trailing:q.value||!!m.trailing})),l=D(null);function h(o){e.modelModifiers?.trim&&(o=o?.trim()??null),e.modelModifiers?.number&&(o=ve(o)),e.modelModifiers?.nullify&&(o||=null),c.value=o,N()}function b(o){B(),e.modelModifiers?.lazy||h(o.target.value)}function A(o){const V=o.target.value;e.modelModifiers?.lazy&&h(V),e.modelModifiers?.trim&&(o.target.value=V.trim()),g(),n("change",o)}function M(o){u(),n("blur",o)}function O(){e.autofocus&&l.value?.focus()}function B(){if(e.autoresize&&l.value){l.value.rows=e.rows;const o=l.value.style.overflow;l.value.style.overflow="hidden";const V=window.getComputedStyle(l.value),d=Number.parseInt(V.paddingTop),G=Number.parseInt(V.paddingBottom),ne=d+G,qe=Number.parseInt(V.lineHeight),{scrollHeight:Ie}=l.value,le=(Ie-ne)/qe;le>e.rows&&(l.value.rows=e.maxrows?Math.min(le,e.maxrows):le),l.value.style.overflow=o}}return Fe(c,()=>{xe(B)}),ie(()=>{setTimeout(()=>{O()},e.autofocusDelay),setTimeout(()=>{B()},e.autoresizeDelay)}),t({textareaRef:l}),(o,V)=>(f(),S(r(re),{as:a.as,class:p(i.value.root({class:[e.ui?.root,e.class]}))},{default:I(()=>[Q("textarea",X({id:r(P),ref_key:"textareaRef",ref:l,value:r(c),name:r(z),rows:a.rows,placeholder:a.placeholder,class:i.value.base({class:e.ui?.base}),disabled:r(R),required:a.required},{...o.$attrs,...r(Y)},{onInput:b,onBlur:M,onChange:A,onFocus:V[0]||(V[0]=(...d)=>r(y)&&r(y)(...d))}),null,16,We),x(o.$slots,"default"),r($)||a.avatar||m.leading?(f(),U("span",{key:0,class:p(i.value.leading({class:e.ui?.leading}))},[x(o.$slots,"leading",{},()=>[r($)&&r(C)?(f(),S(te,{key:0,name:r(C),class:p(i.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):a.avatar?(f(),S(ye,X({key:1,size:e.ui?.leadingAvatarSize||i.value.leadingAvatarSize()},a.avatar,{class:i.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):w("",!0)])],2)):w("",!0),r(q)||m.trailing?(f(),U("span",{key:1,class:p(i.value.trailing({class:e.ui?.trailing}))},[x(o.$slots,"trailing",{},()=>[r(T)?(f(),S(te,{key:0,name:r(T),class:p(i.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):w("",!0)])],2)):w("",!0)]),_:3},8,["as","class"]))}});function Xe(a){return a.validate&&a.__isYupSchema__}function Qe(a){return a.inner!==void 0}function ea(a){return"schema"in a&&typeof a.coercer=="function"&&typeof a.validator=="function"&&typeof a.refiner=="function"}function aa(a){return a.validateAsync!==void 0&&a.id!==void 0}function ia(a){return a.isJoi===!0}function ta(a){return"~standard"in a}async function ra(a,t){const s=await t["~standard"].validate(a);return s.issues?{errors:s.issues?.map(e=>({name:e.path?.map(n=>typeof n=="object"?n.key:n).join(".")||"",message:e.message}))||[],result:null}:{errors:null,result:s.value}}async function sa(a,t){try{return{errors:null,result:await t.validate(a,{abortEarly:!1})}}catch(s){if(Qe(s))return{errors:s.inner.map(n=>({name:n.path??"",message:n.message})),result:null};throw s}}async function na(a,t){const[s,e]=t.validate(a);return s?{errors:s.failures().map(m=>({message:m.message,name:m.path.join(".")})),result:null}:{errors:null,result:e}}async function la(a,t){try{return{errors:null,result:await t.validateAsync(a,{abortEarly:!1})}}catch(s){if(ia(s))return{errors:s.details.map(n=>({name:n.path.join("."),message:n.message})),result:null};throw s}}function oa(a,t){if(ta(t))return ra(a,t);if(aa(t))return la(a,t);if(Xe(t))return sa(a,t);if(ea(t))return na(a,t);throw new Error("Form validation failed: Unsupported form schema")}class Z extends Error{formId;errors;children;constructor(t,s,e){super("Form validation exception"),this.formId=t,this.errors=s,this.children=e,Object.setPrototypeOf(this,Z.prototype)}}const ua={base:""},da={__name:"UForm",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:Object,required:!0},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},attach:{type:Boolean,required:!1,default:!0},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(a,{expose:t,emit:s}){const e=a,n=s,m=se(),c=k(()=>_({extend:_(ua),...m.ui?.form||{}})),v=e.id??be(),y=we(`form-${v}`),u=e.attach&&he(de,void 0);H(de,y);const N=D(new Map);ie(async()=>{y.on(async i=>{i.type==="attach"?N.value.set(i.formId,{validate:i.validate}):i.type==="detach"?N.value.delete(i.formId):e.validateOn?.includes(i.type)&&!q.value&&(i.type!=="input"?await $({name:i.name,silent:!0,nested:!1}):(i.eager||z.has(i.name))&&await $({name:i.name,silent:!0,nested:!1})),i.type==="blur"&&z.add(i.name),(i.type==="change"||i.type==="input"||i.type==="blur"||i.type==="focus")&&P.add(i.name),(i.type==="change"||i.type==="input")&&E.add(i.name)})}),ce(()=>{y.reset()}),ie(async()=>{u&&(await xe(),u.emit({type:"attach",validate:$,formId:v}))}),ce(()=>{u&&u.emit({type:"detach",formId:v})});const g=D([]);H("form-errors",g);const j=D({});H(Me,j);const E=ae(new Set),P=ae(new Set),z=ae(new Set);function K(i){return i.map(l=>({...l,id:l?.name?j.value[l.name]?.id:void 0}))}const R=D(null);async function Y(){let i=e.validate?await e.validate(e.state)??[]:[];if(e.schema){const{errors:l,result:h}=await oa(e.state,e.schema);l?i=i.concat(l):R.value=h}return K(i)}async function $(i={silent:!1,nested:!0,transform:!1}){const l=i.name&&!Array.isArray(i.name)?[i.name]:i.name,h=!l&&i.nested?Array.from(N.value.values()).map(({validate:A})=>A(i).then(()=>{}).catch(M=>{if(!(M instanceof Z))throw M;return M})):[];if(l){const A=g.value.filter(O=>!l.some(B=>{const o=j.value?.[B]?.pattern;return B===O.name||o&&O.name?.match(o)})),M=(await Y()).filter(O=>l.some(B=>{const o=j.value?.[B]?.pattern;return B===O.name||o&&O.name?.match(o)}));g.value=A.concat(M)}else g.value=await Y();const b=(await Promise.all(h)).filter(A=>A!==void 0);if(g.value.length+b.length>0){if(i.silent)return!1;throw new Z(v,g.value,b)}return i.transform&&Object.assign(e.state,R.value),e.state}const q=D(!1);H(ke,ee(q));async function C(i){q.value=e.loadingAuto&&!0;const l=i;try{l.data=await $({nested:!0,transform:e.transform}),await e.onSubmit?.(l),E.clear()}catch(h){if(!(h instanceof Z))throw h;const b={...l,errors:h.errors,children:h.children};n("error",b)}finally{q.value=!1}}const T=k(()=>e.disabled||q.value);return H(Ne,k(()=>({disabled:T.value,validateOnInputDelay:e.validateOnInputDelay}))),t({validate:$,errors:g,setErrors(i,l){l?g.value=g.value.filter(h=>h.name!==l).concat(K(i)):g.value=K(i)},async submit(){await C(new Event("submit"))},getErrors(i){return i?g.value.filter(l=>l.name===i):g.value},clear(i){i?g.value=g.value.filter(l=>l.name!==i):g.value=[]},disabled:T,loading:q,dirty:k(()=>!!E.size),dirtyFields:ee(E),blurredFields:ee(z),touchedFields:ee(P)}),(i,l)=>(f(),S(Ee(r(u)?"div":"form"),{id:r(v),class:p(c.value({class:e.class})),onSubmit:je(C,["prevent"])},{default:I(()=>[x(i.$slots,"default",{errors:g.value,loading:q.value})]),_:3},40,["id","class"]))}},ze=a=>{if(a=r(a),Array.isArray(a))return!!a.length;if(a==null)return!1;if(a===!1)return!0;if(a instanceof Date)return!isNaN(a.getTime());if(typeof a=="object"){for(let t in a)return!0;return!1}return!!String(a).length};function L(){for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];return e=>(e=r(e),!ze(e)||t.every(n=>(n.lastIndex=0,n.test(e))))}L(/^[a-zA-Z]*$/);L(/^[a-zA-Z0-9]*$/);L(/^\d*(\.\d+)?$/);const ca=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var ga=L(ca),fa={$validator:ga,$message:"Value is not a valid email address",$params:{type:"email"}};function pa(a){return typeof a=="string"&&(a=a.trim()),ze(a)}var oe={$validator:pa,$message:"Value is required",$params:{type:"required"}};const ma=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;L(ma);L(/(^[0-9]*$)|(^-[0-9]+$)/);L(/^[-]?\d*(\.\d+)?$/);const ya={class:"flex"},qa=fe({__name:"contact",setup(a){const t=D("Kontakt"),s=ae({name:"",email:"",message:""}),e=k(()=>({email:{required:oe,email:fa},name:{required:oe},message:{required:oe}}));async function n(m){console.log(m.data)}return(m,c)=>{const v=Se,y=_e,u=Ye,N=Ze,g=Ce,j=da,E=De,P=Oe;return f(),S(P,null,{default:I(()=>[F(v,{title:r(t)},null,8,["title"]),F(E,null,{default:I(()=>[Q("div",ya,[F(j,{state:r(s),schema:r(e),class:"space-y-4 w-fit",onSubmit:n},{default:I(()=>[F(u,{label:"Name",name:"name"},{default:I(()=>[F(y,{modelValue:r(s).name,"onUpdate:modelValue":c[0]||(c[0]=z=>r(s).name=z)},null,8,["modelValue"])]),_:1}),F(u,{label:"E-Mail",name:"email"},{default:I(()=>[F(y,{modelValue:r(s).email,"onUpdate:modelValue":c[1]||(c[1]=z=>r(s).email=z),type:"email"},null,8,["modelValue"])]),_:1}),F(u,{label:"Nachricht",name:"message"},{default:I(()=>[F(N,{modelValue:r(s).message,"onUpdate:modelValue":c[2]||(c[2]=z=>r(s).message=z)},null,8,["modelValue"])]),_:1}),F(g,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{qa as default};
