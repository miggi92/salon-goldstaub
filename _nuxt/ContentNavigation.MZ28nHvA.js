import{u as y}from"./asyncData.eLXUWLl2.js";import{l as m,ab as $,ac as P,ad as C,ae as p,_ as h,d as T,aB as E,J as j,m as b,a3 as L,aa as u}from"./entry.kNKz5aKV.js";import{c as N,w as l,e as g,s as d,j as v,u as _}from"./utils.nnNvib__.js";import{u as D}from"./utils.GLzGS6J6.js";import{_ as x}from"./nuxt-link.49VuE-Hm.js";const Q=()=>async r=>{const{content:e}=m().public,a=r.params(),o=e.experimental.stripQueryParameters?l(`/query/${`${p(a)}.${e.integrity}`}/${g(a)}.json`):l(`/query/${p(a)}.${e.integrity}.json`);if(d())return(await h(()=>import("./client-db.6k4PKff-.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(t=>t.useContentDatabase())).fetch(r);const n=await $fetch(o,{method:"GET",responseType:"json",params:e.experimental.stripQueryParameters?void 0:{_params:v(a),previewToken:_().getPreviewToken()}});if(typeof n=="string"&&n.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return n};function R(r,...e){const{content:a}=m().public,o=N(Q(),{initialParams:typeof r!="string"?r:{},legacy:!0});let n;typeof r=="string"&&(n=$(P(r,...e)));const c=o.params;return o.params=()=>{var i,s,f;const t=c();return n&&(t.where=t.where||[],t.first&&(t.where||[]).length===0?t.where.push({_path:C(n)}):t.where.push({_path:new RegExp(`^${n.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(i=t.sort)!=null&&i.length||(t.sort=[{_file:1,$numeric:!0}]),a.locales.length&&((f=(s=t.where)==null?void 0:s.find(w=>w._locale))!=null&&f._locale||(t.where=t.where||[],t.where.push({_locale:a.defaultLocale}))),t},o}const O=async r=>{const{content:e}=m().public;typeof(r==null?void 0:r.params)!="function"&&(r=R(r));const a=r.params(),o=e.experimental.stripQueryParameters?l(`/navigation/${`${p(a)}.${e.integrity}`}/${g(a)}.json`):l(`/navigation/${p(a)}.${e.integrity}.json`);if(d())return(await h(()=>import("./client-db.6k4PKff-.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(t=>t.generateNavigation))(a);const n=await $fetch(o,{method:"GET",responseType:"json",params:e.experimental.stripQueryParameters?void 0:{_params:v(a),previewToken:_().getPreviewToken()}});if(typeof n=="string"&&n.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return n},S=T({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(r){const{query:e}=E(r),a=j(()=>{var n;return typeof((n=e.value)==null?void 0:n.params)=="function"?e.value.params():e.value});if(!a.value&&b("dd-navigation").value){const{navigation:n}=D();return{navigation:n}}const{data:o}=await y(`content-navigation-${p(a.value)}`,()=>O(a.value));return{navigation:o}},render(r){const e=L(),{navigation:a}=r,o=t=>u(x,{to:t._path},()=>t.title),n=(t,i)=>u("ul",i?{"data-level":i}:null,t.map(s=>s.children?u("li",null,[o(s),n(s.children,i+1)]):u("li",null,o(s)))),c=t=>n(t,0);return e!=null&&e.default?e.default({navigation:a,...this.$attrs}):c(a)}}),V=S;export{V as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./client-db.6k4PKff-.js","./entry.kNKz5aKV.js","./utils.nnNvib__.js","./index.1dSrIji7.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
