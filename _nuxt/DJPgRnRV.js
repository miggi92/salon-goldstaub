import{aE as z,aF as L,aG as B,aH as g,a4 as G,ay as y,L as P,aI as N,z as _,o as V,av as U,D as k,aa as $,q as J}from"./PrLYp0Bf.js";function C(e){return L()?(B(e),!0):!1}function de(e){let t=0,o,l;const a=()=>{t-=1,l&&t<=0&&(l.stop(),o=void 0,l=void 0)};return(...r)=>(t+=1,l||(l=z(!0),o=l.run(()=>e(...r))),C(a),o)}const j=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const K=e=>e!=null,Q=Object.prototype.toString,Z=e=>Q.call(e)==="[object Object]",R=()=>{};function X(e,t){function o(...l){return new Promise((a,r)=>{Promise.resolve(e(()=>t.apply(this,l),{fn:t,thisArg:this,args:l})).then(a).catch(r)})}return o}const ee=e=>e();function te(e,t={}){let o,l,a=R;const r=n=>{clearTimeout(n),a(),a=R};let c;return n=>{const u=y(e),i=y(t.maxWait);return o&&r(o),u<=0||i!==void 0&&i<=0?(l&&(r(l),l=null),Promise.resolve(n())):new Promise((d,p)=>{a=t.rejectOnCancel?p:d,c=n,i&&!l&&(l=setTimeout(()=>{o&&r(o),l=null,d(c())},i)),o=setTimeout(()=>{l&&r(l),l=null,d(n())},u)})}}function ne(...e){let t=0,o,l=!0,a=R,r,c,s,n,u;!N(e[0])&&typeof e[0]=="object"?{delay:c,trailing:s=!0,leading:n=!0,rejectOnCancel:u=!1}=e[0]:[c,s=!0,n=!0,u=!1]=e;const i=()=>{o&&(clearTimeout(o),o=void 0,a(),a=R)};return p=>{const m=y(c),w=Date.now()-t,b=()=>r=p();return i(),m<=0?(t=Date.now(),b()):(w>m&&(n||!l)?(t=Date.now(),b()):s&&(r=new Promise((S,T)=>{a=u?T:S,o=setTimeout(()=>{t=Date.now(),l=!0,S(b()),i()},Math.max(0,m-w))})),!n&&!o&&(o=setTimeout(()=>l=!0,m)),l=!1,r)}}function oe(e){let t;function o(){return t||(t=e()),t}return o.reset=async()=>{const l=t;t=void 0,l&&await l},o}function F(e){return Array.isArray(e)?e:[e]}function pe(e,t=200,o={}){return X(te(t,o),e)}function re(e,t,o={}){const{eventFilter:l=ee,...a}=o;return P(e,X(l,t),a)}function le(e,t,o={}){const{immediate:l=!0,immediateCallback:a=!1}=o,r=g(!1);let c=null;function s(){c&&(clearTimeout(c),c=null)}function n(){r.value=!1,s()}function u(...i){a&&e(),s(),r.value=!0,c=setTimeout(()=>{r.value=!1,c=null,e(...i)},y(t))}return l&&(r.value=!0,j&&u()),C(n),{isPending:G(r),start:u,stop:n}}function ue(e,t,o){return P(e,t,{...o,immediate:!0})}function ve(e,t,o={}){const{throttle:l=0,trailing:a=!0,leading:r=!0,...c}=o;return re(e,t,{...c,eventFilter:ne(l,a,r)})}const W=j?window:void 0,Y=j?window.navigator:void 0;function A(e){var t;const o=y(e);return(t=o==null?void 0:o.$el)!=null?t:o}function E(...e){const t=[],o=()=>{t.forEach(s=>s()),t.length=0},l=(s,n,u,i)=>(s.addEventListener(n,u,i),()=>s.removeEventListener(n,u,i)),a=_(()=>{const s=F(y(e[0])).filter(n=>n!=null);return s.every(n=>typeof n!="string")?s:void 0}),r=ue(()=>{var s,n;return[(n=(s=a.value)==null?void 0:s.map(u=>A(u)))!=null?n:[W].filter(u=>u!=null),F(y(a.value?e[1]:e[0])),F(k(a.value?e[2]:e[1])),y(a.value?e[3]:e[2])]},([s,n,u,i])=>{if(o(),!(s!=null&&s.length)||!(n!=null&&n.length)||!(u!=null&&u.length))return;const d=Z(i)?{...i}:i;t.push(...s.flatMap(p=>n.flatMap(m=>u.map(w=>l(p,m,w,d)))))},{flush:"post"}),c=()=>{r(),o()};return C(o),c}function ie(){const e=g(!1),t=U();return t&&V(()=>{e.value=!0},t),e}function D(e){const t=ie();return _(()=>(t.value,!!e()))}function se(e,t,o={}){const{window:l=W,...a}=o;let r;const c=D(()=>l&&"MutationObserver"in l),s=()=>{r&&(r.disconnect(),r=void 0)},n=_(()=>{const p=y(e),m=F(p).map(A).filter(K);return new Set(m)}),u=P(()=>n.value,p=>{s(),c.value&&p.size&&(r=new MutationObserver(t),p.forEach(m=>r.observe(m,a)))},{immediate:!0,flush:"post"}),i=()=>r==null?void 0:r.takeRecords(),d=()=>{u(),s()};return C(d),{isSupported:c,stop:d,takeRecords:i}}function ae(e,t,o={}){const{window:l=W,document:a=l==null?void 0:l.document,flush:r="sync"}=o;if(!l||!a)return R;let c;const s=i=>{c==null||c(),c=i},n=$(()=>{const i=A(e);if(i){const{stop:d}=se(a,p=>{p.map(w=>[...w.removedNodes]).flat().some(w=>w===i||w.contains(i))&&t(p)},{window:l,childList:!0,subtree:!0});s(d)}},{flush:r}),u=()=>{n(),s()};return C(u),u}function me(e={}){var t;const{window:o=W,deep:l=!0,triggerOnRemoval:a=!1}=e,r=(t=e.document)!=null?t:o==null?void 0:o.document,c=()=>{var u;let i=r==null?void 0:r.activeElement;if(l)for(;i!=null&&i.shadowRoot;)i=(u=i==null?void 0:i.shadowRoot)==null?void 0:u.activeElement;return i},s=g(),n=()=>{s.value=c()};if(o){const u={capture:!0,passive:!0};E(o,"blur",i=>{i.relatedTarget===null&&n()},u),E(o,"focus",n,u)}return a&&ae(s,n,{document:r}),n(),s}function H(e,t={}){const{controls:o=!1,navigator:l=Y}=t,a=D(()=>l&&"permissions"in l),r=g(),c=typeof e=="string"?{name:e}:e,s=g(),n=()=>{var i,d;s.value=(d=(i=r.value)==null?void 0:i.state)!=null?d:"prompt"};E(r,"change",n,{passive:!0});const u=oe(async()=>{if(a.value){if(!r.value)try{r.value=await l.permissions.query(c)}catch{r.value=void 0}finally{n()}if(o)return J(r.value)}});return u(),o?{state:s,isSupported:a,query:u}:s}function he(e={}){const{navigator:t=Y,read:o=!1,source:l,copiedDuring:a=1500,legacy:r=!1}=e,c=D(()=>t&&"clipboard"in t),s=H("clipboard-read"),n=H("clipboard-write"),u=_(()=>c.value||r),i=g(""),d=g(!1),p=le(()=>d.value=!1,a,{immediate:!1});async function m(){let v=!(c.value&&T(s.value));if(!v)try{i.value=await t.clipboard.readText()}catch{v=!0}v&&(i.value=S())}u.value&&o&&E(["copy","cut"],m,{passive:!0});async function w(v=y(l)){if(u.value&&v!=null){let h=!(c.value&&T(n.value));if(!h)try{await t.clipboard.writeText(v)}catch{h=!0}h&&b(v),i.value=v,d.value=!0,p.start()}}function b(v){const h=document.createElement("textarea");h.value=v??"",h.style.position="absolute",h.style.opacity="0",document.body.appendChild(h),h.select(),document.execCommand("copy"),h.remove()}function S(){var v,h,x;return(x=(h=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:h.toString())!=null?x:""}function T(v){return v==="granted"||v==="prompt"}return{isSupported:u,text:i,copied:d,copy:w}}const O=new Map;function we(e){const t=L();function o(s){var n;const u=O.get(e)||new Set;u.add(s),O.set(e,u);const i=()=>a(s);return(n=t==null?void 0:t.cleanups)==null||n.push(i),i}function l(s){function n(...u){a(n),s(...u)}return o(n)}function a(s){const n=O.get(e);n&&(n.delete(s),n.size||r())}function r(){O.delete(e)}function c(s,n){var u;(u=O.get(e))==null||u.forEach(i=>i(s,n))}return{on:o,once:l,off:a,emit:c,reset:r}}const ce={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ge(e={}){const{type:t="page",touch:o=!0,resetOnTouchEnds:l=!1,initialValue:a={x:0,y:0},window:r=W,target:c=r,scroll:s=!0,eventFilter:n}=e;let u=null,i=0,d=0;const p=g(a.x),m=g(a.y),w=g(null),b=typeof t=="function"?t:ce[t],S=f=>{const M=b(f);u=f,M&&([p.value,m.value]=M,w.value="mouse"),r&&(i=r.scrollX,d=r.scrollY)},T=f=>{if(f.touches.length>0){const M=b(f.touches[0]);M&&([p.value,m.value]=M,w.value="touch")}},v=()=>{if(!u||!r)return;const f=b(u);u instanceof MouseEvent&&f&&(p.value=f[0]+r.scrollX-i,m.value=f[1]+r.scrollY-d)},h=()=>{p.value=a.x,m.value=a.y},x=n?f=>n(()=>S(f),{}):f=>S(f),I=n?f=>n(()=>T(f),{}):f=>T(f),q=n?()=>n(()=>v(),{}):()=>v();if(c){const f={passive:!0};E(c,["mousemove","dragover"],x,f),o&&t!=="movement"&&(E(c,["touchstart","touchmove"],I,f),l&&E(c,"touchend",h,f)),s&&t==="page"&&E(r,"scroll",q,f)}return{x:p,y:m,sourceType:w}}export{A as a,pe as b,de as c,W as d,we as e,me as f,he as g,ge as u,ve as w};
