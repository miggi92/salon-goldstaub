import{_ as Oe}from"./G0dlvGU0.js";import{M as qe,Y as Me,E as F,h as y,w as A,G as I,I as oe,L as n,P as ve,B as he,x as ye,Z as Ie,$ as Ce,a0 as Se,C as B,D as Z,r as _,o as ge,f as ue,c as P,d as E,n as b,a1 as pe,J as we,a2 as $e,a3 as me,a4 as Ae,a5 as Be,a6 as Fe,a7 as Ee,a8 as H,a9 as Ue,e as O,z as ne,t as se,aa as De,ab as Ve,ac as xe,ad as ze,ae as ce,b as Te,af as fe,ag as _e,ah as Pe,ai as Re,aj as Ke,U as Le}from"#entry";import{u as ke,a as We}from"./DWysAVYb.js";import{a as Ge,_ as He}from"./DESQ6J09.js";var Ze=qe({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(t){const r=t;return Me(),(l,e)=>(y(),F(n(ve),oe(r,{onMousedown:e[0]||(e[0]=s=>{!s.defaultPrevented&&s.detail>1&&s.preventDefault()})}),{default:A(()=>[I(l.$slots,"default")]),_:3},16))}}),Je=Ze;const Ye={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Qe=["id","type","value","name","placeholder","disabled","required","autocomplete"],Xe=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:[String,Object],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},emits:["update:modelValue","blur","change"],setup(t,{expose:r,emit:l}){const e=t,s=l,g=he(),u=ke(e,"modelValue",s,{defaultValue:e.defaultValue}),f=ye(),{emitFormBlur:x,emitFormInput:S,emitFormChange:p,size:M,color:V,id:k,name:m,highlight:q,disabled:R,emitFormFocus:J,ariaAttrs:Y}=Ie(e,{deferInputValidation:!0}),{orientation:K,size:D}=Ce(e),{isLeading:L,isTrailing:N,leadingIconName:h,trailingIconName:z}=Se(e),Q=B(()=>D.value||M.value),$=B(()=>Z({extend:Z(Ye),...f.ui?.input||{}})({type:e.type,color:V.value,variant:e.variant,size:Q?.value,loading:e.loading,highlight:q.value,leading:L.value||!!e.avatar||!!g.leading,trailing:N.value||!!g.trailing,fieldGroup:K.value})),X=_(null);function ae(c){e.modelModifiers?.trim&&(c=c?.trim()??null),(e.modelModifiers?.number||e.type==="number")&&(c=$e(c)),e.modelModifiers?.nullable&&(c||=null),e.modelModifiers?.optional&&(c||=void 0),u.value=c,S()}function re(c){e.modelModifiers?.lazy||ae(c.target.value)}function W(c){const T=c.target.value;e.modelModifiers?.lazy&&ae(T),e.modelModifiers?.trim&&(c.target.value=T.trim()),p(),s("change",c)}function d(c){x(),s("blur",c)}function w(){e.autofocus&&X.value?.focus()}return ge(()=>{setTimeout(()=>{w()},e.autofocusDelay)}),r({inputRef:X}),(c,T)=>(y(),F(n(ve),{as:t.as,class:b($.value.root({class:[e.ui?.root,e.class]}))},{default:A(()=>[ue("input",oe({id:n(k),ref_key:"inputRef",ref:X,type:t.type,value:n(u),name:n(m),placeholder:t.placeholder,class:$.value.base({class:e.ui?.base}),disabled:n(R),required:t.required,autocomplete:t.autocomplete},{...c.$attrs,...n(Y)},{onInput:re,onBlur:d,onChange:W,onFocus:T[0]||(T[0]=(...te)=>n(J)&&n(J)(...te))}),null,16,Qe),I(c.$slots,"default"),n(L)||t.avatar||g.leading?(y(),P("span",{key:0,class:b($.value.leading({class:e.ui?.leading}))},[I(c.$slots,"leading",{},()=>[n(L)&&n(h)?(y(),F(pe,{key:0,name:n(h),class:b($.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):t.avatar?(y(),F(we,oe({key:1,size:e.ui?.leadingAvatarSize||$.value.leadingAvatarSize()},t.avatar,{class:$.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):E("",!0)])],2)):E("",!0),n(N)||g.trailing?(y(),P("span",{key:1,class:b($.value.trailing({class:e.ui?.trailing}))},[I(c.$slots,"trailing",{},()=>[n(z)?(y(),F(pe,{key:0,name:n(z),class:b($.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):E("",!0)])],2)):E("",!0)]),_:3},8,["as","class"]))}}),ea={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-default",container:"mt-1 relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}}},defaultVariants:{size:"md"}},aa=["id"],ta=["id"],ia=["id"],ra=["id"],na={__name:"UFormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const r=t,l=he(),e=ye(),s=B(()=>Z({extend:Z(ea),...e.ui?.formField||{}})({size:r.size,required:r.required})),g=me(Ae,null),u=B(()=>r.error||g?.value?.find(p=>p.name===r.name||r.errorPattern&&p.name?.match(r.errorPattern))?.message),f=_(Be()),x=f.value,S=me(Fe,void 0);return Ee(f,()=>{S&&r.name&&(S.value[r.name]={id:f.value,pattern:r.errorPattern})},{immediate:!0}),H(De,f),H(Ue,B(()=>({error:u.value,name:r.name,size:r.size,eagerValidation:r.eagerValidation,validateOnInputDelay:r.validateOnInputDelay,errorPattern:r.errorPattern,hint:r.hint,description:r.description,help:r.help,ariaId:x}))),(p,M)=>(y(),F(n(ve),{as:t.as,class:b(s.value.root({class:[r.ui?.root,r.class]}))},{default:A(()=>[ue("div",{class:b(s.value.wrapper({class:r.ui?.wrapper}))},[t.label||l.label?(y(),P("div",{key:0,class:b(s.value.labelWrapper({class:r.ui?.labelWrapper}))},[O(n(Je),{for:f.value,class:b(s.value.label({class:r.ui?.label}))},{default:A(()=>[I(p.$slots,"label",{label:t.label},()=>[ne(se(t.label),1)])]),_:3},8,["for","class"]),t.hint||l.hint?(y(),P("span",{key:0,id:`${n(x)}-hint`,class:b(s.value.hint({class:r.ui?.hint}))},[I(p.$slots,"hint",{hint:t.hint},()=>[ne(se(t.hint),1)])],10,aa)):E("",!0)],2)):E("",!0),t.description||l.description?(y(),P("p",{key:1,id:`${n(x)}-description`,class:b(s.value.description({class:r.ui?.description}))},[I(p.$slots,"description",{description:t.description},()=>[ne(se(t.description),1)])],10,ta)):E("",!0)],2),ue("div",{class:b([(t.label||!!l.label||t.description||!!l.description)&&s.value.container({class:r.ui?.container})])},[I(p.$slots,"default",{error:u.value}),typeof u.value=="string"&&u.value||l.error?(y(),P("div",{key:0,id:`${n(x)}-error`,class:b(s.value.error({class:r.ui?.error}))},[I(p.$slots,"error",{error:u.value},()=>[ne(se(u.value),1)])],10,ia)):t.help||l.help?(y(),P("div",{key:1,id:`${n(x)}-help`,class:b(s.value.help({class:r.ui?.help}))},[I(p.$slots,"help",{help:t.help},()=>[ne(se(t.help),1)])],10,ra)):E("",!0)],2)]),_:3},8,["as","class"]))}},sa={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},la=["id","value","name","rows","placeholder","disabled","required"],oa=Object.assign({inheritAttrs:!1},{__name:"UTextarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:[String,Object],required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},emits:["update:modelValue","blur","change"],setup(t,{expose:r,emit:l}){const e=t,s=l,g=he(),u=ke(e,"modelValue",s,{defaultValue:e.defaultValue}),f=ye(),{emitFormFocus:x,emitFormBlur:S,emitFormInput:p,emitFormChange:M,size:V,color:k,id:m,name:q,highlight:R,disabled:J,ariaAttrs:Y}=Ie(e,{deferInputValidation:!0}),{isLeading:K,isTrailing:D,leadingIconName:L,trailingIconName:N}=Se(e),h=B(()=>Z({extend:Z(sa),...f.ui?.textarea||{}})({color:k.value,variant:e.variant,size:V?.value,loading:e.loading,highlight:R.value,autoresize:e.autoresize,leading:K.value||!!e.avatar||!!g.leading,trailing:D.value||!!g.trailing})),z=_(null);function Q(d){e.modelModifiers?.trim&&(d=d?.trim()??null),e.modelModifiers?.number&&(d=$e(d)),e.modelModifiers?.nullable&&(d||=null),e.modelModifiers?.optional&&(d||=void 0),u.value=d,p()}function $(d){W(),e.modelModifiers?.lazy||Q(d.target.value)}function X(d){const w=d.target.value;e.modelModifiers?.lazy&&Q(w),e.modelModifiers?.trim&&(d.target.value=w.trim()),M(),s("change",d)}function ae(d){S(),s("blur",d)}function re(){e.autofocus&&z.value?.focus()}function W(){if(e.autoresize&&z.value){z.value.rows=e.rows;const d=z.value.style.overflow;z.value.style.overflow="hidden";const w=window.getComputedStyle(z.value),c=Number.parseInt(w.paddingTop),T=Number.parseInt(w.paddingBottom),te=c+T,de=Number.parseInt(w.lineHeight),{scrollHeight:a}=z.value,i=(a-te)/de;i>e.rows&&(z.value.rows=e.maxrows?Math.min(i,e.maxrows):i),z.value.style.overflow=d}}return Ee(u,()=>{Ve(W)}),ge(()=>{setTimeout(()=>{re()},e.autofocusDelay),setTimeout(()=>{W()},e.autoresizeDelay)}),r({textareaRef:z}),(d,w)=>(y(),F(n(ve),{as:t.as,class:b(h.value.root({class:[e.ui?.root,e.class]}))},{default:A(()=>[ue("textarea",oe({id:n(m),ref_key:"textareaRef",ref:z,value:n(u),name:n(q),rows:t.rows,placeholder:t.placeholder,class:h.value.base({class:e.ui?.base}),disabled:n(J),required:t.required},{...d.$attrs,...n(Y)},{onInput:$,onBlur:ae,onChange:X,onFocus:w[0]||(w[0]=(...c)=>n(x)&&n(x)(...c))}),null,16,la),I(d.$slots,"default"),n(K)||t.avatar||g.leading?(y(),P("span",{key:0,class:b(h.value.leading({class:e.ui?.leading}))},[I(d.$slots,"leading",{},()=>[n(K)&&n(L)?(y(),F(pe,{key:0,name:n(L),class:b(h.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):t.avatar?(y(),F(we,oe({key:1,size:e.ui?.leadingAvatarSize||h.value.leadingAvatarSize()},t.avatar,{class:h.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):E("",!0)])],2)):E("",!0),n(D)||g.trailing?(y(),P("span",{key:1,class:b(h.value.trailing({class:e.ui?.trailing}))},[I(d.$slots,"trailing",{},()=>[n(N)?(y(),F(pe,{key:0,name:n(N),class:b(h.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):E("",!0)])],2)):E("",!0)]),_:3},8,["as","class"]))}});function ua(t){return"schema"in t&&typeof t.coercer=="function"&&typeof t.validator=="function"&&typeof t.refiner=="function"}function da(t){return"~standard"in t}async function ca(t,r){const l=await r["~standard"].validate(t);return l.issues?{errors:l.issues?.map(e=>({name:e.path?.map(s=>typeof s=="object"?s.key:s).join(".")||"",message:e.message}))||[],result:null}:{errors:null,result:l.value}}async function fa(t,r){const[l,e]=r.validate(t);return l?{errors:l.failures().map(g=>({message:g.message,name:g.path.join(".")})),result:null}:{errors:null,result:e}}function ga(t,r){if(da(r))return ca(t,r);if(ua(r))return fa(t,r);throw new Error("Form validation failed: Unsupported form schema")}function pa(t,r){return r?r.split(".").reduce((e,s)=>e?.[s],t):t}function ma(t,r,l){if(!r)return Object.assign(t,l);if(!t)return t;const e=r.split(".");let s=t;for(let u=0;u<e.length-1;u++){const f=e[u];(s[f]===void 0||s[f]===null)&&(u+1<e.length&&!Number.isNaN(Number(e[u+1]))?s[f]=[]:s[f]={}),s=s[f]}const g=e[e.length-1];return s[g]=l,t}class le extends Error{formId;errors;constructor(r,l){super("Form validation exception"),this.formId=r,this.errors=l,Object.setPrototypeOf(this,le.prototype)}}const va={base:""},ya={__name:"UForm",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:null,required:!1},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},name:{type:null,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},nested:{type:null,required:!1},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(t,{expose:r,emit:l}){const e=t,s=l,g=ye(),u=B(()=>Z({extend:Z(va),...g.ui?.form||{}})),f=e.id??Be(),x=We(`form-${f}`),S=e.nested?.toString()===""||e.nested===!0,p=S&&me(xe,void 0),M=S?me(ze,void 0):void 0,V=B(()=>M?.value?e.name?pa(M.value,e.name):M.value:e.state);H(xe,x),H(ze,V);const k=_(new Map);ge(async()=>{p&&(await Ve(),p.emit({type:"attach",validate:N,formId:f,name:e.name,api:de}))}),Te(()=>{x.reset(),p&&p.emit({type:"detach",formId:f})}),ge(async()=>{x.on(async a=>{a.type==="attach"?k.value.set(a.formId,{validate:a.validate,name:a.name,api:a.api}):a.type==="detach"?k.value.delete(a.formId):e.validateOn?.includes(a.type)&&!h.value&&(a.type!=="input"?await N({name:a.name,silent:!0,nested:!1}):(a.eager||Y.has(a.name))&&await N({name:a.name,silent:!0,nested:!1})),a.type==="blur"&&Y.add(a.name),(a.type==="change"||a.type==="input"||a.type==="blur"||a.type==="focus")&&J.add(a.name),(a.type==="change"||a.type==="input")&&R.add(a.name)})});const m=_([]);H(Ae,m);const q=_({});H(Fe,q);const R=fe(new Set),J=fe(new Set),Y=fe(new Set);function K(a){return a.map(i=>({...i,id:i?.name?q.value[i.name]?.id:void 0}))}const D=_(null);async function L(){let a=e.validate?await e.validate(V.value)??[]:[];if(e.schema){const{errors:i,result:o}=await ga(V.value,e.schema);i?a=a.concat(i):D.value=o}return K(a)}async function N(a={silent:!1,nested:!1,transform:!1}){const i=a.name&&!Array.isArray(a.name)?[a.name]:a.name;let o=[],v=[];if(!i&&a.nested){const G=Array.from(k.value.values()).map(U=>$(U,a)),C=await Promise.all(G);v=C.filter(U=>U.error).flatMap(U=>U.error.errors.map(je=>X(je,U.name))),o=C.filter(U=>U.output!==void 0)}const ie=[...await L(),...v];if(i?m.value=c(ie,i):m.value=ie,m.value?.length){if(a.silent)return!1;throw new le(f,m.value)}return a.transform?(o.forEach(G=>{G.name?ma(D.value,G.name,G.output):Object.assign(D.value,G.output)}),D.value??V.value):V.value}const h=_(!1);H(_e,ce(h));async function z(a){h.value=e.loadingAuto&&!0;const i=a;try{i.data=await N({nested:!0,transform:e.transform}),await e.onSubmit?.(i),R.clear()}catch(o){if(!(o instanceof le))throw o;const v={...i,errors:o.errors};s("error",v)}finally{h.value=!1}}const Q=B(()=>e.disabled||h.value);H(Pe,B(()=>({disabled:Q.value,validateOnInputDelay:e.validateOnInputDelay})));async function $(a,i){try{const o=await a.validate({...i,silent:!1});return{name:a.name,output:o}}catch(o){if(!(o instanceof le))throw o;return{name:a.name,error:o}}}function X(a,i){return!i||!a.name?a:{...a,name:i+"."+a.name}}function ae(a,i){const o=i+".",v=a?.name?.startsWith(o)?a.name.substring(o.length):a.name;return{...a,name:v}}function re(a,i){return i?a.filter(o=>o?.name?.startsWith(i+".")).map(o=>ae(o,i)):a}function W(a){return a.api.getErrors().map(i=>a.name?{...i,name:a.name+"."+i.name}:i)}function d(a,i){return!a||!i?!0:a instanceof RegExp?a.test(i):i===a||typeof a=="string"&&a.startsWith(i+".")}function w(a,i){if(!a||a instanceof RegExp)return a;if(i!==a)return typeof a=="string"&&a.startsWith(i+".")?a.substring(i.length+1):a}function c(a,i){const o=new Set(i),v=i.map(C=>q.value?.[C]?.pattern).filter(Boolean),j=C=>C.name?o.has(C.name)?!0:v.some(U=>U.test(C.name)):!1,ie=m.value.filter(C=>!j(C)),G=a.filter(j);return[...ie,...G]}function T(a,i){return a.filter(o=>i instanceof RegExp?!(o.name&&i.test(o.name)):!o.name||o.name!==i)}function te(a){return!a.name||!!q.value[a.name]}const de={validate:N,errors:m,setErrors(a,i){const o=K(a.filter(te)),v=[];for(const j of k.value.values())if(d(i,j.name)){const ie=re(a,j.name);j.api.setErrors(ie,w(i,j.name||"")),v.push(...W(j))}if(i){const j=T(m.value,i);m.value=[...j,...o,...v]}else m.value=[...o,...v]},async submit(){await z(new Event("submit"))},getErrors(a){return a?m.value.filter(i=>a instanceof RegExp?i.name&&a.test(i.name):i.name===a):m.value},clear(a){const i=a?m.value.filter(v=>te(v)&&(a instanceof RegExp?!(v.name&&a.test(v.name)):v.name!==a)):[],o=[];for(const v of k.value.values())d(a,v.name)&&v.api.clear(),o.push(...W(v));m.value=[...i,...o]},disabled:Q,loading:h,dirty:B(()=>!!R.size),dirtyFields:ce(R),blurredFields:ce(Y),touchedFields:ce(J)};return r(de),(a,i)=>(y(),F(Ke(n(p)?"div":"form"),{id:n(f),class:b(u.value({class:e.class})),onSubmit:Re(z,["prevent"])},{default:A(()=>[I(a.$slots,"default",{errors:m.value,loading:h.value})]),_:3},40,["id","class"]))}},Ne=t=>{if(t=n(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let r in t)return!0;return!1}return!!String(t).length};function ee(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=>(e=n(e),!Ne(e)||r.every(s=>(s.lastIndex=0,s.test(e))))}ee(/^[a-zA-Z]*$/);ee(/^[a-zA-Z0-9]*$/);ee(/^\d*(\.\d+)?$/);const ba=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var ha=ee(ba),xa={$validator:ha,$message:"Value is not a valid email address",$params:{type:"email"}};function za(t){return typeof t=="string"&&(t=t.trim()),Ne(t)}var be={$validator:za,$message:"Value is required",$params:{type:"required"}};const qa=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;ee(qa);ee(/(^[0-9]*$)|(^-[0-9]+$)/);ee(/^[-]?\d*(\.\d+)?$/);const Ia={class:"flex"},Ba=qe({__name:"contact",setup(t){const r=_("Kontakt"),l=fe({name:"",email:"",message:""}),e=B(()=>({email:{required:be,email:xa},name:{required:be},message:{required:be}}));async function s(g){console.log(g.data)}return(g,u)=>{const f=Oe,x=Xe,S=na,p=oa,M=Le,V=ya,k=He,m=Ge;return y(),F(m,null,{default:A(()=>[O(f,{title:n(r)},null,8,["title"]),O(k,null,{default:A(()=>[ue("div",Ia,[O(V,{state:n(l),schema:n(e),class:"space-y-4 w-fit",onSubmit:s},{default:A(()=>[O(S,{label:"Name",name:"name"},{default:A(()=>[O(x,{modelValue:n(l).name,"onUpdate:modelValue":u[0]||(u[0]=q=>n(l).name=q)},null,8,["modelValue"])]),_:1}),O(S,{label:"E-Mail",name:"email"},{default:A(()=>[O(x,{modelValue:n(l).email,"onUpdate:modelValue":u[1]||(u[1]=q=>n(l).email=q),type:"email"},null,8,["modelValue"])]),_:1}),O(S,{label:"Nachricht",name:"message"},{default:A(()=>[O(p,{modelValue:n(l).message,"onUpdate:modelValue":u[2]||(u[2]=q=>n(l).message=q)},null,8,["modelValue"])]),_:1}),O(M,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Ba as default};
