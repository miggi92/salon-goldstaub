import{_ as je}from"./Bs1ZDaGD.js";import{M as ze,Y as Ce,E as k,h as v,w as E,G as S,I as oe,L as n,P as me,B as be,x as ve,Z as qe,$ as Oe,a0 as Ie,C as V,D as G,a1 as we,o as fe,f as ue,c as _,d as N,n as y,a2 as ge,J as Se,a3 as $e,a4 as pe,a5 as Ae,r as Z,a6 as Be,a7 as Fe,a8 as Ee,a9 as L,aa as Ue,e as C,z as ne,t as se,ab as De,ac as Ve,ad as he,ae as xe,af as de,b as Re,ag as ce,ah as Te,ai as _e,aj as Pe,ak as Ke,U as We}from"./BqEFAXz_.js";import{u as ke,a as Le}from"./BL_ND-8M.js";import{a as Ge,_ as He}from"./BJxCXHeR.js";var Ze=ze({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(t){const r=t;return Ce(),(l,e)=>(v(),k(n(me),oe(r,{onMousedown:e[0]||(e[0]=s=>{!s.defaultPrevented&&s.detail>1&&s.preventDefault()})}),{default:E(()=>[S(l.$slots,"default")]),_:3},16))}}),Je=Ze;const Ye={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Qe=["id","type","value","name","placeholder","disabled","required","autocomplete"],Xe=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:modelValue","blur","change"],setup(t,{expose:r,emit:l}){const e=t,s=l,g=be(),u=ke(e,"modelValue",s,{defaultValue:e.defaultValue}),f=ve(),{emitFormBlur:h,emitFormInput:q,emitFormChange:b,size:B,color:M,id:p,name:O,highlight:w,disabled:Y,emitFormFocus:P,ariaAttrs:Q}=qe(e,{deferInputValidation:!0}),{orientation:U,size:X}=Oe(e),{isLeading:F,isTrailing:$,leadingIconName:x,trailingIconName:z}=Ie(e),ee=V(()=>X.value||B.value),I=V(()=>G({extend:G(Ye),...f.ui?.input||{}})({type:e.type,color:M.value,variant:e.variant,size:ee?.value,loading:e.loading,highlight:w.value,leading:F.value||!!e.avatar||!!g.leading,trailing:$.value||!!g.trailing,fieldGroup:U.value})),H=we("inputRef");function ae(c){e.modelModifiers?.trim&&(c=c?.trim()??null),(e.modelModifiers?.number||e.type==="number")&&(c=$e(c)),e.modelModifiers?.nullable&&(c||=null),e.modelModifiers?.optional&&(c||=void 0),u.value=c,q()}function te(c){e.modelModifiers?.lazy||ae(c.target.value)}function K(c){const D=c.target.value;e.modelModifiers?.lazy&&ae(D),e.modelModifiers?.trim&&(c.target.value=D.trim()),b(),s("change",c)}function d(c){h(),s("blur",c)}function A(){e.autofocus&&H.value?.focus()}return fe(()=>{setTimeout(()=>{A()},e.autofocusDelay)}),r({inputRef:H}),(c,D)=>(v(),k(n(me),{as:t.as,"data-slot":"root",class:y(I.value.root({class:[e.ui?.root,e.class]}))},{default:E(()=>[ue("input",oe({id:n(p),ref_key:"inputRef",ref:H,type:t.type,value:n(u),name:n(O),placeholder:t.placeholder,"data-slot":"base",class:I.value.base({class:e.ui?.base}),disabled:n(Y),required:t.required,autocomplete:t.autocomplete},{...c.$attrs,...n(Q)},{onInput:te,onBlur:d,onChange:K,onFocus:D[0]||(D[0]=(...ie)=>n(P)&&n(P)(...ie))}),null,16,Qe),S(c.$slots,"default",{ui:I.value}),n(F)||t.avatar||g.leading?(v(),_("span",{key:0,"data-slot":"leading",class:y(I.value.leading({class:e.ui?.leading}))},[S(c.$slots,"leading",{ui:I.value},()=>[n(F)&&n(x)?(v(),k(ge,{key:0,name:n(x),"data-slot":"leadingIcon",class:y(I.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):t.avatar?(v(),k(Se,oe({key:1,size:e.ui?.leadingAvatarSize||I.value.leadingAvatarSize()},t.avatar,{"data-slot":"leadingAvatar",class:I.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):N("",!0)])],2)):N("",!0),n($)||g.trailing?(v(),_("span",{key:1,"data-slot":"trailing",class:y(I.value.trailing({class:e.ui?.trailing}))},[S(c.$slots,"trailing",{ui:I.value},()=>[n(z)?(v(),k(ge,{key:0,name:n(z),"data-slot":"trailingIcon",class:y(I.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):N("",!0)])],2)):N("",!0)]),_:3},8,["as","class"]))}}),ea={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-default",container:"mt-1 relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}}},defaultVariants:{size:"md"}},aa=["id"],ta=["id"],ia=["id"],ra=["id"],na={__name:"UFormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const r=t,l=be(),e=ve(),s=V(()=>G({extend:G(ea),...e.ui?.formField||{}})({size:r.size,required:r.required})),g=pe(Ae,null),u=V(()=>r.error||g?.value?.find(b=>b.name===r.name||r.errorPattern&&b.name?.match(r.errorPattern))?.message),f=Z(Be()),h=f.value,q=pe(Fe,void 0);return Ee(f,()=>{q&&r.name&&(q.value[r.name]={id:f.value,pattern:r.errorPattern})},{immediate:!0}),L(De,f),L(Ue,V(()=>({error:u.value,name:r.name,size:r.size,eagerValidation:r.eagerValidation,validateOnInputDelay:r.validateOnInputDelay,errorPattern:r.errorPattern,hint:r.hint,description:r.description,help:r.help,ariaId:h}))),(b,B)=>(v(),k(n(me),{as:t.as,"data-slot":"root",class:y(s.value.root({class:[r.ui?.root,r.class]}))},{default:E(()=>[ue("div",{"data-slot":"wrapper",class:y(s.value.wrapper({class:r.ui?.wrapper}))},[t.label||l.label?(v(),_("div",{key:0,"data-slot":"labelWrapper",class:y(s.value.labelWrapper({class:r.ui?.labelWrapper}))},[C(n(Je),{for:f.value,"data-slot":"label",class:y(s.value.label({class:r.ui?.label}))},{default:E(()=>[S(b.$slots,"label",{label:t.label},()=>[ne(se(t.label),1)])]),_:3},8,["for","class"]),t.hint||l.hint?(v(),_("span",{key:0,id:`${n(h)}-hint`,"data-slot":"hint",class:y(s.value.hint({class:r.ui?.hint}))},[S(b.$slots,"hint",{hint:t.hint},()=>[ne(se(t.hint),1)])],10,aa)):N("",!0)],2)):N("",!0),t.description||l.description?(v(),_("p",{key:1,id:`${n(h)}-description`,"data-slot":"description",class:y(s.value.description({class:r.ui?.description}))},[S(b.$slots,"description",{description:t.description},()=>[ne(se(t.description),1)])],10,ta)):N("",!0)],2),ue("div",{class:y([(t.label||!!l.label||t.description||!!l.description)&&s.value.container({class:r.ui?.container})])},[S(b.$slots,"default",{error:u.value}),typeof u.value=="string"&&u.value||l.error?(v(),_("div",{key:0,id:`${n(h)}-error`,"data-slot":"error",class:y(s.value.error({class:r.ui?.error}))},[S(b.$slots,"error",{error:u.value},()=>[ne(se(u.value),1)])],10,ia)):t.help||l.help?(v(),_("div",{key:1,id:`${n(h)}-help`,"data-slot":"help",class:y(s.value.help({class:r.ui?.help}))},[S(b.$slots,"help",{help:t.help},()=>[ne(se(t.help),1)])],10,ra)):N("",!0)],2)]),_:3},8,["as","class"]))}},sa={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},la=["id","value","name","rows","placeholder","disabled","required"],oa=Object.assign({inheritAttrs:!1},{__name:"UTextarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:modelValue","blur","change"],setup(t,{expose:r,emit:l}){const e=t,s=l,g=be(),u=ke(e,"modelValue",s,{defaultValue:e.defaultValue}),f=ve(),{emitFormFocus:h,emitFormBlur:q,emitFormInput:b,emitFormChange:B,size:M,color:p,id:O,name:w,highlight:Y,disabled:P,ariaAttrs:Q}=qe(e,{deferInputValidation:!0}),{isLeading:U,isTrailing:X,leadingIconName:F,trailingIconName:$}=Ie(e),x=V(()=>G({extend:G(sa),...f.ui?.textarea||{}})({color:p.value,variant:e.variant,size:M?.value,loading:e.loading,highlight:Y.value,autoresize:e.autoresize,leading:U.value||!!e.avatar||!!g.leading,trailing:X.value||!!g.trailing})),z=we("textareaRef");function ee(d){e.modelModifiers?.trim&&(d=d?.trim()??null),e.modelModifiers?.number&&(d=$e(d)),e.modelModifiers?.nullable&&(d||=null),e.modelModifiers?.optional&&(d||=void 0),u.value=d,b()}function I(d){K(),e.modelModifiers?.lazy||ee(d.target.value)}function H(d){const A=d.target.value;e.modelModifiers?.lazy&&ee(A),e.modelModifiers?.trim&&(d.target.value=A.trim()),B(),s("change",d)}function ae(d){q(),s("blur",d)}function te(){e.autofocus&&z.value?.focus()}function K(){if(e.autoresize&&z.value){z.value.rows=e.rows;const d=z.value.style.overflow;z.value.style.overflow="hidden";const A=window.getComputedStyle(z.value),c=Number.parseInt(A.paddingTop),D=Number.parseInt(A.paddingBottom),ie=c+D,a=Number.parseInt(A.lineHeight),{scrollHeight:i}=z.value,o=(i-ie)/a;o>e.rows&&(z.value.rows=e.maxrows?Math.min(o,e.maxrows):o),z.value.style.overflow=d}}return Ee(u,()=>{Ve(K)}),fe(()=>{setTimeout(()=>{te()},e.autofocusDelay),setTimeout(()=>{K()},e.autoresizeDelay)}),r({textareaRef:z}),(d,A)=>(v(),k(n(me),{as:t.as,"data-slot":"root",class:y(x.value.root({class:[e.ui?.root,e.class]}))},{default:E(()=>[ue("textarea",oe({id:n(O),ref_key:"textareaRef",ref:z,value:n(u),name:n(w),rows:t.rows,placeholder:t.placeholder,"data-slot":"base",class:x.value.base({class:e.ui?.base}),disabled:n(P),required:t.required},{...d.$attrs,...n(Q)},{onInput:I,onBlur:ae,onChange:H,onFocus:A[0]||(A[0]=(...c)=>n(h)&&n(h)(...c))}),null,16,la),S(d.$slots,"default",{ui:x.value}),n(U)||t.avatar||g.leading?(v(),_("span",{key:0,"data-slot":"leading",class:y(x.value.leading({class:e.ui?.leading}))},[S(d.$slots,"leading",{ui:x.value},()=>[n(U)&&n(F)?(v(),k(ge,{key:0,name:n(F),"data-slot":"leadingIcon",class:y(x.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):t.avatar?(v(),k(Se,oe({key:1,size:e.ui?.leadingAvatarSize||x.value.leadingAvatarSize()},t.avatar,{"data-slot":"leadingAvatar",class:x.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):N("",!0)])],2)):N("",!0),n(X)||g.trailing?(v(),_("span",{key:1,"data-slot":"trailing",class:y(x.value.trailing({class:e.ui?.trailing}))},[S(d.$slots,"trailing",{ui:x.value},()=>[n($)?(v(),k(ge,{key:0,name:n($),"data-slot":"trailingIcon",class:y(x.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):N("",!0)])],2)):N("",!0)]),_:3},8,["as","class"]))}});function ua(t){return"schema"in t&&typeof t.coercer=="function"&&typeof t.validator=="function"&&typeof t.refiner=="function"}function da(t){return"~standard"in t}async function ca(t,r){const l=await r["~standard"].validate(t);return l.issues?{errors:l.issues?.map(e=>({name:e.path?.map(s=>typeof s=="object"?s.key:s).join(".")||"",message:e.message}))||[],result:null}:{errors:null,result:l.value}}async function fa(t,r){const[l,e]=r.validate(t);return l?{errors:l.failures().map(g=>({message:g.message,name:g.path.join(".")})),result:null}:{errors:null,result:e}}function ga(t,r){if(da(r))return ca(t,r);if(ua(r))return fa(t,r);throw new Error("Form validation failed: Unsupported form schema")}function pa(t,r){return r?r.split(".").reduce((e,s)=>e?.[s],t):t}function ma(t,r,l){if(!r)return Object.assign(t,l);if(!t)return t;const e=r.split(".");let s=t;for(let u=0;u<e.length-1;u++){const f=e[u];(s[f]===void 0||s[f]===null)&&(u+1<e.length&&!Number.isNaN(Number(e[u+1]))?s[f]=[]:s[f]={}),s=s[f]}const g=e[e.length-1];return s[g]=l,t}class le extends Error{formId;errors;constructor(r,l){super("Form validation exception"),this.formId=r,this.errors=l,Object.setPrototypeOf(this,le.prototype)}}const va={base:""},ya={__name:"UForm",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:null,required:!1},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},name:{type:null,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},nested:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(t,{expose:r,emit:l}){const e=t,s=l,g=ve(),u=V(()=>G({extend:G(va),...g.ui?.form||{}})),f=e.id??Be(),h=Le(`form-${f}`),q=e.nested===!0&&pe(he,void 0),b=e.nested===!0?pe(xe,void 0):void 0,B=V(()=>b?.value?e.name?pa(b.value,e.name):b.value:e.state);L(he,h),L(xe,B);const M=Z(new Map);fe(async()=>{q&&(await Ve(),q.emit({type:"attach",validate:F,formId:f,name:e.name,api:ie}))}),Re(()=>{h.reset(),q&&q.emit({type:"detach",formId:f})}),fe(async()=>{h.on(async a=>{a.type==="attach"?M.value.set(a.formId,{validate:a.validate,name:a.name,api:a.api}):a.type==="detach"?M.value.delete(a.formId):e.validateOn?.includes(a.type)&&!$.value&&(a.type!=="input"?await F({name:a.name,silent:!0,nested:!1}):(a.eager||P.has(a.name))&&await F({name:a.name,silent:!0,nested:!1})),a.type==="blur"&&P.add(a.name),(a.type==="change"||a.type==="input"||a.type==="blur"||a.type==="focus")&&Y.add(a.name),(a.type==="change"||a.type==="input")&&w.add(a.name)})});const p=Z([]);L(Ae,p);const O=Z({});L(Fe,O);const w=ce(new Set),Y=ce(new Set),P=ce(new Set);function Q(a){return a.map(i=>({...i,id:i?.name?O.value[i.name]?.id:void 0}))}const U=Z(null);async function X(){let a=e.validate?await e.validate(B.value)??[]:[];if(e.schema){const{errors:i,result:o}=await ga(B.value,e.schema);i?a=a.concat(i):U.value=o}return Q(a)}async function F(a={silent:!1,nested:!1,transform:!1}){const i=a.name&&!Array.isArray(a.name)?[a.name]:a.name;let o=[],m=[];if(!i&&a.nested){const W=Array.from(M.value.values()).map(T=>ee(T,a)),R=await Promise.all(W);m=R.filter(T=>T.error).flatMap(T=>T.error.errors.map(Me=>I(Me,T.name))),o=R.filter(T=>T.output!==void 0)}const re=[...await X(),...m];if(i?p.value=A(re,i):p.value=re,p.value?.length){if(a.silent)return!1;throw new le(f,p.value)}return a.transform?(o.forEach(W=>{W.name?ma(U.value,W.name,W.output):Object.assign(U.value,W.output)}),U.value??B.value):B.value}const $=Z(!1);L(Te,de($));async function x(a){$.value=e.loadingAuto&&!0;const i=a;try{i.data=await F({nested:!0,transform:e.transform}),await e.onSubmit?.(i),w.clear()}catch(o){if(!(o instanceof le))throw o;const m={...i,errors:o.errors};s("error",m)}finally{$.value=!1}}const z=V(()=>e.disabled||$.value);L(_e,V(()=>({disabled:z.value,validateOnInputDelay:e.validateOnInputDelay})));async function ee(a,i){try{const o=await a.validate({...i,silent:!1});return{name:a.name,output:o}}catch(o){if(!(o instanceof le))throw o;return{name:a.name,error:o}}}function I(a,i){return!i||!a.name?a:{...a,name:i+"."+a.name}}function H(a,i){const o=i+".",m=a?.name?.startsWith(o)?a.name.substring(o.length):a.name;return{...a,name:m}}function ae(a,i){return i?a.filter(o=>o?.name?.startsWith(i+".")).map(o=>H(o,i)):a}function te(a){return a.api.getErrors().map(i=>a.name?{...i,name:a.name+"."+i.name}:i)}function K(a,i){return!a||!i?!0:a instanceof RegExp?a.test(i):i===a||typeof a=="string"&&a.startsWith(i+".")}function d(a,i){if(!a||a instanceof RegExp)return a;if(i!==a)return typeof a=="string"&&a.startsWith(i+".")?a.substring(i.length+1):a}function A(a,i){const o=new Set(i),m=i.map(R=>O.value?.[R]?.pattern).filter(Boolean),j=R=>R.name?o.has(R.name)?!0:m.some(T=>T.test(R.name)):!1,re=p.value.filter(R=>!j(R)),W=a.filter(j);return[...re,...W]}function c(a,i){return a.filter(o=>i instanceof RegExp?!(o.name&&i.test(o.name)):!o.name||o.name!==i)}function D(a){return!a.name||!!O.value[a.name]}const ie={validate:F,errors:p,setErrors(a,i){const o=Q(a.filter(D)),m=[];for(const j of M.value.values())if(K(i,j.name)){const re=ae(a,j.name);j.api.setErrors(re,d(i,j.name||"")),m.push(...te(j))}if(i){const j=c(p.value,i);p.value=[...j,...o,...m]}else p.value=[...o,...m]},async submit(){await x(new Event("submit"))},getErrors(a){return a?p.value.filter(i=>a instanceof RegExp?i.name&&a.test(i.name):i.name===a):p.value},clear(a){const i=a?p.value.filter(m=>D(m)&&(a instanceof RegExp?!(m.name&&a.test(m.name)):m.name!==a)):[],o=[];for(const m of M.value.values())K(a,m.name)&&m.api.clear(),o.push(...te(m));p.value=[...i,...o]},disabled:z,loading:$,dirty:V(()=>!!w.size),dirtyFields:de(w),blurredFields:de(P),touchedFields:de(Y)};return r(ie),(a,i)=>(v(),k(Ke(n(q)?"div":"form"),{id:n(f),class:y(u.value({class:e.class})),onSubmit:Pe(x,["prevent"])},{default:E(()=>[S(a.$slots,"default",{errors:p.value,loading:$.value})]),_:3},40,["id","class"]))}},Ne=t=>{if(t=n(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let r in t)return!0;return!1}return!!String(t).length};function J(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=>(e=n(e),!Ne(e)||r.every(s=>(s.lastIndex=0,s.test(e))))}J(/^[a-zA-Z]*$/);J(/^[a-zA-Z0-9]*$/);J(/^\d*(\.\d+)?$/);const ba=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var ha=J(ba),xa={$validator:ha,$message:"Value is not a valid email address",$params:{type:"email"}};function za(t){return typeof t=="string"&&(t=t.trim()),Ne(t)}var ye={$validator:za,$message:"Value is required",$params:{type:"required"}};const qa=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;J(qa);J(/(^[0-9]*$)|(^-[0-9]+$)/);J(/^[-]?\d*(\.\d+)?$/);const Ia={class:"flex"},Ba=ze({__name:"contact",setup(t){const r=Z("Kontakt"),l=ce({name:"",email:"",message:""}),e=V(()=>({email:{required:ye,email:xa},name:{required:ye},message:{required:ye}}));async function s(g){console.log(g.data)}return(g,u)=>{const f=je,h=Xe,q=na,b=oa,B=We,M=ya,p=He,O=Ge;return v(),k(O,null,{default:E(()=>[C(f,{title:n(r)},null,8,["title"]),C(p,null,{default:E(()=>[ue("div",Ia,[C(M,{state:n(l),schema:n(e),class:"space-y-4 w-fit",onSubmit:s},{default:E(()=>[C(q,{label:"Name",name:"name"},{default:E(()=>[C(h,{modelValue:n(l).name,"onUpdate:modelValue":u[0]||(u[0]=w=>n(l).name=w)},null,8,["modelValue"])]),_:1}),C(q,{label:"E-Mail",name:"email"},{default:E(()=>[C(h,{modelValue:n(l).email,"onUpdate:modelValue":u[1]||(u[1]=w=>n(l).email=w),type:"email"},null,8,["modelValue"])]),_:1}),C(q,{label:"Nachricht",name:"message"},{default:E(()=>[C(b,{modelValue:n(l).message,"onUpdate:modelValue":u[2]||(u[2]=w=>n(l).message=w)},null,8,["modelValue"])]),_:1}),C(B,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Ba as default};
