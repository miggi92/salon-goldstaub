import{_ as Se}from"./mi7QgFvn.js";import{L as ge,X as we,D as S,h as f,w as I,E as x,H as X,K as r,P as re,B as ue,x as se,Y as fe,Z as $e,$ as pe,C as k,a0 as T,r as _,o as ie,f as Q,c as D,d as w,n as p,a1 as te,I as me,a2 as ye,a3 as ve,a4 as he,a5 as G,a6 as Ae,e as F,z as J,t as W,a7 as Be,a8 as Ve,a9 as be,aa as de,ab as ae,b as ce,ac as ee,ad as Fe,ae as ke,af as Ee,ag as Ne,ah as je,S as Me}from"./BM0_DlbU.js";import{u as xe,a as Ce}from"./BCtbCWoC.js";import{a as Oe,_ as _e}from"./DInVAjSF.js";import"./P74sFDqk.js";var De=ge({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(a){const t=a;return we(),(s,e)=>(f(),S(r(re),X(t,{onMousedown:e[0]||(e[0]=l=>{!l.defaultPrevented&&l.detail>1&&l.preventDefault()})}),{default:I(()=>[x(s.$slots,"default")]),_:3},16))}}),Ue=De;const Pe={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Te=["id","type","value","name","placeholder","disabled","required","autocomplete"],Re=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:t,emit:s}){const e=a,l=s,m=ue(),c=xe(e,"modelValue",l,{defaultValue:e.defaultValue}),h=se(),{emitFormBlur:y,emitFormInput:u,emitFormChange:E,size:g,color:N,id:j,name:U,highlight:z,disabled:R,emitFormFocus:K,ariaAttrs:Y}=fe(e,{deferInputValidation:!0}),{orientation:$,size:q}=$e(e),{isLeading:C,isTrailing:P,leadingIconName:i,trailingIconName:n}=pe(e),v=k(()=>q.value||g.value),b=k(()=>T({extend:T(Pe),...h.ui?.input||{}})({type:e.type,color:N.value,variant:e.variant,size:v?.value,loading:e.loading,highlight:z.value,leading:C.value||!!e.avatar||!!m.leading,trailing:P.value||!!m.trailing,buttonGroup:$.value})),A=_(null);function M(d){e.modelModifiers?.trim&&(d=d?.trim()??null),(e.modelModifiers?.number||e.type==="number")&&(d=ye(d)),e.modelModifiers?.nullify&&(d||=null),c.value=d,u()}function O(d){e.modelModifiers?.lazy||M(d.target.value)}function B(d){const L=d.target.value;e.modelModifiers?.lazy&&M(L),e.modelModifiers?.trim&&(d.target.value=L.trim()),E(),l("change",d)}function o(d){y(),l("blur",d)}function V(){e.autofocus&&A.value?.focus()}return ie(()=>{setTimeout(()=>{V()},e.autofocusDelay)}),t({inputRef:A}),(d,L)=>(f(),S(r(re),{as:a.as,class:p(b.value.root({class:[e.ui?.root,e.class]}))},{default:I(()=>[Q("input",X({id:r(j),ref_key:"inputRef",ref:A,type:a.type,value:r(c),name:r(U),placeholder:a.placeholder,class:b.value.base({class:e.ui?.base}),disabled:r(R),required:a.required,autocomplete:a.autocomplete},{...d.$attrs,...r(Y)},{onInput:O,onBlur:o,onChange:B,onFocus:L[0]||(L[0]=(...ne)=>r(K)&&r(K)(...ne))}),null,16,Te),x(d.$slots,"default"),r(C)||a.avatar||m.leading?(f(),D("span",{key:0,class:p(b.value.leading({class:e.ui?.leading}))},[x(d.$slots,"leading",{},()=>[r(C)&&r(i)?(f(),S(te,{key:0,name:r(i),class:p(b.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):a.avatar?(f(),S(me,X({key:1,size:e.ui?.leadingAvatarSize||b.value.leadingAvatarSize()},a.avatar,{class:b.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):w("",!0)])],2)):w("",!0),r(P)||m.trailing?(f(),D("span",{key:1,class:p(b.value.trailing({class:e.ui?.trailing}))},[x(d.$slots,"trailing",{},()=>[r(n)?(f(),S(te,{key:0,name:r(n),class:p(b.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):w("",!0)])],2)):w("",!0)]),_:3},8,["as","class"]))}}),Ke={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between",label:"block font-medium text-default",container:"mt-1 relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}}},defaultVariants:{size:"md"}},Le=["id"],Ge=["id"],He=["id"],Ye=["id"],Je={__name:"UFormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const t=a,s=ue(),e=se(),l=k(()=>T({extend:T(Ke),...e.ui?.formField||{}})({size:t.size,required:t.required})),m=ve("form-errors",null),c=k(()=>t.error||m?.value?.find(u=>u.name&&(u.name===t.name||t.errorPattern&&u.name.match(t.errorPattern)))?.message),h=_(he()),y=h.value;return G(Be,h),G(Ae,k(()=>({error:c.value,name:t.name,size:t.size,eagerValidation:t.eagerValidation,validateOnInputDelay:t.validateOnInputDelay,errorPattern:t.errorPattern,hint:t.hint,description:t.description,help:t.help,ariaId:y}))),(u,E)=>(f(),S(r(re),{as:a.as,class:p(l.value.root({class:[t.ui?.root,t.class]}))},{default:I(()=>[Q("div",{class:p(l.value.wrapper({class:t.ui?.wrapper}))},[a.label||s.label?(f(),D("div",{key:0,class:p(l.value.labelWrapper({class:t.ui?.labelWrapper}))},[F(r(Ue),{for:h.value,class:p(l.value.label({class:t.ui?.label}))},{default:I(()=>[x(u.$slots,"label",{label:a.label},()=>[J(W(a.label),1)])]),_:3},8,["for","class"]),a.hint||s.hint?(f(),D("span",{key:0,id:`${r(y)}-hint`,class:p(l.value.hint({class:t.ui?.hint}))},[x(u.$slots,"hint",{hint:a.hint},()=>[J(W(a.hint),1)])],10,Le)):w("",!0)],2)):w("",!0),a.description||s.description?(f(),D("p",{key:1,id:`${r(y)}-description`,class:p(l.value.description({class:t.ui?.description}))},[x(u.$slots,"description",{description:a.description},()=>[J(W(a.description),1)])],10,Ge)):w("",!0)],2),Q("div",{class:p([(a.label||!!s.label||a.description||!!s.description)&&l.value.container({class:t.ui?.container})])},[x(u.$slots,"default",{error:c.value}),typeof c.value=="string"&&c.value||s.error?(f(),D("div",{key:0,id:`${r(y)}-error`,class:p(l.value.error({class:t.ui?.error}))},[x(u.$slots,"error",{error:c.value},()=>[J(W(c.value),1)])],10,He)):a.help||s.help?(f(),D("div",{key:1,id:`${r(y)}-help`,class:p(l.value.help({class:t.ui?.help}))},[x(u.$slots,"help",{help:a.help},()=>[J(W(a.help),1)])],10,Ye)):w("",!0)],2)]),_:3},8,["as","class"]))}},We={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{buttonGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Ze=["id","value","name","rows","placeholder","disabled","required"],Xe=Object.assign({inheritAttrs:!1},{__name:"UTextarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},emits:["update:modelValue","blur","change"],setup(a,{expose:t,emit:s}){const e=a,l=s,m=ue(),c=xe(e,"modelValue",l,{defaultValue:e.defaultValue}),h=se(),{emitFormFocus:y,emitFormBlur:u,emitFormInput:E,emitFormChange:g,size:N,color:j,id:U,name:z,highlight:R,disabled:K,ariaAttrs:Y}=fe(e,{deferInputValidation:!0}),{isLeading:$,isTrailing:q,leadingIconName:C,trailingIconName:P}=pe(e),i=k(()=>T({extend:T(We),...h.ui?.textarea||{}})({color:j.value,variant:e.variant,size:N?.value,loading:e.loading,highlight:R.value,autoresize:e.autoresize,leading:$.value||!!e.avatar||!!m.leading,trailing:q.value||!!m.trailing})),n=_(null);function v(o){e.modelModifiers?.trim&&(o=o?.trim()??null),e.modelModifiers?.number&&(o=ye(o)),e.modelModifiers?.nullify&&(o||=null),c.value=o,E()}function b(o){B(),e.modelModifiers?.lazy||v(o.target.value)}function A(o){const V=o.target.value;e.modelModifiers?.lazy&&v(V),e.modelModifiers?.trim&&(o.target.value=V.trim()),g(),l("change",o)}function M(o){u(),l("blur",o)}function O(){e.autofocus&&n.value?.focus()}function B(){if(e.autoresize&&n.value){n.value.rows=e.rows;const o=n.value.style.overflow;n.value.style.overflow="hidden";const V=window.getComputedStyle(n.value),d=Number.parseInt(V.paddingTop),L=Number.parseInt(V.paddingBottom),ne=d+L,qe=Number.parseInt(V.lineHeight),{scrollHeight:Ie}=n.value,le=(Ie-ne)/qe;le>e.rows&&(n.value.rows=e.maxrows?Math.min(le,e.maxrows):le),n.value.style.overflow=o}}return Ve(c,()=>{be(B)}),ie(()=>{setTimeout(()=>{O()},e.autofocusDelay),setTimeout(()=>{B()},e.autoresizeDelay)}),t({textareaRef:n}),(o,V)=>(f(),S(r(re),{as:a.as,class:p(i.value.root({class:[e.ui?.root,e.class]}))},{default:I(()=>[Q("textarea",X({id:r(U),ref_key:"textareaRef",ref:n,value:r(c),name:r(z),rows:a.rows,placeholder:a.placeholder,class:i.value.base({class:e.ui?.base}),disabled:r(K),required:a.required},{...o.$attrs,...r(Y)},{onInput:b,onBlur:M,onChange:A,onFocus:V[0]||(V[0]=(...d)=>r(y)&&r(y)(...d))}),null,16,Ze),x(o.$slots,"default"),r($)||a.avatar||m.leading?(f(),D("span",{key:0,class:p(i.value.leading({class:e.ui?.leading}))},[x(o.$slots,"leading",{},()=>[r($)&&r(C)?(f(),S(te,{key:0,name:r(C),class:p(i.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):a.avatar?(f(),S(me,X({key:1,size:e.ui?.leadingAvatarSize||i.value.leadingAvatarSize()},a.avatar,{class:i.value.leadingAvatar({class:e.ui?.leadingAvatar})}),null,16,["size","class"])):w("",!0)])],2)):w("",!0),r(q)||m.trailing?(f(),D("span",{key:1,class:p(i.value.trailing({class:e.ui?.trailing}))},[x(o.$slots,"trailing",{},()=>[r(P)?(f(),S(te,{key:0,name:r(P),class:p(i.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):w("",!0)])],2)):w("",!0)]),_:3},8,["as","class"]))}});function Qe(a){return a.validate&&a.__isYupSchema__}function ea(a){return a.inner!==void 0}function aa(a){return"schema"in a&&typeof a.coercer=="function"&&typeof a.validator=="function"&&typeof a.refiner=="function"}function ia(a){return a.validateAsync!==void 0&&a.id!==void 0}function ta(a){return a.isJoi===!0}function ra(a){return"~standard"in a}async function sa(a,t){const s=await t["~standard"].validate(a);return s.issues?{errors:s.issues?.map(e=>({name:e.path?.map(l=>typeof l=="object"?l.key:l).join(".")||"",message:e.message}))||[],result:null}:{errors:null,result:s.value}}async function na(a,t){try{return{errors:null,result:await t.validate(a,{abortEarly:!1})}}catch(s){if(ea(s))return{errors:s.inner.map(l=>({name:l.path??"",message:l.message})),result:null};throw s}}async function la(a,t){const[s,e]=t.validate(a);return s?{errors:s.failures().map(m=>({message:m.message,name:m.path.join(".")})),result:null}:{errors:null,result:e}}async function oa(a,t){try{return{errors:null,result:await t.validateAsync(a,{abortEarly:!1})}}catch(s){if(ta(s))return{errors:s.details.map(l=>({name:l.path.join("."),message:l.message})),result:null};throw s}}function ua(a,t){if(ra(t))return sa(a,t);if(ia(t))return oa(a,t);if(Qe(t))return na(a,t);if(aa(t))return la(a,t);throw new Error("Form validation failed: Unsupported form schema")}class Z extends Error{formId;errors;children;constructor(t,s,e){super("Form validation exception"),this.formId=t,this.errors=s,this.children=e,Object.setPrototypeOf(this,Z.prototype)}}const da={base:""},ca={__name:"UForm",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:Object,required:!0},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},attach:{type:Boolean,required:!1,default:!0},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(a,{expose:t,emit:s}){const e=a,l=s,m=se(),c=k(()=>T({extend:T(da),...m.ui?.form||{}})),h=e.id??he(),y=Ce(`form-${h}`),u=e.attach&&ve(de,void 0);G(de,y);const E=_(new Map);ie(async()=>{y.on(async i=>{i.type==="attach"?E.value.set(i.formId,{validate:i.validate}):i.type==="detach"?E.value.delete(i.formId):e.validateOn?.includes(i.type)&&!q.value&&(i.type!=="input"?await $({name:i.name,silent:!0,nested:!1}):(i.eager||z.has(i.name))&&await $({name:i.name,silent:!0,nested:!1})),i.type==="blur"&&z.add(i.name),(i.type==="change"||i.type==="input"||i.type==="blur"||i.type==="focus")&&U.add(i.name),(i.type==="change"||i.type==="input")&&j.add(i.name)})}),ce(()=>{y.reset()}),ie(async()=>{u&&(await be(),u.emit({type:"attach",validate:$,formId:h}))}),ce(()=>{u&&u.emit({type:"detach",formId:h})});const g=_([]);G("form-errors",g);const N=_({});G(je,N);const j=ae(new Set),U=ae(new Set),z=ae(new Set);function R(i){return i.map(n=>({...n,id:n?.name?N.value[n.name]?.id:void 0}))}const K=_(null);async function Y(){let i=e.validate?await e.validate(e.state)??[]:[];if(e.schema){const{errors:n,result:v}=await ua(e.state,e.schema);n?i=i.concat(n):K.value=v}return R(i)}async function $(i={silent:!1,nested:!0,transform:!1}){const n=i.name&&!Array.isArray(i.name)?[i.name]:i.name,v=!n&&i.nested?Array.from(E.value.values()).map(({validate:A})=>A(i).then(()=>{}).catch(M=>{if(!(M instanceof Z))throw M;return M})):[];if(n){const A=g.value.filter(O=>!n.some(B=>{const o=N.value?.[B]?.pattern;return B===O.name||o&&O.name?.match(o)})),M=(await Y()).filter(O=>n.some(B=>{const o=N.value?.[B]?.pattern;return B===O.name||o&&O.name?.match(o)}));g.value=A.concat(M)}else g.value=await Y();const b=(await Promise.all(v)).filter(A=>A!==void 0);if(g.value.length+b.length>0){if(i.silent)return!1;throw new Z(h,g.value,b)}return i.transform&&Object.assign(e.state,K.value),e.state}const q=_(!1);G(Fe,ee(q));async function C(i){q.value=e.loadingAuto&&!0;const n=i;try{n.data=await $({nested:!0,transform:e.transform}),await e.onSubmit?.(n),j.clear()}catch(v){if(!(v instanceof Z))throw v;const b={...n,errors:v.errors,children:v.children};l("error",b)}finally{q.value=!1}}const P=k(()=>e.disabled||q.value);return G(ke,k(()=>({disabled:P.value,validateOnInputDelay:e.validateOnInputDelay}))),t({validate:$,errors:g,setErrors(i,n){n?g.value=g.value.filter(v=>n instanceof RegExp?!(v.name&&n.test(v.name)):v.name!==n).concat(R(i)):g.value=R(i)},async submit(){await C(new Event("submit"))},getErrors(i){return i?g.value.filter(n=>i instanceof RegExp?n.name&&i.test(n.name):n.name===i):g.value},clear(i){i?g.value=g.value.filter(n=>i instanceof RegExp?!(n.name&&i.test(n.name)):n.name!==i):g.value=[]},disabled:P,loading:q,dirty:k(()=>!!j.size),dirtyFields:ee(j),blurredFields:ee(z),touchedFields:ee(U)}),(i,n)=>(f(),S(Ne(r(u)?"div":"form"),{id:r(h),class:p(c.value({class:e.class})),onSubmit:Ee(C,["prevent"])},{default:I(()=>[x(i.$slots,"default",{errors:g.value,loading:q.value})]),_:3},40,["id","class"]))}},ze=a=>{if(a=r(a),Array.isArray(a))return!!a.length;if(a==null)return!1;if(a===!1)return!0;if(a instanceof Date)return!isNaN(a.getTime());if(typeof a=="object"){for(let t in a)return!0;return!1}return!!String(a).length};function H(){for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];return e=>(e=r(e),!ze(e)||t.every(l=>(l.lastIndex=0,l.test(e))))}H(/^[a-zA-Z]*$/);H(/^[a-zA-Z0-9]*$/);H(/^\d*(\.\d+)?$/);const ga=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var fa=H(ga),pa={$validator:fa,$message:"Value is not a valid email address",$params:{type:"email"}};function ma(a){return typeof a=="string"&&(a=a.trim()),ze(a)}var oe={$validator:ma,$message:"Value is required",$params:{type:"required"}};const ya=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;H(ya);H(/(^[0-9]*$)|(^-[0-9]+$)/);H(/^[-]?\d*(\.\d+)?$/);const va={class:"flex"},Ia=ge({__name:"contact",setup(a){const t=_("Kontakt"),s=ae({name:"",email:"",message:""}),e=k(()=>({email:{required:oe,email:pa},name:{required:oe},message:{required:oe}}));async function l(m){console.log(m.data)}return(m,c)=>{const h=Se,y=Re,u=Je,E=Xe,g=Me,N=ca,j=_e,U=Oe;return f(),S(U,null,{default:I(()=>[F(h,{title:r(t)},null,8,["title"]),F(j,null,{default:I(()=>[Q("div",va,[F(N,{state:r(s),schema:r(e),class:"space-y-4 w-fit",onSubmit:l},{default:I(()=>[F(u,{label:"Name",name:"name"},{default:I(()=>[F(y,{modelValue:r(s).name,"onUpdate:modelValue":c[0]||(c[0]=z=>r(s).name=z)},null,8,["modelValue"])]),_:1}),F(u,{label:"E-Mail",name:"email"},{default:I(()=>[F(y,{modelValue:r(s).email,"onUpdate:modelValue":c[1]||(c[1]=z=>r(s).email=z),type:"email"},null,8,["modelValue"])]),_:1}),F(u,{label:"Nachricht",name:"message"},{default:I(()=>[F(E,{modelValue:r(s).message,"onUpdate:modelValue":c[2]||(c[2]=z=>r(s).message=z)},null,8,["modelValue"])]),_:1}),F(g,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{Ia as default};
