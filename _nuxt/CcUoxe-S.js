import{_ as be}from"./OK1FO0Ey.js";import{_ as se}from"./Besd3XN_.js";import{I as Q,r as V,J as f,K as le,L as k,d as H,M as J,N as oe,o as G,O as ue,P as M,b as v,c as b,e as D,Q as A,R as S,n as z,g as I,f as T,S as de,U as X,V as q,F as Y,j as W,t as Z,W as he,X as $e,Y as ze,a as Ie,Z as we,$ as w,a0 as Se,C as Be,w as U}from"./Ci5pgT0Q.js";import{u as re}from"./3VcvSnbz.js";import{u as ke,a as Ce}from"./BzjqeJS8.js";import{u as Ve,_ as je}from"./DUDyR5h-.js";import{i as Oe,t as Ae}from"./BmiLHWM5.js";import{_ as x}from"./DlAUqK2U.js";import{u as fe}from"./BXfDPM1i.js";import{_ as Ne}from"./ChKPcXDu.js";import{_ as Ee}from"./ykAdclOj.js";import"./B85tvxaO.js";import"./CvPl5tTm.js";import"./JrXCv8cS.js";const Fe={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},me=(e,t)=>{const l=Q("form-events",void 0),a=Q("form-group",void 0),o=Q("form-inputs",void 0);a&&(e!=null&&e.id&&(a.inputId.value=e==null?void 0:e.id),o&&(o.value[a.name.value]=a.inputId.value));const r=V(!1);function i(n,s){l&&l.emit({type:n,path:s})}function m(){i("blur",a==null?void 0:a.name.value),r.value=!0}function y(){i("change",a==null?void 0:a.name.value)}const h=ke(()=>{(r.value||a!=null&&a.eagerValidation.value)&&i("input",a==null?void 0:a.name.value)},300);return{inputId:f(()=>(e==null?void 0:e.id)??(a==null?void 0:a.inputId.value)),name:f(()=>(e==null?void 0:e.name)??(a==null?void 0:a.name.value)),size:f(()=>{var s;const n=t.size[a==null?void 0:a.size.value]?a==null?void 0:a.size.value:null;return(e==null?void 0:e.size)??n??((s=t==null?void 0:t.default)==null?void 0:s.size)}),color:f(()=>{var n;return(n=a==null?void 0:a.error)!=null&&n.value?"red":e==null?void 0:e.color}),emitFormBlur:m,emitFormInput:h,emitFormChange:y}},C=le(k.ui.strategy,k.ui.input,Oe),qe=H({components:{UIcon:se},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>C.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(C.size).includes(e)}},color:{type:String,default:()=>C.default.color,validator(e){return[...k.ui.colors,...Object.keys(C.color)].includes(e)}},variant:{type:String,default:()=>C.default.variant,validator(e){return[...Object.keys(C.variant),...Object.values(C.color).flatMap(t=>Object.keys(t))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t,slots:l}){const{ui:a,attrs:o}=re("input",J(e,"ui"),C,J(e,"class")),{size:r,rounded:i}=Ve({ui:a,props:e}),{emitFormBlur:m,emitFormInput:y,size:h,color:n,inputId:s,name:p}=me(e,C),d=f(()=>r.value||h.value),$=V(oe({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),g=V(null),_=()=>{var c;e.autofocus&&((c=g.value)==null||c.focus())},L=c=>{$.value.trim&&(c=c.trim()),($.value.number||e.type==="number")&&(c=de(c)),t("update:modelValue",c),y()},ee=c=>{$.value.lazy||L(c.target.value)},u=c=>{if(e.type==="file"){const j=c.target.files;t("change",j)}else{const j=c.target.value;t("change",j),$.value.lazy&&L(j),$.value.trim&&(c.target.value=j.trim())}},B=c=>{m(),t("blur",c)};G(()=>{setTimeout(()=>{_()},e.autofocusDelay)});const E=f(()=>{var j,ie;const c=((ie=(j=a.value.color)==null?void 0:j[n.value])==null?void 0:ie[e.variant])||a.value.variant[e.variant];return ue(M(a.value.base,a.value.form,i.value,a.value.placeholder,e.type==="file"&&[a.value.file.base,a.value.file.padding[d.value]],a.value.size[d.value],e.padded?a.value.padding[d.value]:"p-0",c==null?void 0:c.replaceAll("{color}",n.value),(F.value||l.leading)&&a.value.leading.padding[d.value],(K.value||l.trailing)&&a.value.trailing.padding[d.value]),e.inputClass)}),F=f(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),K=f(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),ae=f(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),R=f(()=>e.loading&&!F.value?e.loadingIcon:e.trailingIcon||e.icon),ge=f(()=>M(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[d.value])),ve=f(()=>M(a.value.icon.base,n.value&&k.ui.colors.includes(n.value)&&a.value.icon.color.replaceAll("{color}",n.value),a.value.icon.size[d.value],e.loading&&a.value.icon.loading)),ye=f(()=>M(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[d.value])),pe=f(()=>M(a.value.icon.base,n.value&&k.ui.colors.includes(n.value)&&a.value.icon.color.replaceAll("{color}",n.value),a.value.icon.size[d.value],e.loading&&!F.value&&a.value.icon.loading));return{ui:a,attrs:o,name:p,inputId:s,input:g,isLeading:F,isTrailing:K,inputClass:E,leadingIconName:ae,leadingIconClass:ve,leadingWrapperIconClass:ge,trailingIconName:R,trailingIconClass:pe,trailingWrapperIconClass:ye,onInput:ee,onChange:u,onBlur:B}}}),Ue=["id","name","value","type","required","placeholder","disabled"];function Me(e,t,l,a,o,r){const i=se;return v(),b("div",{class:z(e.ui.wrapper)},[D("input",A({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.attrs,{onInput:t[0]||(t[0]=(...m)=>e.onInput&&e.onInput(...m)),onBlur:t[1]||(t[1]=(...m)=>e.onBlur&&e.onBlur(...m)),onChange:t[2]||(t[2]=(...m)=>e.onChange&&e.onChange(...m))}),null,16,Ue),S(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),b("span",{key:0,class:z(e.leadingWrapperIconClass)},[S(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[I(i,{name:e.leadingIconName,class:z(e.leadingIconClass)},null,8,["name","class"])])],2)):T("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),b("span",{key:1,class:z(e.trailingWrapperIconClass)},[S(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[I(i,{name:e.trailingIconName,class:z(e.trailingIconClass)},null,8,["name","class"])])],2)):T("",!0)],2)}const Te=x(qe,[["render",Me]]),te=le(k.ui.strategy,k.ui.formGroup,Fe),De=H({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(te.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:t,attrs:l}=re("formGroup",J(e,"ui"),te,J(e,"class")),a=Q("form-errors",null),o=f(()=>{var m,y;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(y=(m=a==null?void 0:a.value)==null?void 0:m.find(h=>h.path===e.name))==null?void 0:y.message}),r=f(()=>t.value.size[e.size??te.default.size]),i=V(fe("$GvO3PYpivC"));return X("form-group",{error:o,inputId:i,name:f(()=>e.name),size:f(()=>e.size),eagerValidation:f(()=>e.eagerValidation)}),{ui:t,attrs:l,inputId:i,size:r,error:o}}}),Je=["for"];function Re(e,t,l,a,o,r){return v(),b("div",A({class:e.ui.wrapper},e.attrs),[D("div",{class:z(e.ui.inner)},[e.label||e.$slots.label?(v(),b("div",{key:0,class:z([e.ui.label.wrapper,e.size])},[D("label",{for:e.inputId,class:z([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?S(e.$slots,"label",q(A({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(v(),b(Y,{key:1},[W(Z(e.label),1)],64))],10,Je),e.hint||e.$slots.hint?(v(),b("span",{key:0,class:z([e.ui.hint])},[e.$slots.hint?S(e.$slots,"hint",q(A({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(v(),b(Y,{key:1},[W(Z(e.hint),1)],64))],2)):T("",!0)],2)):T("",!0),e.description||e.$slots.description?(v(),b("p",{key:1,class:z([e.ui.description,e.size])},[e.$slots.description?S(e.$slots,"description",q(A({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(v(),b(Y,{key:1},[W(Z(e.description),1)],64))],2)):T("",!0)],2),D("div",{class:z([e.label?e.ui.container:""])},[S(e.$slots,"default",q(he({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(v(),b("p",{key:0,class:z([e.ui.error,e.size])},[e.$slots.error?S(e.$slots,"error",q(A({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(v(),b(Y,{key:1},[W(Z(e.error),1)],64))],2)):e.help||e.$slots.help?(v(),b("p",{key:1,class:z([e.ui.help,e.size])},[e.$slots.help?S(e.$slots,"help",q(A({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(v(),b(Y,{key:1},[W(Z(e.help),1)],64))],2)):T("",!0)],2)],16)}const Ye=x(De,[["render",Re]]),O=le(k.ui.strategy,k.ui.textarea,Ae),We=H({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(O.size).includes(e)}},color:{type:String,default:()=>O.default.color,validator(e){return[...k.ui.colors,...Object.keys(O.color)].includes(e)}},variant:{type:String,default:()=>O.default.variant,validator(e){return[...Object.keys(O.variant),...Object.values(O.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:l,attrs:a}=re("textarea",J(e,"ui"),O,J(e,"class")),{emitFormBlur:o,emitFormInput:r,inputId:i,color:m,size:y,name:h}=me(e,O),n=V(oe({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),s=V(null),p=()=>{var u;e.autofocus&&((u=s.value)==null||u.focus())},d=()=>{if(e.autoresize){if(!s.value)return;s.value.rows=e.rows;const u=window.getComputedStyle(s.value),B=parseInt(u.paddingTop),E=parseInt(u.paddingBottom),F=B+E,K=parseInt(u.lineHeight),{scrollHeight:ae}=s.value,R=(ae-F)/K;R>e.rows&&(s.value.rows=e.maxrows?Math.min(R,e.maxrows):R)}},$=u=>{n.value.trim&&(u=u.trim()),n.value.number&&(u=de(u)),t("update:modelValue",u),r()},g=u=>{d(),n.value.lazy||$(u.target.value)},_=u=>{const B=u.target.value;t("change",B),n.value.lazy&&$(B),n.value.trim&&(u.target.value=B.trim())},L=u=>{t("blur",u),o()};G(()=>{setTimeout(()=>{p()},e.autofocusDelay)}),$e(()=>e.modelValue,()=>{ze(d)}),G(()=>{setTimeout(()=>{p(),d()},100)});const ee=f(()=>{var B,E;const u=((E=(B=l.value.color)==null?void 0:B[m.value])==null?void 0:E[e.variant])||l.value.variant[e.variant];return ue(M(l.value.base,l.value.form,l.value.rounded,l.value.placeholder,l.value.size[y.value],e.padded?l.value.padding[y.value]:"p-0",u==null?void 0:u.replaceAll("{color}",m.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:l,attrs:a,name:h,inputId:i,textarea:s,textareaClass:ee,onInput:g,onChange:_,onBlur:L}}}),Ze=["id","value","name","rows","required","disabled","placeholder"];function He(e,t,l,a,o,r){return v(),b("div",{class:z(e.ui.wrapper)},[D("textarea",A({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:t[1]||(t[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onChange:t[2]||(t[2]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,Ze),S(e.$slots,"default")],2)}const Le=x(We,[["render",He]]);class P extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,P.prototype)}}const Ke=H({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:t,emit:l}){const a=fe("$2LO7wnT8q9"),o=Ce(`form-${a}`);G(()=>{o.on(async n=>{var s;n.type!=="submit"&&((s=e.validateOn)!=null&&s.includes(n.type))&&await y(n.path,{silent:!0})})}),Ie(()=>{o.reset()});const r=V([]);X("form-errors",r),X("form-events",o);const i=V({});X("form-inputs",i);async function m(){let n=await e.validate(e.state);if(e.schema)if(Pe(e.schema))n=n.concat(await xe(e.state,e.schema));else if(Qe(e.schema))n=n.concat(await Ge(e.state,e.schema));else if(_e(e.schema))n=n.concat(await aa(e.state,e.schema));else if(ta(e.schema))n=n.concat(await na(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return n}async function y(n,s={silent:!1}){let p=n;if(n&&!Array.isArray(n)&&(p=[n]),p){const d=r.value.filter(g=>!p.includes(g.path)),$=(await m()).filter(g=>p.includes(g.path));r.value=d.concat($)}else r.value=await m();if(r.value.length>0){if(s.silent)return!1;throw new P(`Form validation failed: ${JSON.stringify(r.value,null,2)}`)}return e.state}async function h(n){var p;const s=n;try{(p=e.validateOn)!=null&&p.includes("submit")&&await y();const d={...s,data:e.state};l("submit",d)}catch(d){if(!(d instanceof P))throw d;const $={...s,errors:r.value.map(g=>({...g,id:i.value[g.path]}))};l("error",$)}}return t({validate:y,errors:r,setErrors(n,s){r.value=n,s?r.value=r.value.filter(p=>p.path!==s).concat(n):r.value=n},async submit(){await h(new Event("submit"))},getErrors(n){return n?r.value.filter(s=>s.path===n):r.value},clear(n){n?r.value=r.value.filter(s=>s.path!==n):r.value=[]}}),{onSubmit:h}}});function Qe(e){return e.validate&&e.__isYupSchema__}function Xe(e){return e.inner!==void 0}async function Ge(e,t){try{return await t.validate(e,{abortEarly:!1}),[]}catch(l){if(Xe(l))return l.inner.map(a=>({path:a.path??"",message:a.message}));throw l}}function Pe(e){return e.parse!==void 0}async function xe(e,t){const l=await t.safeParseAsync(e);return l.success===!1?l.error.issues.map(a=>({path:a.path.join("."),message:a.message})):[]}function _e(e){return e.validateAsync!==void 0&&e.id!==void 0}function ea(e){return e.isJoi===!0}async function aa(e,t){try{return await t.validateAsync(e,{abortEarly:!1}),[]}catch(l){if(ea(l))return l.details.map(a=>({path:a.path.join("."),message:a.message}));throw l}}function ta(e){return e._parse!==void 0}async function na(e,t){const l=await t._parse(e);return l.issues?l.issues.map(a=>{var o;return{path:((o=a.path)==null?void 0:o.map(r=>r.key).join("."))||"",message:a.message}}):[]}function la(e,t,l,a,o,r){return v(),b("form",{onSubmit:t[0]||(t[0]=we((...i)=>e.onSubmit&&e.onSubmit(...i),["prevent"]))},[S(e.$slots,"default")],32)}const ra=x(Ke,[["render",la]]),ce=e=>{if(e=w(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let t in e)return!0;return!1}return!!String(e).length};function N(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return a=>(a=w(a),!ce(a)||t.every(o=>(o.lastIndex=0,o.test(a))))}N(/^[a-zA-Z]*$/);N(/^[a-zA-Z0-9]*$/);N(/^\d*(\.\d+)?$/);const ia=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var sa=N(ia),oa={$validator:sa,$message:"Value is not a valid email address",$params:{type:"email"}};function ua(e){return typeof e=="string"&&(e=e.trim()),ce(e)}var ne={$validator:ua,$message:"Value is required",$params:{type:"required"}};const da=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;N(da);N(/(^[0-9]*$)|(^-[0-9]+$)/);N(/^[-]?\d*(\.\d+)?$/);const fa={class:"flex"},ka=H({__name:"contact",setup(e){const t=V("Kontakt"),l=Se({name:"",email:"",message:""}),a=f(()=>({email:{required:ne,email:oa},name:{required:ne},message:{required:ne}}));async function o(r){console.log(r.data)}return(r,i)=>{const m=be,y=Te,h=Ye,n=Le,s=je,p=ra,d=Ne,$=Ee;return v(),Be($,null,{default:U(()=>[I(m,{title:w(t)},null,8,["title"]),I(d,null,{default:U(()=>[D("div",fa,[I(p,{state:w(l),schema:w(a),class:"space-y-4 w-fit",onSubmit:o},{default:U(()=>[I(h,{label:"Name",name:"name"},{default:U(()=>[I(y,{modelValue:w(l).name,"onUpdate:modelValue":i[0]||(i[0]=g=>w(l).name=g)},null,8,["modelValue"])]),_:1}),I(h,{label:"E-Mail",name:"email"},{default:U(()=>[I(y,{modelValue:w(l).email,"onUpdate:modelValue":i[1]||(i[1]=g=>w(l).email=g),type:"email"},null,8,["modelValue"])]),_:1}),I(h,{label:"Nachricht",name:"message"},{default:U(()=>[I(n,{modelValue:w(l).message,"onUpdate:modelValue":i[2]||(i[2]=g=>w(l).message=g)},null,8,["modelValue"])]),_:1}),I(s,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])])]),_:1})]),_:1})}}});export{ka as default};
