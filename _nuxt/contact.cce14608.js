import{_ as se}from"./PageHeader.vue.181fff24.js";import{_ as Q}from"./Icon.e91a3538.js";import{E as U,r as k,o as X,G as c,H as G,I as w,d as R,J as D,K as j,b as m,c as g,e as W,L as S,M as $,n as y,g as b,f as C,N as J,O as E,F as V,A,t as N,P as oe,Q as ue,R as z,S as de,D as ce,w as F}from"./entry.d11b89e7.js";import{i as fe,t as me,f as ge}from"./ui.config.fb005057.js";import{u as P}from"./useUI.178dba5f.js";import{u as ve,a as ye}from"./index.6bba5fce.js";import{_ as Y}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as pe}from"./Button.16e9782f.js";import{_ as he}from"./PageBody.vue.78a2e5e3.js";import{_ as be}from"./Page.vue.3886c1e3.js";import"./nuxt-link.6bfe2433.js";import"./index.344f9f74.js";const $e=(e,n)=>{const l=U("form-events",void 0),a=U("form-group",void 0),i=U("form-inputs",void 0),d=k(e==null?void 0:e.id);X(()=>{d.value=(e==null?void 0:e.id)??(a==null?void 0:a.inputId.value),a&&(a.inputId.value=d.value,i&&(i.value[a.name.value]=d))});const s=k(!1);function r(u,v){l&&l.emit({type:u,path:v})}function f(){r("blur",a==null?void 0:a.name.value),s.value=!0}function t(){r("change",a==null?void 0:a.name.value)}const o=ve(()=>{s.value&&r("input",a==null?void 0:a.name.value)},300);return{inputId:d,name:c(()=>(e==null?void 0:e.name)??(a==null?void 0:a.name.value)),size:c(()=>{var v;const u=n.size[a==null?void 0:a.size.value]?a==null?void 0:a.size.value:null;return(e==null?void 0:e.size)??u??((v=n==null?void 0:n.default)==null?void 0:v.size)}),color:c(()=>{var u;return(u=a==null?void 0:a.error)!=null&&u.value?"red":e==null?void 0:e.color}),emitFormBlur:f,emitFormInput:o,emitFormChange:t}},I=G(w.ui.strategy,w.ui.input,fe),Ie=R({components:{UIcon:Q},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>I.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(I.size).includes(e)}},color:{type:String,default:()=>I.default.color,validator(e){return[...w.ui.colors,...Object.keys(I.color)].includes(e)}},variant:{type:String,default:()=>I.default.variant,validator(e){return[...Object.keys(I.variant),...Object.values(I.color).flatMap(n=>Object.keys(n))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","blur"],setup(e,{emit:n,slots:l}){const{ui:a,attrs:i}=P("input",D(e,"ui"),I,D(e,"class")),{emitFormBlur:d,emitFormInput:s,size:r,color:f,inputId:t,name:o}=$e(e,I),u=k(null),v=()=>{var h;e.autofocus&&((h=u.value)==null||h.focus())},p=h=>{n("update:modelValue",h.target.value),s()},O=h=>{d(),n("blur",h)};X(()=>{setTimeout(()=>{v()},e.autofocusDelay)});const ee=c(()=>{var L,H;const h=((H=(L=a.value.color)==null?void 0:L[f.value])==null?void 0:H[e.variant])||a.value.variant[e.variant];return me(j(a.value.base,a.value.rounded,a.value.placeholder,a.value.size[r.value],e.padded?a.value.padding[r.value]:"p-0",h==null?void 0:h.replaceAll("{color}",f.value),(q.value||l.leading)&&a.value.leading.padding[r.value],(Z.value||l.trailing)&&a.value.trailing.padding[r.value]),e.inputClass)}),q=c(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),Z=c(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),ae=c(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),ne=c(()=>e.loading&&!q.value?e.loadingIcon:e.trailingIcon||e.icon),te=c(()=>j(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[r.value])),le=c(()=>j(a.value.icon.base,w.ui.colors.includes(f.value)&&a.value.icon.color.replaceAll("{color}",f.value),a.value.icon.size[r.value],e.loading&&"animate-spin")),ie=c(()=>j(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[r.value])),re=c(()=>j(a.value.icon.base,w.ui.colors.includes(f.value)&&a.value.icon.color.replaceAll("{color}",f.value),a.value.icon.size[r.value],e.loading&&!q.value&&"animate-spin"));return{ui:a,attrs:i,name:o,inputId:t,input:u,isLeading:q,isTrailing:Z,inputClass:ee,leadingIconName:ae,leadingIconClass:le,leadingWrapperIconClass:te,trailingIconName:ne,trailingIconClass:re,trailingWrapperIconClass:ie,onInput:p,onBlur:O}}}),ze=["id","name","value","type","required","placeholder","disabled"];function Se(e,n,l,a,i,d){const s=Q;return m(),g("div",{class:y(e.ui.wrapper)},[W("input",S({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.attrs,{onInput:n[0]||(n[0]=(...r)=>e.onInput&&e.onInput(...r)),onBlur:n[1]||(n[1]=(...r)=>e.onBlur&&e.onBlur(...r))}),null,16,ze),$(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(m(),g("span",{key:0,class:y(e.leadingWrapperIconClass)},[$(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[b(s,{name:e.leadingIconName,class:y(e.leadingIconClass)},null,8,["name","class"])])],2)):C("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(m(),g("span",{key:1,class:y(e.trailingWrapperIconClass)},[$(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[b(s,{name:e.trailingIconName,class:y(e.trailingIconClass)},null,8,["name","class"])])],2)):C("",!0)],2)}const we=Y(Ie,[["render",Se]]);let ke=0;function _(){return`nuid-${ke++}`}const T=G(w.ui.strategy,w.ui.formGroup,ge),Be=R({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator(e){return Object.keys(T.size).includes(e)}},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:n,attrs:l}=P("formGroup",D(e,"ui"),T,D(e,"class")),a=U("form-errors",null),i=c(()=>{var r,f;return e.error&&typeof e.error=="string"||typeof e.error=="boolean"?e.error:(f=(r=a==null?void 0:a.value)==null?void 0:r.find(t=>t.path===e.name))==null?void 0:f.message}),d=c(()=>n.value.size[e.size??T.default.size]),s=k(_());return J("form-group",{error:i,inputId:s,name:c(()=>e.name),size:c(()=>e.size)}),{ui:n,attrs:l,inputId:s,size:d,error:i}}}),Ee=["for"];function Ae(e,n,l,a,i,d){return m(),g("div",S({class:e.ui.wrapper},e.attrs),[e.label||e.$slots.label?(m(),g("div",{key:0,class:y([e.ui.label.wrapper,e.size])},[W("label",{for:e.inputId,class:y([e.ui.label.base,e.required?e.ui.label.required:""])},[e.$slots.label?$(e.$slots,"label",E(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),g(V,{key:1},[A(N(e.label),1)],64))],10,Ee),e.hint||e.$slots.hint?(m(),g("span",{key:0,class:y([e.ui.hint])},[e.$slots.hint?$(e.$slots,"hint",E(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),g(V,{key:1},[A(N(e.hint),1)],64))],2)):C("",!0)],2)):C("",!0),e.description||e.$slots.description?(m(),g("p",{key:1,class:y([e.ui.description,e.size])},[e.$slots.description?$(e.$slots,"description",E(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),g(V,{key:1},[A(N(e.description),1)],64))],2)):C("",!0),W("div",{class:y([e.label?e.ui.container:""])},[$(e.$slots,"default",E(oe({error:e.error}))),typeof e.error=="string"&&e.error||e.$slots.error?(m(),g("p",{key:0,class:y([e.ui.error,e.size])},[e.$slots.error?$(e.$slots,"error",E(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),g(V,{key:1},[A(N(e.error),1)],64))],2)):e.help||e.$slots.help?(m(),g("p",{key:1,class:y([e.ui.help,e.size])},[e.$slots.help?$(e.$slots,"help",E(S({key:0},{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help}))):(m(),g(V,{key:1},[A(N(e.help),1)],64))],2)):C("",!0)],2)],16)}const Ce=Y(Be,[["render",Ae]]);class M extends Error{constructor(n){super(n),this.message=n,Object.setPrototypeOf(this,M.prototype)}}const Oe=R({props:{schema:{type:Object,default:void 0},state:{type:Object,required:!0},validate:{type:Function,default:()=>[]},validateOn:{type:Array,default:()=>["blur","input","change","submit"]}},emits:["submit","error"],setup(e,{expose:n,emit:l}){const a=ye(`form-${_()}`);a.on(async t=>{var o;t.type!=="submit"&&((o=e.validateOn)!=null&&o.includes(t.type))&&await r(t.path,{silent:!0})});const i=k([]);J("form-errors",i),J("form-events",a);const d=k({});J("form-inputs",d);async function s(){let t=await e.validate(e.state);if(e.schema)if(Fe(e.schema))t=t.concat(await qe(e.state,e.schema));else if(je(e.schema))t=t.concat(await Ne(e.state,e.schema));else if(Ue(e.schema))t=t.concat(await De(e.state,e.schema));else if(Me(e.schema))t=t.concat(await Re(e.state,e.schema));else throw new Error("Form validation failed: Unsupported form schema");return t}async function r(t,o={silent:!1}){if(t){const u=i.value.filter(p=>p.path!==t),v=(await s()).filter(p=>p.path===t);i.value=u.concat(v)}else i.value=await s();if(!o.silent&&i.value.length>0)throw new M(`Form validation failed: ${JSON.stringify(i.value,null,2)}`);return e.state}async function f(t){var o;try{(o=e.validateOn)!=null&&o.includes("submit")&&await r();const u={...t,data:e.state};l("submit",u)}catch(u){if(!(u instanceof M))throw u;const v={...t,errors:i.value.map(p=>({...p,id:d.value[p.path]}))};l("error",v)}}return n({validate:r,errors:i,setErrors(t,o){i.value=t,o?i.value=i.value.filter(u=>u.path!==o).concat(t):i.value=t},getErrors(t){return t?i.value.filter(o=>o.path===t):i.value},clear(t){t?i.value=i.value.filter(o=>o.path===t):i.value=[]}}),{onSubmit:f}}});function je(e){return e.validate&&e.__isYupSchema__}function Ve(e){return e.inner!==void 0}async function Ne(e,n){try{return await n.validate(e,{abortEarly:!1}),[]}catch(l){if(Ve(l))return l.inner.map(a=>({path:a.path??"",message:a.message}));throw l}}function Fe(e){return e.parse!==void 0}async function qe(e,n){const l=await n.safeParseAsync(e);return l.success===!1?l.error.issues.map(a=>({path:a.path.join("."),message:a.message})):[]}function Ue(e){return e.validateAsync!==void 0&&e.id!==void 0}function Je(e){return e.isJoi===!0}async function De(e,n){try{return await n.validateAsync(e,{abortEarly:!1}),[]}catch(l){if(Je(l))return l.details.map(a=>({path:a.path.join("."),message:a.message}));throw l}}function Me(e){return e._parse!==void 0}async function Re(e,n){const l=await n._parse(e);return l.issues?l.issues.map(a=>({path:a.path.map(i=>i.key).join("."),message:a.message})):[]}function Te(e,n,l,a,i,d){return m(),g("form",{onSubmit:n[0]||(n[0]=ue((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"]))},[$(e.$slots,"default")],32)}const We=Y(Oe,[["render",Te]]),x=e=>{if(e=z(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let n in e)return!0;return!1}return!!String(e).length};function B(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];return a=>(a=z(a),!x(a)||n.every(i=>(i.lastIndex=0,i.test(a))))}B(/^[a-zA-Z]*$/);B(/^[a-zA-Z0-9]*$/);B(/^\d*(\.\d+)?$/);const Ye=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ze=B(Ye),Le={$validator:Ze,$message:"Value is not a valid email address",$params:{type:"email"}};function He(e){return typeof e=="string"&&(e=e.trim()),x(e)}var K={$validator:He,$message:"Value is required",$params:{type:"required"}};const Ke=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;B(Ke);B(/(^[0-9]*$)|(^-[0-9]+$)/);B(/^[-]?\d*(\.\d+)?$/);const ra=R({__name:"contact",setup(e){const n=k("Kontakt");var l=de({name:"",email:""});const a=c(()=>({email:{required:K,email:Le},name:{required:K}}));async function i(d){console.log(d.data)}return(d,s)=>{const r=se,f=we,t=Ce,o=pe,u=We,v=he,p=be;return m(),ce(p,null,{default:F(()=>[b(r,{title:z(n)},null,8,["title"]),b(v,null,{default:F(()=>[b(u,{state:z(l),schema:z(a),onSubmit:i},{default:F(()=>[b(t,{label:"Name",name:"name"},{default:F(()=>[b(f,{modelValue:z(l).name,"onUpdate:modelValue":s[0]||(s[0]=O=>z(l).name=O)},null,8,["modelValue"])]),_:1}),A("7 7 "),b(t,{label:"E-Mail",name:"email"},{default:F(()=>[b(f,{modelValue:z(l).email,"onUpdate:modelValue":s[1]||(s[1]=O=>z(l).email=O),type:"email"},null,8,["modelValue"])]),_:1}),b(o,{type:"submit",label:"Abschicken",icon:"i-mdi-email"})]),_:1},8,["state","schema"])]),_:1})]),_:1})}}});export{ra as default};
